!function(e){"use strict";var o=window.location.href,r=Number(o.match(/(customer\/)\d+\//)[0].split("/")[1]);setupCSRF(),Vue.filter("toFixed",function(e,o){return Number(Number(e).toFixed(o))}),document.body.addEventListener("touchstart",function(){}),o="/api/v1.1/recommendorder/customer/"+r;var t=(new Vue({el:"header",beforeCreate:function(){var e=getCookie("user_role");"salesman"===e?$(".home-info-nav-a").show():"customer"===e&&$(".home-setting").show()},methods:{back:function(){window.location.href="/recommendorder/salesman/customer-status"},setting:function(){window.location.href="/recommendorder/customer/"+r+"/setting"}}}),new Vue({el:"#profile",data:{phone:"",name:"",address:"",suborders:[],selectedItem:{},recommendUrl:"/recommendorder/customer/"+r+"/recommend",customerProfile:"/recommendorder/customer/"+r+"/profile",historyUrl:"/recommendorder/customer/"+r+"/history",dealerListUrl:"/recommendorder/customer/"+r+"/dealer-list"},methods:{init:function(){var e=this;$.ajax({url:o,type:"get",success:function(o){console.log(o),e.phone=o.phone,e.name=o.name,e.address=o.address,e.suborders=o.last_order,0===e.suborders.length?$(".blank").show():$(".home-con-mid").show(),$(".home-con-mid").on("click",".additional_order",function(){var o=$(this).parents(".home-store").index();console.log(o),e.additional_order(e.suborders[o].append_able,e.suborders[o].status,e.suborders[o].dealer_id)}),$(".home-con-mid").on("click",".again_purchase",function(){var o=$(this).parents(".home-store").index(),r=e.suborders[o].items;for(var t in r)e.addToSelectedItem(r[t]);e.confirmOrder()})}})},dealerUrl:function(e){return"/recommendorder/dealer/"+e+"/customer/"+r+"/add-item"},addToSelectedItem:function(e){var o=this;o.selectedItem[e.id]=parseInt(e.num)},confirmOrder:function(){var e="/api/v1.1/recommendorder/customer/"+r+"/cart",o=this;$.ajax({url:e,type:"post",data:o.selectedItem,success:function(){window.location.href="/recommendorder/customer/"+r+"/cart"}})},additional_order:function(e,o,t){1===o||2===o?e===!0?window.location.href="/recommendorder/dealer/"+t+"/customer/"+r+"/add-item":e===!1&&($(".additional_text").text("本次订单已超过10分钟啦，不能追加商品了，敬请谅解！"),$(".additional_order_model").show(),$(".know").on("click",function(){$(".additional_order_model").hide()})):0!==o&&3!==o||($(".additional_text").text("本次订单失败啦，不能追加商品了，敬请谅解！"),$(".additional_order_model").show(),$(".know").on("click",function(){$(".additional_order_model").hide()}))}}}));t.init(),$(".history").on("touchstart",function(){$(this).css("opacity","0.6")}),$(".history").on("touchend",function(){$(this).css("opacity","1")})}(window.cmApp=window.cmApp||{});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29tbWVuZG9yZGVyL2N1c3RvbWVyX3Byb2ZpbGUuanMiXSwibmFtZXMiOlsiY21BcHAiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjdXN0b21lcl9pZCIsIk51bWJlciIsIm1hdGNoIiwic3BsaXQiLCJzZXR1cENTUkYiLCJWdWUiLCJmaWx0ZXIiLCJudW0iLCJwcmVjaXNpb24iLCJ0b0ZpeGVkIiwiZG9jdW1lbnQiLCJib2R5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJpbmQiLCJlbCIsImJlZm9yZUNyZWF0ZSIsInVzZXJfcm9sZSIsImdldENvb2tpZSIsIiQiLCJzaG93IiwibWV0aG9kcyIsImJhY2siLCJzZXR0aW5nIiwiZGF0YSIsInBob25lIiwibmFtZSIsImFkZHJlc3MiLCJzdWJvcmRlcnMiLCJzZWxlY3RlZEl0ZW0iLCJyZWNvbW1lbmRVcmwiLCJjdXN0b21lclByb2ZpbGUiLCJoaXN0b3J5VXJsIiwiZGVhbGVyTGlzdFVybCIsImluaXQiLCJfdGhpcyIsInRoaXMiLCJhamF4IiwidHlwZSIsInN1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwibGFzdF9vcmRlciIsImxlbmd0aCIsIm9uIiwiYWRkX2luZGV4IiwicGFyZW50cyIsImluZGV4IiwiYWRkaXRpb25hbF9vcmRlciIsImFwcGVuZF9hYmxlIiwic3RhdHVzIiwiZGVhbGVyX2lkIiwiYWdhaW5faW5kZXgiLCJpdGVtcyIsIml0ZW0iLCJhZGRUb1NlbGVjdGVkSXRlbSIsImNvbmZpcm1PcmRlciIsImRlYWxlclVybCIsImRpZCIsImlkIiwicGFyc2VJbnQiLCJ0ZXh0IiwiaGlkZSIsImNzcyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBVUEsR0FFTixZQUVBLElBQUlDLEdBQU1DLE9BQU9DLFNBQVNDLEtBQ3RCQyxFQUFjQyxPQUFPTCxFQUFJTSxNQUFNLHFCQUFxQixHQUFHQyxNQUFNLEtBQUssR0FDdEVDLGFBQ0FDLElBQUlDLE9BQU8sVUFBVyxTQUFVQyxFQUFLQyxHQUNq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LEdBQUtvQixPQUNMZixFQUFFLFlBQVl5QixHQUFHLGFBQWEsV0FDMUJ6QixFQUFFaUIsTUFBTTJCLElBQUksVUFBVSxTQUUxQjVDLEVBQUUsWUFBWXlCLEdBQUcsV0FBVyxXQUN4QnpCLEVBQUVpQixNQUFNMkIsSUFBSSxVQUFVLFFBSXZCakUsT0FBT0YsTUFBUUUsT0FBT0YiLCJmaWxlIjoicmVjb21tZW5kb3JkZXIvY3VzdG9tZXJfcHJvZmlsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihjbUFwcCkge1xuXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgdmFyIGN1c3RvbWVyX2lkID0gTnVtYmVyKHVybC5tYXRjaCgvKGN1c3RvbWVyXFwvKVxcZCtcXC8vKVswXS5zcGxpdChcIi9cIilbMV0pO1xuICAgIHNldHVwQ1NSRigpO1xuICAgIFZ1ZS5maWx0ZXIoXCJ0b0ZpeGVkXCIsIGZ1bmN0aW9uIChudW0sIHByZWNpc2lvbikge1xuICAgICAgICByZXR1cm4gTnVtYmVyKE51bWJlcihudW0pLnRvRml4ZWQocHJlY2lzaW9uKSk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24gKCkge30pO1xuICAgIHVybCA9IFwiL2FwaS92MS4xL3JlY29tbWVuZG9yZGVyL2N1c3RvbWVyL1wiICsgY3VzdG9tZXJfaWQ7XG4gICAgdmFyIGhlYWRlclZ1ZSA9IG5ldyBWdWUoe1xuICAgICAgICBlbDogXCJoZWFkZXJcIixcbiAgICAgICAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIHVzZXJfcm9sZSA9IGdldENvb2tpZSgndXNlcl9yb2xlJyk7XG4gICAgICAgICAgICAvLyB0aGlzLmlzU2FsZXNtYW4gPSB1c2VyX3JvbGUgPT09IFwic2FsZXNtYW5cIjtcbiAgICAgICAgICAgIC8vIHRoaXMuaXNDdXN0b21lciA9IHVzZXJfcm9sZSA9PT0gXCJjdXN0b21lclwiO1xuICAgICAgICAgICAgaWYodXNlcl9yb2xlID09PSBcInNhbGVzbWFuXCIpe1xuICAgICAgICAgICAgICAgICQoJy5ob21lLWluZm8tbmF2LWEnKS5zaG93KCk7XG4gICAgICAgICAgICB9ZWxzZSBpZih1c2VyX3JvbGUgPT09IFwiY3VzdG9tZXJcIil7XG4gICAgICAgICAgICAgICAgJCgnLmhvbWUtc2V0dGluZycpLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kczoge1xuICAgICAgICAgICAgYmFjazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL3JlY29tbWVuZG9yZGVyL3NhbGVzbWFuL2N1c3RvbWVyLXN0YXR1c1wiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldHRpbmc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWY9Jy9yZWNvbW1lbmRvcmRlci9jdXN0b21lci8nICsgY3VzdG9tZXJfaWQgKyAnL3NldHRpbmcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgdmFyIGJpbmQgPSBuZXcgVnVlKHtcbiAgICAgICAgZWw6ICcjcHJvZmlsZScsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHBob25lOiAnJyxcbiAgICAgICAgICAgIG5hbWU6ICcnLFxuICAgICAgICAgICAgYWRkcmVzczogJycsXG4gICAgICAgICAgICBzdWJvcmRlcnM6IFtdLFxuICAgICAgICAgICAgc2VsZWN0ZWRJdGVtOnt9LFxuICAgICAgICAgICAgcmVjb21tZW5kVXJsOiBcIi9yZWNvbW1lbmRvcmRlci9jdXN0b21lci9cIiArIGN1c3RvbWVyX2lkICsgXCIvcmVjb21tZW5kXCIsXG4gICAgICAgICAgICBjdXN0b21lclByb2ZpbGU6IFwiL3JlY29tbWVuZG9yZGVyL2N1c3RvbWVyL1wiICsgY3VzdG9tZXJfaWQgKyBcIi9wcm9maWxlXCIsXG4gICAgICAgICAgICBoaXN0b3J5VXJsOiBcIi9yZWNvbW1lbmRvcmRlci9jdXN0b21lci9cIiArIGN1c3RvbWVyX2lkICsgXCIvaGlzdG9yeVwiLFxuICAgICAgICAgICAgZGVhbGVyTGlzdFVybCA6IFwiL3JlY29tbWVuZG9yZGVyL2N1c3RvbWVyL1wiICsgY3VzdG9tZXJfaWQgKyBcIi9kZWFsZXItbGlzdFwiXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICAgICdpbml0JzogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBob25lID0gZGF0YS5waG9uZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm5hbWUgPSBkYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRyZXNzID0gZGF0YS5hZGRyZXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3Vib3JkZXJzID0gZGF0YS5sYXN0X29yZGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoX3RoaXMuc3Vib3JkZXJzLmxlbmd0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmJsYW5rJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmhvbWUtY29uLW1pZCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5ob21lLWNvbi1taWQnKS5vbignY2xpY2snLCcuYWRkaXRpb25hbF9vcmRlcicsZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZF9pbmRleCA9ICQodGhpcykucGFyZW50cygnLmhvbWUtc3RvcmUnKS5pbmRleCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGFkZF9pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkaXRpb25hbF9vcmRlcihfdGhpcy5zdWJvcmRlcnNbYWRkX2luZGV4XS5hcHBlbmRfYWJsZSxfdGhpcy5zdWJvcmRlcnNbYWRkX2luZGV4XS5zdGF0dXMsX3RoaXMuc3Vib3JkZXJzW2FkZF9pbmRleF0uZGVhbGVyX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmhvbWUtY29uLW1pZCcpLm9uKCdjbGljaycsJy5hZ2Fpbl9wdXJjaGFzZScsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWdhaW5faW5kZXggPSAkKHRoaXMpLnBhcmVudHMoJy5ob21lLXN0b3JlJykuaW5kZXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBfdGhpcy5zdWJvcmRlcnNbYWdhaW5faW5kZXhdLml0ZW1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaXRlbSBpbiBpdGVtcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFRvU2VsZWN0ZWRJdGVtKGl0ZW1zW2l0ZW1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29uZmlybU9yZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlYWxlclVybDogZnVuY3Rpb24oZGlkKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCIvcmVjb21tZW5kb3JkZXIvZGVhbGVyL1wiICsgZGlkICsgXCIvY3VzdG9tZXIvXCIgKyBjdXN0b21lcl9pZCArIFwiL2FkZC1pdGVtXCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy/mt7vliqDllYblk4HmlbDmja5cbiAgICAgICAgICAgIGFkZFRvU2VsZWN0ZWRJdGVtOiBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2VsZWN0ZWRJdGVtW2l0ZW0uaWRdID0gcGFyc2VJbnQoaXRlbS5udW0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8v5re75Yqg5bm26Lez6L2s5Yiw6LSt54mp6L2m6K6i5Y2V6aG16Z2iXG4gICAgICAgICAgICBjb25maXJtT3JkZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gJy9hcGkvdjEuMS9yZWNvbW1lbmRvcmRlci9jdXN0b21lci8nICsgY3VzdG9tZXJfaWQgKyAnL2NhcnQnO1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb3N0JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogX3RoaXMuc2VsZWN0ZWRJdGVtLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL3JlY29tbWVuZG9yZGVyL2N1c3RvbWVyLycgKyBjdXN0b21lcl9pZCArICcvY2FydCc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvL+i/veWKoOiuouWNlVxuICAgICAgICAgICAgYWRkaXRpb25hbF9vcmRlcjogZnVuY3Rpb24oYXBwZW5kX2FibGUsc3RhdHVzLGRlYWxlcl9pZCkge1xuICAgICAgICAgICAgICAgIGlmKHN0YXR1cyA9PT0gMSB8fCBzdGF0dXMgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoYXBwZW5kX2FibGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvcmVjb21tZW5kb3JkZXIvZGVhbGVyL1wiICsgZGVhbGVyX2lkICsgXCIvY3VzdG9tZXIvXCIgKyBjdXN0b21lcl9pZCArIFwiL2FkZC1pdGVtXCI7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGFwcGVuZF9hYmxlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmFkZGl0aW9uYWxfdGV4dCcpLnRleHQoJ+acrOasoeiuouWNleW3sui2hei/hzEw5YiG6ZKf5ZWm77yM5LiN6IO96L+95Yqg5ZWG5ZOB5LqG77yM5pWs6K+36LCF6Kej77yBJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWRkaXRpb25hbF9vcmRlcl9tb2RlbCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5rbm93Jykub24oJ2NsaWNrJyxmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWRkaXRpb25hbF9vcmRlcl9tb2RlbCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoc3RhdHVzID09PSAwIHx8IHN0YXR1cyA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAkKCcuYWRkaXRpb25hbF90ZXh0JykudGV4dCgn5pys5qyh6K6i5Y2V5aSx6LSl5ZWm77yM5LiN6IO96L+95Yqg5ZWG5ZOB5LqG77yM5pWs6K+36LCF6Kej77yBJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5hZGRpdGlvbmFsX29yZGVyX21vZGVsJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAkKCcua25vdycpLm9uKCdjbGljaycsZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYWRkaXRpb25hbF9vcmRlcl9tb2RlbCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbmJpbmQuaW5pdCgpO1xuJCgnLmhpc3RvcnknKS5vbigndG91Y2hzdGFydCcsZnVuY3Rpb24oKSB7XG4gICAgJCh0aGlzKS5jc3MoJ29wYWNpdHknLCcwLjYnKTtcbn0pO1xuJCgnLmhpc3RvcnknKS5vbigndG91Y2hlbmQnLGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykuY3NzKCdvcGFjaXR5JywnMScpO1xufSk7XG5cblxufSkod2luZG93LmNtQXBwID0gd2luZG93LmNtQXBwIHx8IHt9KTtcbiJdfQ==
