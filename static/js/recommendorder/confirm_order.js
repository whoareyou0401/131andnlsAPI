!function(e){"use strict";var o=window.location.href;window.customer_id=Number(o.match(/(customer\/)\d+\//)[0].split("/")[1]),o="/api/v1.1/recommendorder/customer/"+window.customer_id+"/order",setupCSRF(),Vue.filter("toFixed",function(e,o){return Number(Number(e).toFixed(o))}),document.body.addEventListener("touchstart",function(){});var r=new Vue({el:"#order",data:{customer_name:"",phone:"",address:"",dealers:[],sum:0},methods:{init:function(){var e=this;$.ajax({url:o,type:"get",success:function(o){0===o.code&&(e.dealers=o.items,e.sum=o.sum)}}),$.ajax({url:"/api/v1.1/recommendorder/customer/"+window.customer_id,type:"get",success:function(o){0===o.code&&(e.customer_name=o.name,e.phone=o.phone,e.address=o.address)}})},dhref:function(e){return"/recommendorder/dealer/"+e+"/customer/"+window.customer_id+"/add-item"},commit:function(){$(".model").css("display","block"),console.log(this.dealers)},cancel:function(){$(".model").css("display","none")},commit_confirm:function(){var e={};if(0===this.dealers.length)return alert("无商品，请先在购物车添加商品!"),void(window.location.href="/recommendorder/customer/"+window.customer_id+"/dealer-list");for(var r=0;r<this.dealers.length;r++){if(this.dealers[r].sum<this.dealers[r].initial_price)return alert("在"+this.dealers[r].name+"的订单未达到起送金额!"),void(window.location.href="/recommendorder/customer/"+window.customer_id+"/cart");e[this.dealers[r].id]=this.dealers[r].postscript}$.ajax({url:o,type:"post",data:e,beforeSend:function(e,o){var r=getCookie("csrftoken");csrfSafeMethod(o.type)||this.crossDomain||e.setRequestHeader("X-CSRFToken",r),$(".model").hide(),$(".loading_con_mid").show()},success:function(e){if(console.log(e),$(".loading_con_mid").hide(),0===e.code){if(null!=window.printer)for(var o=0;o<e.tokens.length;o++)window.printer.printReceipt(e.tokens[o],"salesman");$(".order_success_model").show(),$(".order_know").on("click",function(){$(".order_success_model").hide(),window.location.href="/recommendorder/customer/"+window.customer_id+"/profile"})}else $(".order_failure_model").show(),$(".order_know").on("click",function(){$(".order_failure_model").hide(),window.location.href="/recommendorder/customer/"+window.customer_id+"/profile"})},error:function(e){$(".loading_con_mid").hide(),$(".order_failure_model").show(),$(".order_know").on("click",function(){$(".order_failure_model").hide(),window.location.href="/recommendorder/customer/"+window.customer_id+"/profile"})}})}}});r.init(),$(".home-info-nav-a1").click(function(){window.location.href="/recommendorder/customer/"+window.customer_id+"/cart"})}(window.cmApp=window.cmApp||{});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29tbWVuZG9yZGVyL2NvbmZpcm1fb3JkZXIuanMiXSwibmFtZXMiOlsiY21BcHAiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjdXN0b21lcl9pZCIsIk51bWJlciIsIm1hdGNoIiwic3BsaXQiLCJzZXR1cENTUkYiLCJWdWUiLCJmaWx0ZXIiLCJudW0iLCJwcmVjaXNpb24iLCJ0b0ZpeGVkIiwiZG9jdW1lbnQiLCJib2R5IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJpbmQiLCJlbCIsImRhdGEiLCJjdXN0b21lcl9uYW1lIiwicGhvbmUiLCJhZGRyZXNzIiwiZGVhbGVycyIsInN1bSIsIm1ldGhvZHMiLCJpbml0IiwiX3RoaXMiLCJ0aGlzIiwiJCIsImFqYXgiLCJ0eXBlIiwic3VjY2VzcyIsImNvZGUiLCJpdGVtcyIsIm5hbWUiLCJkaHJlZiIsImRpZCIsImNvbW1pdCIsImNzcyIsImNvbnNvbGUiLCJsb2ciLCJjYW5jZWwiLCJjb21taXRfY29uZmlybSIsImRhdGFUb1NlbmQiLCJsZW5ndGgiLCJhbGVydCIsImkiLCJpbml0aWFsX3ByaWNlIiwiaWQiLCJwb3N0c2NyaXB0IiwiYmVmb3JlU2VuZCIsInhociIsInNldHRpbmdzIiwiY3NyZnRva2VuIiwiZ2V0Q29va2llIiwiY3NyZlNhZmVNZXRob2QiLCJjcm9zc0RvbWFpbiIsInNldFJlcXVlc3RIZWFkZXIiLCJoaWRlIiwic2hvdyIsInByaW50ZXIiLCJ0b2tlbnMiLCJwcmludFJlY2VpcHQiLCJvbiIsImVycm9yIiwiY2xpY2siXSwibWFwcGluZ3MiOiJDQUFBLFNBQVVBLEdBRU4sWUFDQSxJQUFJQyxHQUFNQyxPQUFPQyxTQUFTQyxJQUUxQkYsUUFBT0csWUFBY0MsT0FBT0wsRUFBSU0sTUFBTSxxQkFBcUIsR0FBR0MsTUFBTSxLQUFLLElBRXpFUCxFQUFNLHFDQUF1Q0MsT0FBT0csWUFBYyxTQUVsRUksWUFFQUMsSUFBSUMsT0FBTyxVQUFXLFNBQVVDLEVBQUtDLEdBQ2pDLE1B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S0FBTyw0QkFBOEJGLE9BQU9HLFlBQWMsbUJBU3RHYSxHQUFLUyxPQUNMRyxFQUFFLHFCQUFxQnFDLE1BQU0sV0FDekJqRSxPQUFPQyxTQUFTQyxLQUFLLDRCQUE0QkYsT0FBT0csWUFBWSxXQUdyRUgsT0FBT0YsTUFBUUUsT0FBT0YiLCJmaWxlIjoicmVjb21tZW5kb3JkZXIvY29uZmlybV9vcmRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihjbUFwcCkge1xuXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuXG4gICAgd2luZG93LmN1c3RvbWVyX2lkID0gTnVtYmVyKHVybC5tYXRjaCgvKGN1c3RvbWVyXFwvKVxcZCtcXC8vKVswXS5zcGxpdCgnLycpWzFdKTtcblxuICAgIHVybCA9ICcvYXBpL3YxLjEvcmVjb21tZW5kb3JkZXIvY3VzdG9tZXIvJyArIHdpbmRvdy5jdXN0b21lcl9pZCArICcvb3JkZXInO1xuXG4gICAgc2V0dXBDU1JGKCk7XG5cbiAgICBWdWUuZmlsdGVyKCd0b0ZpeGVkJywgZnVuY3Rpb24gKG51bSwgcHJlY2lzaW9uKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIoTnVtYmVyKG51bSkudG9GaXhlZChwcmVjaXNpb24pKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoKSB7fSk7XG4gICAgdmFyIGJpbmQgPSBuZXcgVnVlKHtcbiAgICAgICAgZWw6ICcjb3JkZXInLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBjdXN0b21lcl9uYW1lOiBcIlwiLFxuICAgICAgICAgICAgcGhvbmU6IFwiXCIsXG4gICAgICAgICAgICBhZGRyZXNzOiBcIlwiLFxuICAgICAgICAgICAgZGVhbGVyczogW10sXG4gICAgICAgICAgICBzdW06IDBcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kczoge1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZWFsZXJzID0gZGF0YS5pdGVtcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdW0gPSBkYXRhLnN1bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJy9hcGkvdjEuMS9yZWNvbW1lbmRvcmRlci9jdXN0b21lci8nICsgd2luZG93LmN1c3RvbWVyX2lkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jdXN0b21lcl9uYW1lID0gZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnBob25lID0gZGF0YS5waG9uZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRyZXNzID0gZGF0YS5hZGRyZXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGhyZWY6IGZ1bmN0aW9uKGRpZCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiL3JlY29tbWVuZG9yZGVyL2RlYWxlci9cIiArIGRpZCArIFwiL2N1c3RvbWVyL1wiICsgd2luZG93LmN1c3RvbWVyX2lkICtcIi9hZGQtaXRlbVwiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbW1pdDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkKFwiLm1vZGVsXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRlYWxlcnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhbmNlbDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkKFwiLm1vZGVsXCIpLmNzcyhcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbW1pdF9jb25maXJtOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBkYXRhVG9TZW5kID0ge307XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVhbGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLml6DllYblk4HvvIzor7flhYjlnKjotK3nianovabmt7vliqDllYblk4EhXCIpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL3JlY29tbWVuZG9yZGVyL2N1c3RvbWVyL1wiICsgd2luZG93LmN1c3RvbWVyX2lkICtcIi9kZWFsZXItbGlzdFwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuZGVhbGVycy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYWxlcnNbaV0uc3VtIDwgdGhpcy5kZWFsZXJzW2ldLmluaXRpYWxfcHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi5ZyoXCIgKyB0aGlzLmRlYWxlcnNbaV0ubmFtZSArIFwi55qE6K6i5Y2V5pyq6L6+5Yiw6LW36YCB6YeR6aKdIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvcmVjb21tZW5kb3JkZXIvY3VzdG9tZXIvXCIgKyB3aW5kb3cuY3VzdG9tZXJfaWQgK1wiL2NhcnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkYXRhVG9TZW5kW3RoaXMuZGVhbGVyc1tpXS5pZF0gPSB0aGlzLmRlYWxlcnNbaV0ucG9zdHNjcmlwdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhVG9TZW5kLFxuICAgICAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIsc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjc3JmdG9rZW4gPSBnZXRDb29raWUoJ2NzcmZ0b2tlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjc3JmU2FmZU1ldGhvZChzZXR0aW5ncy50eXBlKSAmJiAhdGhpcy5jcm9zc0RvbWFpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1DU1JGVG9rZW5cIiwgY3NyZnRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIubW9kZWxcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmxvYWRpbmdfY29uX21pZCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5sb2FkaW5nX2Nvbl9taWQnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LnByaW50ZXIgIT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBkYXRhLnRva2Vucy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucHJpbnRlci5wcmludFJlY2VpcHQoZGF0YS50b2tlbnNbaV0sIFwic2FsZXNtYW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcub3JkZXJfc3VjY2Vzc19tb2RlbCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcub3JkZXJfa25vdycpLm9uKCdjbGljaycsZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5vcmRlcl9zdWNjZXNzX21vZGVsJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL3JlY29tbWVuZG9yZGVyL2N1c3RvbWVyL1wiICsgd2luZG93LmN1c3RvbWVyX2lkICsgXCIvcHJvZmlsZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5vcmRlcl9mYWlsdXJlX21vZGVsJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5vcmRlcl9rbm93Jykub24oJ2NsaWNrJyxmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm9yZGVyX2ZhaWx1cmVfbW9kZWwnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvcmVjb21tZW5kb3JkZXIvY3VzdG9tZXIvXCIgKyB3aW5kb3cuY3VzdG9tZXJfaWQgKyBcIi9wcm9maWxlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5sb2FkaW5nX2Nvbl9taWQnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcub3JkZXJfZmFpbHVyZV9tb2RlbCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5vcmRlcl9rbm93Jykub24oJ2NsaWNrJyxmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcub3JkZXJfZmFpbHVyZV9tb2RlbCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL3JlY29tbWVuZG9yZGVyL2N1c3RvbWVyL1wiICsgd2luZG93LmN1c3RvbWVyX2lkICsgXCIvcHJvZmlsZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfSk7XG5cbmJpbmQuaW5pdCgpO1xuJCgnLmhvbWUtaW5mby1uYXYtYTEnKS5jbGljayhmdW5jdGlvbigpe1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmPVwiL3JlY29tbWVuZG9yZGVyL2N1c3RvbWVyL1wiK3dpbmRvdy5jdXN0b21lcl9pZCtcIi9jYXJ0XCI7XG59KTtcblxufSkod2luZG93LmNtQXBwID0gd2luZG93LmNtQXBwIHx8IHt9KTsiXX0=
