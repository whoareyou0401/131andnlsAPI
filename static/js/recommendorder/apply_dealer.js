!function(t){"use strict";setupCSRF();var e,o;e=new AMap.Map("null",{}),e.plugin("AMap.Geolocation",function(){o=new AMap.Geolocation({enableHighAccuracy:!0,convert:!0})});var n=window.location.href,a=Number(n.match(/(customer\/)\d+\//)[0].split("/")[1]),r=Number(n.match(/(dealer\/)\d+\//)[0].split("/")[1]);Vue.filter("toFixed",function(t,e){return Number(Number(t).toFixed(e))}),n="/api/v1.1/recommendorder/customer/"+a+"/dealer/"+r+"/apply-dealer";var s=new Vue({el:".con",data:{address:"",customerName:"",phone:"",contact:"",postscript:"",lat:-1,lng:-1},methods:{init:function(){var t=this;$.ajax({url:"/api/v1.1/recommendorder/customer/"+a,type:"get",success:function(e){t.phone=e.phone,t.address=e.address,t.contact=e.contact,t.getLocation()}})},getLocation:function(){var t=this;o.getCurrentPosition(function(e,o){"complete"===e?(console.log(o),t.address=o.formattedAddress,t.lat=o.position.lat,t.lng=o.position.lng,console.log(o.formattedAddress)):alert("定位失败，请刷新后再试。")})},submit:function(){if(""==$("#store_name").val()||""==$("#tel").val()||""==$("#tel_people").val())return void alert("输入内容不能为空！");var t={address:this.address,name:this.customerName,phone:this.phone,contact:this.contact,lat:this.lat,lng:this.lng,postscript:this.postscript};$.ajax({url:n,type:"post",data:t,success:function(t){window.location.href="/recommendorder/customer/"+a+"/dealer/"+r+"/apply-dealer-status"}})}}});s.init()}(window.cmApp=window.cmApp||{});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29tbWVuZG9yZGVyL2FwcGx5X2RlYWxlci5qcyJdLCJuYW1lcyI6WyJjbUFwcCIsInNldHVwQ1NSRiIsIm1hcCIsImdlb2xvY2F0aW9uIiwiQU1hcCIsIk1hcCIsInBsdWdpbiIsIkdlb2xvY2F0aW9uIiwiZW5hYmxlSGlnaEFjY3VyYWN5IiwiY29udmVydCIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImN1c3RvbWVyX2lkIiwiTnVtYmVyIiwibWF0Y2giLCJzcGxpdCIsImRlYWxlcl9pZCIsIlZ1ZSIsImZpbHRlciIsIm51bSIsInByZWNpc2lvbiIsInRvRml4ZWQiLCJiaW5kIiwiZWwiLCJkYXRhIiwiYWRkcmVzcyIsImN1c3RvbWVyTmFtZSIsInBob25lIiwiY29udGFjdCIsInBvc3RzY3JpcHQiLCJsYXQiLCJsbmciLCJtZXRob2RzIiwiaW5pdCIsIl90aGlzIiwidGhpcyIsIiQiLCJhamF4IiwidHlwZSIsInN1Y2Nlc3MiLCJnZXRMb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInN0YXR1cyIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciLCJmb3JtYXR0ZWRBZGRyZXNzIiwicG9zaXRpb24iLCJhbGVydCIsInN1Ym1pdCIsInZhbCIsImRhdGFUb1NlbmQiLCJuYW1lIl0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFVQSxHQUVOLFlBQ0FDLFlBRUEsSUFBSUMsR0FBS0MsQ0FDVEQsR0FBTSxHQUFJRSxNQUFLQyxJQUFJLFdBQ25CSCxFQUFJSSxPQUFPLG1CQUFvQixXQUMzQkgsRUFBYyxHQUFJQyxNQUFLRyxhQUNuQkMsb0JBQW9CLEVBQ3BCQyxTQUFTLEtBSWpCLElBQUlDLEdBQU1DLE9BQU9DLFNBQVNDLEtBQ3RCQyxFQUFjQyxPQUFPTCxFQUFJTSxNQUFNLHFCQUFxQixHQUFHQyxNQUFNLEtBQUssSUFDbEVDLEVBQVlILE9BQU9MLEVBQUlNLE1BQU0sbUJBQW1CLEdBQUdDLE1BQU0sS0FBSyxHQUdsRUUsS0FBSUMsT0FBTyxVQUFXLFNBQVNDLEVBQUtDLEdBQ2hDLE1BQU9QLFFBQU9BLE9BQU9NLEdBQUtFLFFBQVFELE1BR3RDWixFQUFNLHFDQUF1Q0ksRUFBYyxXQUFhSSxFQUFZLGVBRXBGLElBQUlNLEdBQU8sR0FBSUwsTUFDWE0sR0FBSSxPQUNKQyxNQUNJQyxRQUFTLEdBQ1RDLGFBQWMsR0FDZEMsTUFBTyxHQUNQQyxRQUFTLEdBQ1RDLFdBQVksR0FDWkMsT0FDQUMsUUFFSkMsU0FDSUMsS0FBTSxXQUNGLEdBQUlDLEdBQVFDLElBQ1pDLEdBQUVDLE1BQ0U3QixJQUFLLHFDQUF1Q0ksRUFDNUMwQixLQUFNLE1BQ05DLFFBQVMsU0FBU2YsR0FDZFUsRUFBTVAsTUFBUUgsRUFBS0csTUFFbkJPLEVBQU1ULFFBQVVELEVBQUtDLFFBQ3JCUyxFQUFNTixRQUFVSixFQUFLSSxRQUNyQk0sRUFBTU0sa0JBSWxCQSxZQUFhLFdBQ1QsR0FBSU4sR0FBUUMsSUFDWmxDLEdBQVl3QyxtQkFBbUIsU0FBU0MsRUFBUUMsR0FDN0IsYUFBWEQsR0FDQUUsUUFBUUMsSUFBSUYsR0FDWlQsRUFBTVQsUUFBVWtCLEVBQU9HLGlCQUN2QlosRUFBTUosSUFBTWEsRUFBT0ksU0FBU2pCLElBQzVCSSxFQUFNSCxJQUFNWSxFQUFPSSxTQUFTaEIsSUFDNUJhLFFBQVFDLElBQUlGLEVBQU9HLG1CQUVuQkUsTUFBTSxtQkFJbEJDLE9BQVEsV0FDSixHQUE4QixJQUExQmIsRUFBRSxlQUFlYyxPQUFrQyxJQUFuQmQsRUFBRSxRQUFRYyxPQUF5QyxJQUExQmQsRUFBRSxlQUFlYyxNQUUxRSxXQURBRixPQUFNLFlBR1YsSUFBSUcsSUFDQTFCLFFBQVNVLEtBQUtWLFFBQ2QyQixLQUFNakIsS0FBS1QsYUFDWEMsTUFBT1EsS0FBS1IsTUFDWkMsUUFBU08sS0FBS1AsUUFDZEUsSUFBS0ssS0FBS0wsSUFDVkMsSUFBS0ksS0FBS0osSUFDVkYsV0FBWU0sS0FBS04sV0FFckJPLEdBQUVDLE1BQ0U3QixJQUFLQSxFQUNMOEIsS0FBTSxPQUNOZCxLQUFNMkIsRUFDTlosUUFBUyxTQUFTZixHQUNkZixPQUFPQyxTQUFTQyxLQUFPLDRCQUE4QkMsRUFBYyxXQUFhSSxFQUFZLDZCQU9oSE0sR0FBS1csUUFHTnhCLE9BQU9YLE1BQVFXLE9BQU9YIiwiZmlsZSI6InJlY29tbWVuZG9yZGVyL2FwcGx5X2RlYWxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihjbUFwcCkge1xuXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgc2V0dXBDU1JGKCk7XG5cbiAgICB2YXIgbWFwLCBnZW9sb2NhdGlvbjtcbiAgICBtYXAgPSBuZXcgQU1hcC5NYXAoXCJudWxsXCIsIHt9KTtcbiAgICBtYXAucGx1Z2luKCdBTWFwLkdlb2xvY2F0aW9uJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGdlb2xvY2F0aW9uID0gbmV3IEFNYXAuR2VvbG9jYXRpb24oe1xuICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLCAvL+aYr+WQpuS9v+eUqOmrmOeyvuW6puWumuS9je+8jOm7mOiupDp0cnVlXG4gICAgICAgICAgICBjb252ZXJ0OiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdmFyIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgIHZhciBjdXN0b21lcl9pZCA9IE51bWJlcih1cmwubWF0Y2goLyhjdXN0b21lclxcLylcXGQrXFwvLylbMF0uc3BsaXQoXCIvXCIpWzFdKTtcbiAgICB2YXIgZGVhbGVyX2lkID0gTnVtYmVyKHVybC5tYXRjaCgvKGRlYWxlclxcLylcXGQrXFwvLylbMF0uc3BsaXQoXCIvXCIpWzFdKTtcblxuXG4gICAgVnVlLmZpbHRlcihcInRvRml4ZWRcIiwgZnVuY3Rpb24obnVtLCBwcmVjaXNpb24pIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcihOdW1iZXIobnVtKS50b0ZpeGVkKHByZWNpc2lvbikpO1xuICAgIH0pO1xuXG4gICAgdXJsID0gXCIvYXBpL3YxLjEvcmVjb21tZW5kb3JkZXIvY3VzdG9tZXIvXCIgKyBjdXN0b21lcl9pZCArIFwiL2RlYWxlci9cIiArIGRlYWxlcl9pZCArIFwiL2FwcGx5LWRlYWxlclwiO1xuXG4gICAgdmFyIGJpbmQgPSBuZXcgVnVlKHtcbiAgICAgICAgZWw6IFwiLmNvblwiLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBhZGRyZXNzOiBcIlwiLFxuICAgICAgICAgICAgY3VzdG9tZXJOYW1lOiBcIlwiLFxuICAgICAgICAgICAgcGhvbmU6IFwiXCIsXG4gICAgICAgICAgICBjb250YWN0OiBcIlwiLFxuICAgICAgICAgICAgcG9zdHNjcmlwdDogXCJcIixcbiAgICAgICAgICAgIGxhdDogLTEsXG4gICAgICAgICAgICBsbmc6IC0xXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9hcGkvdjEuMS9yZWNvbW1lbmRvcmRlci9jdXN0b21lci9cIiArIGN1c3RvbWVyX2lkLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGhvbmUgPSBkYXRhLnBob25lO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gX3RoaXMuY3VzdG9tZXJOYW1lID0gZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkcmVzcyA9IGRhdGEuYWRkcmVzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbnRhY3QgPSBkYXRhLmNvbnRhY3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXRMb2NhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0TG9jYXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHN0YXR1cywgcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRyZXNzID0gcmVzdWx0LmZvcm1hdHRlZEFkZHJlc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sYXQgPSByZXN1bHQucG9zaXRpb24ubGF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubG5nID0gcmVzdWx0LnBvc2l0aW9uLmxuZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5mb3JtYXR0ZWRBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi5a6a5L2N5aSx6LSl77yM6K+35Yi35paw5ZCO5YaN6K+V44CCXCIpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWJtaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICgkKCcjc3RvcmVfbmFtZScpLnZhbCgpID09ICcnIHx8ICQoJyN0ZWwnKS52YWwoKSA9PSAnJyB8fCAkKCcjdGVsX3Blb3BsZScpLnZhbCgpID09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfovpPlhaXlhoXlrrnkuI3og73kuLrnqbrvvIEnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZGF0YVRvU2VuZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzczogdGhpcy5hZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmN1c3RvbWVyTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcGhvbmU6IHRoaXMucGhvbmUsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3Q6IHRoaXMuY29udGFjdCxcbiAgICAgICAgICAgICAgICAgICAgbGF0OiB0aGlzLmxhdCxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiB0aGlzLmxuZyxcbiAgICAgICAgICAgICAgICAgICAgcG9zdHNjcmlwdDogdGhpcy5wb3N0c2NyaXB0LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb3N0JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YVRvU2VuZCxcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9yZWNvbW1lbmRvcmRlci9jdXN0b21lci9cIiArIGN1c3RvbWVyX2lkICsgXCIvZGVhbGVyL1wiICsgZGVhbGVyX2lkICsgXCIvYXBwbHktZGVhbGVyLXN0YXR1c1wiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGJpbmQuaW5pdCgpO1xuXG5cbn0pKHdpbmRvdy5jbUFwcCA9IHdpbmRvdy5jbUFwcCB8fCB7fSk7XG4iXX0=
