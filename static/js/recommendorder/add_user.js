!function(e){"use strict";setupCSRF(),e.bind=new Vue({el:"#app",data:{username:"",password:"",role:0,dealer_id:null,dealers:[],groups:[],group_id:null},methods:{loadDealers:function(){var e=this;$.ajax({type:"get",url:"/api/v1.1/recommendorder/staff/dealer",success:function(o){e.dealers=o.data,$("#dealer_dropdown").dropdown()}})},loadCustomerGroup:function(){var e=this;null!==e.dealer_id&&$.ajax({type:"get",url:"/api/v1.1/recommendorder/staff/dealer/"+e.dealer_id+"/customer_group",data:{per_page:0},success:function(o){e.groups=o.data,$("#group_dropdown").dropdown()}})},submit:function(e){e.preventDefault(),console.log("submit");var o=this;$.ajax({type:"post",url:"/api/v1.1/recommendorder/staff/user",data:{name:o.username,password:o.password,role:o.role,dealer_id:o.dealer_id,group_id:o.group_id},success:function(e){console.log(e),0!==e.code?alert(e.data):alert("Success")}})}},watch:{role:function(e){console.log("Role changed to "+e),this.loadCustomerGroup()},dealer_id:function(e){console.log("Dealer changed to "+e),this.loadCustomerGroup()}},mounted:function(){this.loadDealers();var e=this;$("#dealer_id").change(function(o){console.log($(o.currentTarget).val()),e.dealer_id=parseInt($(o.currentTarget).val())}),$("#group_id").change(function(o){console.log("group id changed"),e.group_id=parseInt($(o.currentTarget).val())}),$(".ui.radio.checkbox").checkbox(),$("#cus_ckbx").change(function(o){"on"===$(o.currentTarget).val()&&(console.log("customer role selected"),e.role=0)}),$("#sm_ckbx").change(function(o){"on"===$(o.currentTarget).val()&&(console.log("salesman role selected"),e.role=1)}),$("#dealer_ckbx").change(function(o){"on"===$(o.currentTarget).val()&&(console.log("dealer role selected"),e.role=2)})}})}(window.cmApp=window.cmApp||{});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlY29tbWVuZG9yZGVyL2FkZF91c2VyLmpzIl0sIm5hbWVzIjpbImNtQXBwIiwic2V0dXBDU1JGIiwiYmluZCIsIlZ1ZSIsImVsIiwiZGF0YSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyb2xlIiwiZGVhbGVyX2lkIiwiZGVhbGVycyIsImdyb3VwcyIsImdyb3VwX2lkIiwibWV0aG9kcyIsImxvYWREZWFsZXJzIiwic2VsZiIsInRoaXMiLCIkIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJzdWNjZXNzIiwiZHJvcGRvd24iLCJsb2FkQ3VzdG9tZXJHcm91cCIsInBlcl9wYWdlIiwic3VibWl0IiwiZSIsInByZXZlbnREZWZhdWx0IiwiY29uc29sZSIsImxvZyIsIm5hbWUiLCJjb2RlIiwiYWxlcnQiLCJ3YXRjaCIsInZhbCIsIm1vdW50ZWQiLCJjaGFuZ2UiLCJjdXJyZW50VGFyZ2V0IiwicGFyc2VJbnQiLCJjaGVja2JveCIsIndpbmRvdyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBVUEsR0FDTixZQUNBQyxhQUVBRCxFQUFNRSxLQUFPLEdBQUlDLE1BQ2JDLEdBQUksT0FDSkMsTUFDSUMsU0FBVSxHQUNWQyxTQUFVLEdBQ1ZDLEtBQU0sRUFDTkMsVUFBVyxLQUNYQyxXQUNBQyxVQUNBQyxTQUFVLE1BRWRDLFNBQ0lDLFlBQWEsV0FDVCxHQUFJQyxHQUFPQyxJQUNYQyxHQUFFQyxNQUNFQyxLQUFNLE1BQ05DLElBQUssd0NBQ0xDLFFBQVMsU0FBU2hCLEdBQ2RVLEVBQUtMLFFBQVVMLEVBQUtBLEtBQ3BCWSxFQUFFLG9CQUFvQkssZUFJbENDLGtCQUFtQixXQUNmLEdBQUlSLEdBQU9DLElBQ1ksUUFBbkJELEVBQUtOLFdBR1RRLEVBQUVDLE1BQ0VDLEtBQU0sTUFDTkMsSUFBSyx5Q0FBMENMLEVBQUtOLFVBQVksa0JBQ2hFSixNQUNJbUIsU0FBVSxHQUVkSCxRQUFTLFNBQVNoQixHQUNkVSxFQUFLSixPQUFTTixFQUFLQSxLQUNuQlksRUFBRSxtQkFBbUJLLGVBSWpDRyxPQUFRLFNBQVNDLEdBQ2JBLEVBQUVDLGlCQUNGQyxRQUFRQyxJQUFJLFNBQ1osSUFBSWQsR0FBT0MsSUFDWEMsR0FBRUMsTUFDRUMsS0FBTSxPQUNOQyxJQUFLLHNDQUNMZixNQUNJeUIsS0FBTWYsRUFBS1QsU0FDWEMsU0FBVVEsRUFBS1IsU0FDZkMsS0FBTU8sRUFBS1AsS0FDWEMsVUFBV00sRUFBS04sVUFDaEJHLFNBQVVHLEVBQUtILFVBRW5CUyxRQUFTLFNBQVNoQixHQUNkdUIsUUFBUUMsSUFBSXhCLEdBQ0ssSUFBZEEsRUFBSzBCLEtBQ0pDLE1BQU0zQixFQUFLQSxNQUVYMkIsTUFBTSxnQkFNMUJDLE9BQ0l6QixLQUFNLFNBQVMwQixHQUNYTixRQUFRQyxJQUFJLG1CQUFxQkssR0FDakNsQixLQUFLTyxxQkFFVGQsVUFBVyxTQUFTeUIsR0FDaEJOLFFBQVFDLElBQUkscUJBQXVCSyxHQUNuQ2xCLEtBQUtPLHNCQUdiWSxRQUFTLFdBQ0xuQixLQUFLRixhQUNMLElBQUlDLEdBQU9DLElBQ1hDLEdBQUUsY0FBY21CLE9BQU8sU0FBU1YsR0FDNUJFLFFBQVFDLElBQUlaLEVBQUVTLEVBQUVXLGVBQWVILE9BQy9CbkIsRUFBS04sVUFBWTZCLFNBQVNyQixFQUFFUyxFQUFFVyxlQUFlSCxTQUdqRGpCLEVBQUUsYUFBYW1CLE9BQU8sU0FBU1YsR0FDM0JFLFFBQVFDLElBQUksb0JBQ1pkLEVBQUtILFNBQVcwQixTQUFTckIsRUFBRVMsRUFBRVcsZUFBZUgsU0FJaERqQixFQUFFLHNCQUFzQnNCLFdBRXhCdEIsRUFBRSxhQUFhbUIsT0FBTyxTQUFTVixHQUNNLE9BQTdCVCxFQUFFUyxFQUFFVyxlQUFlSCxRQUNuQk4sUUFBUUMsSUFBSSwwQkFDWmQsRUFBS1AsS0FBTyxLQUdwQlMsRUFBRSxZQUFZbUIsT0FBTyxTQUFTVixHQUNPLE9BQTdCVCxFQUFFUyxFQUFFVyxlQUFlSCxRQUNuQk4sUUFBUUMsSUFBSSwwQkFDWmQsRUFBS1AsS0FBTyxLQUdwQlMsRUFBRSxnQkFBZ0JtQixPQUFPLFNBQVNWLEdBQ0csT0FBN0JULEVBQUVTLEVBQUVXLGVBQWVILFFBQ25CTixRQUFRQyxJQUFJLHdCQUNaZCxFQUFLUCxLQUFPLFNBSzdCZ0MsT0FBT3hDLE1BQVF3QyxPQUFPeEMiLCJmaWxlIjoicmVjb21tZW5kb3JkZXIvYWRkX3VzZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oY21BcHApIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBzZXR1cENTUkYoKTtcblxuICAgIGNtQXBwLmJpbmQgPSBuZXcgVnVlKHtcbiAgICAgICAgZWw6ICcjYXBwJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdXNlcm5hbWU6ICcnLFxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLFxuICAgICAgICAgICAgcm9sZTogMCwgLy8gMCAtLWN1c3RvbWVyLCAgMSAtLSBzYWxlc21hbiwgMiAtLSBkZWFsZXJcbiAgICAgICAgICAgIGRlYWxlcl9pZDogbnVsbCxcbiAgICAgICAgICAgIGRlYWxlcnM6IFtdLFxuICAgICAgICAgICAgZ3JvdXBzOiBbXSxcbiAgICAgICAgICAgIGdyb3VwX2lkOiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGhvZHM6IHtcbiAgICAgICAgICAgIGxvYWREZWFsZXJzOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL2FwaS92MS4xL3JlY29tbWVuZG9yZGVyL3N0YWZmL2RlYWxlclwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRlYWxlcnMgPSBkYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjZGVhbGVyX2Ryb3Bkb3duJykuZHJvcGRvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxvYWRDdXN0b21lckdyb3VwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuZGVhbGVyX2lkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9hcGkvdjEuMS9yZWNvbW1lbmRvcmRlci9zdGFmZi9kZWFsZXIvXCIrIHNlbGYuZGVhbGVyX2lkICsgXCIvY3VzdG9tZXJfZ3JvdXBcIiwgXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcl9wYWdlOiAwXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZ3JvdXBzID0gZGF0YS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2dyb3VwX2Ryb3Bkb3duJykuZHJvcGRvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Ym1pdDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN1Ym1pdFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3Bvc3QnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvYXBpL3YxLjEvcmVjb21tZW5kb3JkZXIvc3RhZmYvdXNlcicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNlbGYudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogc2VsZi5wYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IHNlbGYucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYWxlcl9pZDogc2VsZi5kZWFsZXJfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cF9pZDogc2VsZi5ncm91cF9pZFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuY29kZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdTdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgd2F0Y2g6IHtcbiAgICAgICAgICAgIHJvbGU6IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUm9sZSBjaGFuZ2VkIHRvIFwiICsgdmFsKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRDdXN0b21lckdyb3VwKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVhbGVyX2lkOiBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGVhbGVyIGNoYW5nZWQgdG8gJyArIHZhbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkQ3VzdG9tZXJHcm91cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZERlYWxlcnMoKTtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICQoJyNkZWFsZXJfaWQnKS5jaGFuZ2UoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCQoZS5jdXJyZW50VGFyZ2V0KS52YWwoKSk7XG4gICAgICAgICAgICAgICAgc2VsZi5kZWFsZXJfaWQgPSBwYXJzZUludCgkKGUuY3VycmVudFRhcmdldCkudmFsKCkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJyNncm91cF9pZCcpLmNoYW5nZShmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dyb3VwIGlkIGNoYW5nZWQnKTtcbiAgICAgICAgICAgICAgICBzZWxmLmdyb3VwX2lkID0gcGFyc2VJbnQoJChlLmN1cnJlbnRUYXJnZXQpLnZhbCgpKTtcbiAgICAgICAgICAgIH0pO1xuXG5cbiAgICAgICAgICAgICQoJy51aS5yYWRpby5jaGVja2JveCcpLmNoZWNrYm94KCk7XG5cbiAgICAgICAgICAgICQoJyNjdXNfY2tieCcpLmNoYW5nZShmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoZS5jdXJyZW50VGFyZ2V0KS52YWwoKSA9PT0gJ29uJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnY3VzdG9tZXIgcm9sZSBzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJvbGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCgnI3NtX2NrYngnKS5jaGFuZ2UoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmICgkKGUuY3VycmVudFRhcmdldCkudmFsKCkgPT09ICdvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NhbGVzbWFuIHJvbGUgc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yb2xlID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoJyNkZWFsZXJfY2tieCcpLmNoYW5nZShmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQoZS5jdXJyZW50VGFyZ2V0KS52YWwoKSA9PT0gJ29uJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGVhbGVyIHJvbGUgc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yb2xlID0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xufSkod2luZG93LmNtQXBwID0gd2luZG93LmNtQXBwIHx8IHt9KTtcbiJdfQ==
