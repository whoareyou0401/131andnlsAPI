!function(e,n,o,t){"use strict";n="undefined"!=typeof n&&n.Math==Math?n:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.embed=function(o){var r,a=e(this),i=a.selector||"",c=(new Date).getTime(),l=[],d=arguments[0],u="string"==typeof d,s=[].slice.call(arguments,1);return a.each(function(){var m,p=e.isPlainObject(o)?e.extend(!0,{},e.fn.embed.settings,o):e.extend({},e.fn.embed.settings),f=p.selector,h=p.className,b=p.sources,g=p.error,v=p.metadata,y=p.namespace,w=p.templates,P="."+y,C="module-"+y,E=(e(n),e(this)),U=E.find(f.placeholder),j=E.find(f.icon),S=E.find(f.embed),T=this,x=E.data(C);m={initialize:function(){m.debug("Initializing embed"),m.determine.autoplay(),m.create(),m.bind.events(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),x=m,E.data(C,m)},destroy:function(){m.verbose("Destroying previous instance of embed"),m.reset(),E.removeData(C).off(P)},refresh:function(){m.verbose("Refreshing selector cache"),U=E.find(f.placeholder),j=E.find(f.icon),S=E.find(f.embed)},bind:{events:function(){m.has.placeholder()&&(m.debug("Adding placeholder events"),E.on("click"+P,f.placeholder,m.createAndShow).on("click"+P,f.icon,m.createAndShow))}},create:function(){var e=m.get.placeholder();e?m.createPlaceholder():m.createAndShow()},createPlaceholder:function(e){var n=m.get.icon(),o=m.get.url();m.generate.embed(o),e=e||m.get.placeholder(),E.html(w.placeholder(e,n)),m.debug("Creating placeholder for embed",e,n)},createEmbed:function(n){m.refresh(),n=n||m.get.url(),S=e("<div/>").addClass(h.embed).html(m.generate.embed(n)).appendTo(E),p.onCreate.call(T,n),m.debug("Creating embed object",S)},changeEmbed:function(e){S.html(m.generate.embed(e))},createAndShow:function(){m.createEmbed(),m.show()},change:function(e,n,o){m.debug("Changing video to ",e,n,o),E.data(v.source,e).data(v.id,n),o?E.data(v.url,o):E.removeData(v.url),m.has.embed()?m.changeEmbed():m.create()},reset:function(){m.debug("Clearing embed and showing placeholder"),m.remove.active(),m.remove.embed(),m.showPlaceholder(),p.onReset.call(T)},show:function(){m.debug("Showing embed"),m.set.active(),p.onDisplay.call(T)},hide:function(){m.debug("Hiding embed"),m.showPlaceholder()},showPlaceholder:function(){m.debug("Showing placeholder image"),m.remove.active(),p.onPlaceholderDisplay.call(T)},get:{id:function(){return p.id||E.data(v.id)},placeholder:function(){return p.placeholder||E.data(v.placeholder)},icon:function(){return p.icon?p.icon:E.data(v.icon)!==t?E.data(v.icon):m.determine.icon()},source:function(e){return p.source?p.source:E.data(v.source)!==t?E.data(v.source):m.determine.source()},type:function(){var e=m.get.source();return b[e]!==t&&b[e].type},url:function(){return p.url?p.url:E.data(v.url)!==t?E.data(v.url):m.determine.url()}},determine:{autoplay:function(){m.should.autoplay()&&(p.autoplay=!0)},source:function(n){var o=!1;return n=n||m.get.url(),n&&e.each(b,function(e,t){if(n.search(t.domain)!==-1)return o=e,!1}),o},icon:function(){var e=m.get.source();return b[e]!==t&&b[e].icon},url:function(){var e,n=p.id||E.data(v.id),o=p.source||E.data(v.source);return e=b[o]!==t&&b[o].url.replace("{id}",n),e&&E.data(v.url,e),e}},set:{active:function(){E.addClass(h.active)}},remove:{active:function(){E.removeClass(h.active)},embed:function(){S.empty()}},encode:{parameters:function(e){var n,o=[];for(n in e)o.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return o.join("&amp;")}},generate:{embed:function(e){m.debug("Generating embed html");var n,o,t=m.get.source();return e=m.get.url(e),e?(o=m.generate.parameters(t),n=w.iframe(e,o)):m.error(g.noURL,E),n},parameters:function(n,o){var r=b[n]&&b[n].parameters!==t?b[n].parameters(p):{};return o=o||p.parameters,o&&(r=e.extend({},r,o)),r=p.onEmbed(r),m.encode.parameters(r)}},has:{embed:function(){return S.length>0},placeholder:function(){return p.placeholder||E.data(v.placeholder)}},should:{autoplay:function(){return"auto"===p.autoplay?p.placeholder||E.data(v.placeholder)!==t:p.autoplay}},is:{video:function(){return"video"==m.get.type()}},setting:function(n,o){if(m.debug("Changing setting",n,o),e.isPlainObject(n))e.extend(!0,p,n);else{if(o===t)return p[n];e.isPlainObject(p[n])?e.extend(!0,p[n],o):p[n]=o}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,m,n);else{if(o===t)return m[n];m[n]=o}},debug:function(){!p.silent&&p.debug&&(p.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,p.name+":"),m.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),m.verbose.apply(console,arguments)))},error:function(){p.silent||(m.error=Function.prototype.bind.call(console.error,console,p.name+":"),m.error.apply(console,arguments))},performance:{log:function(e){var n,o,t;p.performance&&(n=(new Date).getTime(),t=c||n,o=n-t,c=n,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":o})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var n=p.name+":",o=0;c=!1,clearTimeout(m.performance.timer),e.each(l,function(e,n){o+=n["Execution Time"]}),n+=" "+o+"ms",i&&(n+=" '"+i+"'"),a.length>1&&(n+=" ("+a.length+")"),(console.group!==t||console.table!==t)&&l.length>0&&(console.groupCollapsed(n),console.table?console.table(l):e.each(l,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(n,o,a){var i,c,l,d=x;return o=o||s,a=T||a,"string"==typeof n&&d!==t&&(n=n.split(/[\. ]/),i=n.length-1,e.each(n,function(o,r){var a=o!=i?r+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(d[a])&&o!=i)d=d[a];else{if(d[a]!==t)return c=d[a],!1;if(!e.isPlainObject(d[r])||o==i)return d[r]!==t?(c=d[r],!1):(m.error(g.method,n),!1);d=d[r]}})),e.isFunction(c)?l=c.apply(a,o):c!==t&&(l=c),e.isArray(r)?r.push(l):r!==t?r=[r,l]:l!==t&&(r=l),c}},u?(x===t&&m.initialize(),m.invoke(d)):(x!==t&&x.invoke("destroy"),m.initialize())}),r!==t?r:this},e.fn.embed.settings={name:"Embed",namespace:"embed",silent:!1,debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.color||t,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.color||t,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,n){var o=e;return n&&(o+="?"+n),'<iframe src="'+o+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,n){var o="";return n&&(o+='<i class="'+n+' icon"></i>'),e&&(o+='<img class="placeholder" src="'+e+'">'),o}},api:!1,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9lbWJlZC5taW4uanMiXSwibmFtZXMiOlsiZSIsIm4iLCJvIiwidCIsIk1hdGgiLCJzZWxmIiwiRnVuY3Rpb24iLCJmbiIsImVtYmVkIiwiciIsImEiLCJ0aGlzIiwiaSIsInNlbGVjdG9yIiwiYyIsIkRhdGUiLCJnZXRUaW1lIiwibCIsImQiLCJhcmd1bWVudHMiLCJ1IiwicyIsInNsaWNlIiwiY2FsbCIsImVhY2giLCJtIiwicCIsImlzUGxhaW5PYmplY3QiLCJleHRlbmQiLCJzZXR0aW5ncyIsImYiLCJoIiwiY2xhc3NOYW1lIiwiYiIsInNvdXJjZXMiLCJnIiwiZXJyb3IiLCJ2IiwibWV0YWRhdGEiLCJ5IiwibmFtZXNwYWNlIiwidyIsInRlbXBsYXRlcyIsIlAiLCJDIiwiRSIsIlUiLCJmaW5kIiwicGxhY2Vob2xkZXIiLCJqIiwiaWNvbiIsIlMiLCJUIiwieCIsImRhdGEiLCJpbml0aWFsaXplIiwiZGVidWciLCJkZXRlcm1pbmUiLCJhdXRvcGxheSIsImNyZWF0ZSIsImJpbmQiLCJldmVudHMiLCJpbnN0YW50aWF0ZSIsInZlcmJvc2UiLCJkZXN0cm95IiwicmVzZXQiLCJyZW1vdmVEYXRhIiwib2ZmIiwicmVmcmVzaCIsImhhcyIsIm9uIiwiY3JlYXRlQW5kU2hvdyIsImdldCIsImNyZWF0ZVBsYWNlaG9sZGVyIiwidXJsIiwiZ2VuZXJhdGUiLCJodG1sIiwiY3JlYXRlRW1iZWQiLCJhZGRDbGFzcyIsImFwcGVuZFRvIiwib25DcmVhdGUiLCJjaGFuZ2VFbWJlZCIsInNob3ciLCJjaGFuZ2UiLCJzb3VyY2UiLCJpZCIsInJlbW92ZSIsImFjdGl2ZSIsInNob3dQbGFjZWhvbGRlciIsIm9uUmVzZXQiLCJzZXQiLCJvbkRpc3BsYXkiLCJoaWRlIiwib25QbGFjZWhvbGRlckRpc3BsYXkiLCJ0eXBlIiwic2hvdWxkIiwic2VhcmNoIiwiZG9tYWluIiwicmVwbGFjZSIsInJlbW92ZUNsYXNzIiwiZW1wdHkiLCJlbmNvZGUiLCJwYXJhbWV0ZXJzIiwicHVzaCIsImVuY29kZVVSSUNvbXBvbmVudCIsImpvaW4iLCJpZnJhbWUiLCJub1VSTCIsIm9uRW1iZWQiLCJsZW5ndGgiLCJpcyIsInZpZGVvIiwic2V0dGluZyIsImludGVybmFsIiwic2lsZW50IiwicGVyZm9ybWFuY2UiLCJsb2ciLCJwcm90b3R5cGUiLCJjb25zb2xlIiwiaW5mbyIsIm5hbWUiLCJhcHBseSIsIk5hbWUiLCJBcmd1bWVudHMiLCJFbGVtZW50IiwiRXhlY3V0aW9uIFRpbWUiLCJjbGVhclRpbWVvdXQiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJkaXNwbGF5IiwiZ3JvdXAiLCJ0YWJsZSIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJpbnZva2UiLCJzcGxpdCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwibWV0aG9kIiwiaXNGdW5jdGlvbiIsImlzQXJyYXkiLCJjb2xvciIsImhkIiwiYnJhbmRlZFVJIiwieW91dHViZSIsImF1dG9oaWRlIiwiaHEiLCJqc2FwaSIsImFwaSIsIm1vZGVzdGJyYW5kaW5nIiwidmltZW8iLCJieWxpbmUiLCJwb3J0cmFpdCIsInRpdGxlIiwib25QYXVzZSIsIm9uUGxheSIsIm9uU3RvcCIsImpRdWVyeSIsIndpbmRvdyIsImRvY3VtZW50Il0sIm1hcHBpbmdzIjoiQ0FTQyxTQUFTQSxFQUFFQyxFQUFFQyxFQUFFQyxHQUFHLFlBQWFGLEdBQUUsbUJBQW9CQSxJQUFHQSxFQUFFRyxNQUFNQSxLQUFLSCxFQUFFLG1CQUFvQkksT0FBTUEsS0FBS0QsTUFBTUEsS0FBS0MsS0FBS0MsU0FBUyxpQkFBaUJOLEVBQUVPLEdBQUdDLE1BQU0sU0FBU04sR0FBRyxHQUFJTyxHQUFFQyxFQUFFVixFQUFFVyxNQUFNQyxFQUFFRixFQUFFRyxVQUFVLEdBQUdDLEdBQUUsR0FBS0MsT0FBTUMsVUFBVUMsS0FBS0MsRUFBRUMsVUFBVSxHQUFHQyxFQUFFLGdCQUFpQkYsR0FBRUcsS0FBS0MsTUFBTUMsS0FBS0osVUFBVSxFQUFHLE9BQU9ULEdBQUVjLEtB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T0FBT0MsT0FBT0MiLCJmaWxlIjoidmVuZG9yL2VtYmVkLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogIyBTZW1hbnRpYyBVSSAyLjIuNyAtIEVtYmVkXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9zZW1hbnRpYy1vcmcvc2VtYW50aWMtdWkvXG4gKlxuICpcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqL1xuIWZ1bmN0aW9uKGUsbixvLHQpe1widXNlIHN0cmljdFwiO249XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG4mJm4uTWF0aD09TWF0aD9uOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCksZS5mbi5lbWJlZD1mdW5jdGlvbihvKXt2YXIgcixhPWUodGhpcyksaT1hLnNlbGVjdG9yfHxcIlwiLGM9KG5ldyBEYXRlKS5nZXRUaW1lKCksbD1bXSxkPWFyZ3VtZW50c1swXSx1PVwic3RyaW5nXCI9PXR5cGVvZiBkLHM9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGEuZWFjaChmdW5jdGlvbigpe3ZhciBtLHA9ZS5pc1BsYWluT2JqZWN0KG8pP2UuZXh0ZW5kKCEwLHt9LGUuZm4uZW1iZWQuc2V0dGluZ3Msbyk6ZS5leHRlbmQoe30sZS5mbi5lbWJlZC5zZXR0aW5ncyksZj1wLnNlbGVjdG9yLGg9cC5jbGFzc05hbWUsYj1wLnNvdXJjZXMsZz1wLmVycm9yLHY9cC5tZXRhZGF0YSx5PXAubmFtZXNwYWNlLHc9cC50ZW1wbGF0ZXMsUD1cIi5cIit5LEM9XCJtb2R1bGUtXCIreSxFPShlKG4pLGUodGhpcykpLFU9RS5maW5kKGYucGxhY2Vob2xkZXIpLGo9RS5maW5kKGYuaWNvbiksUz1FLmZpbmQoZi5lbWJlZCksVD10aGlzLHg9RS5kYXRhKEMpO209e2luaXRpYWxpemU6ZnVuY3Rpb24oKXttLmRlYnVnKFwiSW5pdGlhbGl6aW5nIGVtYmVkXCIpLG0uZGV0ZXJtaW5lLmF1dG9wbGF5KCksbS5jcmVhdGUoKSxtLmJpbmQuZXZlbnRzKCksbS5pbnN0YW50aWF0ZSgpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbigpe20udmVyYm9zZShcIlN0b3JpbmcgaW5zdGFuY2Ugb2YgbW9kdWxlXCIsbSkseD1tLEUuZGF0YShDLG0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7bS52ZXJib3NlKFwiRGVzdHJveWluZyBwcmV2aW91cyBpbnN0YW5jZSBvZiBlbWJlZFwiKSxtLnJlc2V0KCksRS5yZW1vdmVEYXRhKEMpLm9mZihQKX0scmVmcmVzaDpmdW5jdGlvbigpe20udmVyYm9zZShcIlJlZnJlc2hpbmcgc2VsZWN0b3IgY2FjaGVcIiksVT1FLmZpbmQoZi5wbGFjZWhvbGRlciksaj1FLmZpbmQoZi5pY29uKSxTPUUuZmluZChmLmVtYmVkKX0sYmluZDp7ZXZlbnRzOmZ1bmN0aW9uKCl7bS5oYXMucGxhY2Vob2xkZXIoKSYmKG0uZGVidWcoXCJBZGRpbmcgcGxhY2Vob2xkZXIgZXZlbnRzXCIpLEUub24oXCJjbGlja1wiK1AsZi5wbGFjZWhvbGRlcixtLmNyZWF0ZUFuZFNob3cpLm9uKFwiY2xpY2tcIitQLGYuaWNvbixtLmNyZWF0ZUFuZFNob3cpKX19LGNyZWF0ZTpmdW5jdGlvbigpe3ZhciBlPW0uZ2V0LnBsYWNlaG9sZGVyKCk7ZT9tLmNyZWF0ZVBsYWNlaG9sZGVyKCk6bS5jcmVhdGVBbmRTaG93KCl9LGNyZWF0ZVBsYWNlaG9sZGVyOmZ1bmN0aW9uKGUpe3ZhciBuPW0uZ2V0Lmljb24oKSxvPW0uZ2V0LnVybCgpO20uZ2VuZXJhdGUuZW1iZWQobyk7ZT1lfHxtLmdldC5wbGFjZWhvbGRlcigpLEUuaHRtbCh3LnBsYWNlaG9sZGVyKGUsbikpLG0uZGVidWcoXCJDcmVhdGluZyBwbGFjZWhvbGRlciBmb3IgZW1iZWRcIixlLG4pfSxjcmVhdGVFbWJlZDpmdW5jdGlvbihuKXttLnJlZnJlc2goKSxuPW58fG0uZ2V0LnVybCgpLFM9ZShcIjxkaXYvPlwiKS5hZGRDbGFzcyhoLmVtYmVkKS5odG1sKG0uZ2VuZXJhdGUuZW1iZWQobikpLmFwcGVuZFRvKEUpLHAub25DcmVhdGUuY2FsbChULG4pLG0uZGVidWcoXCJDcmVhdGluZyBlbWJlZCBvYmplY3RcIixTKX0sY2hhbmdlRW1iZWQ6ZnVuY3Rpb24oZSl7Uy5odG1sKG0uZ2VuZXJhdGUuZW1iZWQoZSkpfSxjcmVhdGVBbmRTaG93OmZ1bmN0aW9uKCl7bS5jcmVhdGVFbWJlZCgpLG0uc2hvdygpfSxjaGFuZ2U6ZnVuY3Rpb24oZSxuLG8pe20uZGVidWcoXCJDaGFuZ2luZyB2aWRlbyB0byBcIixlLG4sbyksRS5kYXRhKHYuc291cmNlLGUpLmRhdGEodi5pZCxuKSxvP0UuZGF0YSh2LnVybCxvKTpFLnJlbW92ZURhdGEodi51cmwpLG0uaGFzLmVtYmVkKCk/bS5jaGFuZ2VFbWJlZCgpOm0uY3JlYXRlKCl9LHJlc2V0OmZ1bmN0aW9uKCl7bS5kZWJ1ZyhcIkNsZWFyaW5nIGVtYmVkIGFuZCBzaG93aW5nIHBsYWNlaG9sZGVyXCIpLG0ucmVtb3ZlLmFjdGl2ZSgpLG0ucmVtb3ZlLmVtYmVkKCksbS5zaG93UGxhY2Vob2xkZXIoKSxwLm9uUmVzZXQuY2FsbChUKX0sc2hvdzpmdW5jdGlvbigpe20uZGVidWcoXCJTaG93aW5nIGVtYmVkXCIpLG0uc2V0LmFjdGl2ZSgpLHAub25EaXNwbGF5LmNhbGwoVCl9LGhpZGU6ZnVuY3Rpb24oKXttLmRlYnVnKFwiSGlkaW5nIGVtYmVkXCIpLG0uc2hvd1BsYWNlaG9sZGVyKCl9LHNob3dQbGFjZWhvbGRlcjpmdW5jdGlvbigpe20uZGVidWcoXCJTaG93aW5nIHBsYWNlaG9sZGVyIGltYWdlXCIpLG0ucmVtb3ZlLmFjdGl2ZSgpLHAub25QbGFjZWhvbGRlckRpc3BsYXkuY2FsbChUKX0sZ2V0OntpZDpmdW5jdGlvbigpe3JldHVybiBwLmlkfHxFLmRhdGEodi5pZCl9LHBsYWNlaG9sZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHAucGxhY2Vob2xkZXJ8fEUuZGF0YSh2LnBsYWNlaG9sZGVyKX0saWNvbjpmdW5jdGlvbigpe3JldHVybiBwLmljb24/cC5pY29uOkUuZGF0YSh2Lmljb24pIT09dD9FLmRhdGEodi5pY29uKTptLmRldGVybWluZS5pY29uKCl9LHNvdXJjZTpmdW5jdGlvbihlKXtyZXR1cm4gcC5zb3VyY2U/cC5zb3VyY2U6RS5kYXRhKHYuc291cmNlKSE9PXQ/RS5kYXRhKHYuc291cmNlKTptLmRldGVybWluZS5zb3VyY2UoKX0sdHlwZTpmdW5jdGlvbigpe3ZhciBlPW0uZ2V0LnNvdXJjZSgpO3JldHVybiBiW2VdIT09dCYmYltlXS50eXBlfSx1cmw6ZnVuY3Rpb24oKXtyZXR1cm4gcC51cmw/cC51cmw6RS5kYXRhKHYudXJsKSE9PXQ/RS5kYXRhKHYudXJsKTptLmRldGVybWluZS51cmwoKX19LGRldGVybWluZTp7YXV0b3BsYXk6ZnVuY3Rpb24oKXttLnNob3VsZC5hdXRvcGxheSgpJiYocC5hdXRvcGxheT0hMCl9LHNvdXJjZTpmdW5jdGlvbihuKXt2YXIgbz0hMTtyZXR1cm4gbj1ufHxtLmdldC51cmwoKSxuJiZlLmVhY2goYixmdW5jdGlvbihlLHQpe2lmKG4uc2VhcmNoKHQuZG9tYWluKSE9PS0xKXJldHVybiBvPWUsITF9KSxvfSxpY29uOmZ1bmN0aW9uKCl7dmFyIGU9bS5nZXQuc291cmNlKCk7cmV0dXJuIGJbZV0hPT10JiZiW2VdLmljb259LHVybDpmdW5jdGlvbigpe3ZhciBlLG49cC5pZHx8RS5kYXRhKHYuaWQpLG89cC5zb3VyY2V8fEUuZGF0YSh2LnNvdXJjZSk7cmV0dXJuIGU9YltvXSE9PXQmJmJbb10udXJsLnJlcGxhY2UoXCJ7aWR9XCIsbiksZSYmRS5kYXRhKHYudXJsLGUpLGV9fSxzZXQ6e2FjdGl2ZTpmdW5jdGlvbigpe0UuYWRkQ2xhc3MoaC5hY3RpdmUpfX0scmVtb3ZlOnthY3RpdmU6ZnVuY3Rpb24oKXtFLnJlbW92ZUNsYXNzKGguYWN0aXZlKX0sZW1iZWQ6ZnVuY3Rpb24oKXtTLmVtcHR5KCl9fSxlbmNvZGU6e3BhcmFtZXRlcnM6ZnVuY3Rpb24oZSl7dmFyIG4sbz1bXTtmb3IobiBpbiBlKW8ucHVzaChlbmNvZGVVUklDb21wb25lbnQobikrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGVbbl0pKTtyZXR1cm4gby5qb2luKFwiJmFtcDtcIil9fSxnZW5lcmF0ZTp7ZW1iZWQ6ZnVuY3Rpb24oZSl7bS5kZWJ1ZyhcIkdlbmVyYXRpbmcgZW1iZWQgaHRtbFwiKTt2YXIgbixvLHQ9bS5nZXQuc291cmNlKCk7cmV0dXJuIGU9bS5nZXQudXJsKGUpLGU/KG89bS5nZW5lcmF0ZS5wYXJhbWV0ZXJzKHQpLG49dy5pZnJhbWUoZSxvKSk6bS5lcnJvcihnLm5vVVJMLEUpLG59LHBhcmFtZXRlcnM6ZnVuY3Rpb24obixvKXt2YXIgcj1iW25dJiZiW25dLnBhcmFtZXRlcnMhPT10P2Jbbl0ucGFyYW1ldGVycyhwKTp7fTtyZXR1cm4gbz1vfHxwLnBhcmFtZXRlcnMsbyYmKHI9ZS5leHRlbmQoe30scixvKSkscj1wLm9uRW1iZWQociksbS5lbmNvZGUucGFyYW1ldGVycyhyKX19LGhhczp7ZW1iZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gUy5sZW5ndGg+MH0scGxhY2Vob2xkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gcC5wbGFjZWhvbGRlcnx8RS5kYXRhKHYucGxhY2Vob2xkZXIpfX0sc2hvdWxkOnthdXRvcGxheTpmdW5jdGlvbigpe3JldHVyblwiYXV0b1wiPT09cC5hdXRvcGxheT9wLnBsYWNlaG9sZGVyfHxFLmRhdGEodi5wbGFjZWhvbGRlcikhPT10OnAuYXV0b3BsYXl9fSxpczp7dmlkZW86ZnVuY3Rpb24oKXtyZXR1cm5cInZpZGVvXCI9PW0uZ2V0LnR5cGUoKX19LHNldHRpbmc6ZnVuY3Rpb24obixvKXtpZihtLmRlYnVnKFwiQ2hhbmdpbmcgc2V0dGluZ1wiLG4sbyksZS5pc1BsYWluT2JqZWN0KG4pKWUuZXh0ZW5kKCEwLHAsbik7ZWxzZXtpZihvPT09dClyZXR1cm4gcFtuXTtlLmlzUGxhaW5PYmplY3QocFtuXSk/ZS5leHRlbmQoITAscFtuXSxvKTpwW25dPW99fSxpbnRlcm5hbDpmdW5jdGlvbihuLG8pe2lmKGUuaXNQbGFpbk9iamVjdChuKSllLmV4dGVuZCghMCxtLG4pO2Vsc2V7aWYobz09PXQpcmV0dXJuIG1bbl07bVtuXT1vfX0sZGVidWc6ZnVuY3Rpb24oKXshcC5zaWxlbnQmJnAuZGVidWcmJihwLnBlcmZvcm1hbmNlP20ucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk6KG0uZGVidWc9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sY29uc29sZSxwLm5hbWUrXCI6XCIpLG0uZGVidWcuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LHZlcmJvc2U6ZnVuY3Rpb24oKXshcC5zaWxlbnQmJnAudmVyYm9zZSYmcC5kZWJ1ZyYmKHAucGVyZm9ybWFuY2U/bS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKToobS52ZXJib3NlPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLGNvbnNvbGUscC5uYW1lK1wiOlwiKSxtLnZlcmJvc2UuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpKSl9LGVycm9yOmZ1bmN0aW9uKCl7cC5zaWxlbnR8fChtLmVycm9yPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvcixjb25zb2xlLHAubmFtZStcIjpcIiksbS5lcnJvci5hcHBseShjb25zb2xlLGFyZ3VtZW50cykpfSxwZXJmb3JtYW5jZTp7bG9nOmZ1bmN0aW9uKGUpe3ZhciBuLG8sdDtwLnBlcmZvcm1hbmNlJiYobj0obmV3IERhdGUpLmdldFRpbWUoKSx0PWN8fG4sbz1uLXQsYz1uLGwucHVzaCh7TmFtZTplWzBdLEFyZ3VtZW50czpbXS5zbGljZS5jYWxsKGUsMSl8fFwiXCIsRWxlbWVudDpULFwiRXhlY3V0aW9uIFRpbWVcIjpvfSkpLGNsZWFyVGltZW91dChtLnBlcmZvcm1hbmNlLnRpbWVyKSxtLnBlcmZvcm1hbmNlLnRpbWVyPXNldFRpbWVvdXQobS5wZXJmb3JtYW5jZS5kaXNwbGF5LDUwMCl9LGRpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgbj1wLm5hbWUrXCI6XCIsbz0wO2M9ITEsY2xlYXJUaW1lb3V0KG0ucGVyZm9ybWFuY2UudGltZXIpLGUuZWFjaChsLGZ1bmN0aW9uKGUsbil7bys9bltcIkV4ZWN1dGlvbiBUaW1lXCJdfSksbis9XCIgXCIrbytcIm1zXCIsaSYmKG4rPVwiICdcIitpK1wiJ1wiKSxhLmxlbmd0aD4xJiYobis9XCIgKFwiK2EubGVuZ3RoK1wiKVwiKSwoY29uc29sZS5ncm91cCE9PXR8fGNvbnNvbGUudGFibGUhPT10KSYmbC5sZW5ndGg+MCYmKGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQobiksY29uc29sZS50YWJsZT9jb25zb2xlLnRhYmxlKGwpOmUuZWFjaChsLGZ1bmN0aW9uKGUsbil7Y29uc29sZS5sb2cobi5OYW1lK1wiOiBcIituW1wiRXhlY3V0aW9uIFRpbWVcIl0rXCJtc1wiKX0pLGNvbnNvbGUuZ3JvdXBFbmQoKSksbD1bXX19LGludm9rZTpmdW5jdGlvbihuLG8sYSl7dmFyIGksYyxsLGQ9eDtyZXR1cm4gbz1vfHxzLGE9VHx8YSxcInN0cmluZ1wiPT10eXBlb2YgbiYmZCE9PXQmJihuPW4uc3BsaXQoL1tcXC4gXS8pLGk9bi5sZW5ndGgtMSxlLmVhY2gobixmdW5jdGlvbihvLHIpe3ZhciBhPW8hPWk/cituW28rMV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbltvKzFdLnNsaWNlKDEpOm47aWYoZS5pc1BsYWluT2JqZWN0KGRbYV0pJiZvIT1pKWQ9ZFthXTtlbHNle2lmKGRbYV0hPT10KXJldHVybiBjPWRbYV0sITE7aWYoIWUuaXNQbGFpbk9iamVjdChkW3JdKXx8bz09aSlyZXR1cm4gZFtyXSE9PXQ/KGM9ZFtyXSwhMSk6KG0uZXJyb3IoZy5tZXRob2QsbiksITEpO2Q9ZFtyXX19KSksZS5pc0Z1bmN0aW9uKGMpP2w9Yy5hcHBseShhLG8pOmMhPT10JiYobD1jKSxlLmlzQXJyYXkocik/ci5wdXNoKGwpOnIhPT10P3I9W3IsbF06bCE9PXQmJihyPWwpLGN9fSx1Pyh4PT09dCYmbS5pbml0aWFsaXplKCksbS5pbnZva2UoZCkpOih4IT09dCYmeC5pbnZva2UoXCJkZXN0cm95XCIpLG0uaW5pdGlhbGl6ZSgpKX0pLHIhPT10P3I6dGhpc30sZS5mbi5lbWJlZC5zZXR0aW5ncz17bmFtZTpcIkVtYmVkXCIsbmFtZXNwYWNlOlwiZW1iZWRcIixzaWxlbnQ6ITEsZGVidWc6ITEsdmVyYm9zZTohMSxwZXJmb3JtYW5jZTohMCxpY29uOiExLHNvdXJjZTohMSx1cmw6ITEsaWQ6ITEsYXV0b3BsYXk6XCJhdXRvXCIsY29sb3I6XCIjNDQ0NDQ0XCIsaGQ6ITAsYnJhbmRlZFVJOiExLHBhcmFtZXRlcnM6ITEsb25EaXNwbGF5OmZ1bmN0aW9uKCl7fSxvblBsYWNlaG9sZGVyRGlzcGxheTpmdW5jdGlvbigpe30sb25SZXNldDpmdW5jdGlvbigpe30sb25DcmVhdGU6ZnVuY3Rpb24oZSl7fSxvbkVtYmVkOmZ1bmN0aW9uKGUpe3JldHVybiBlfSxtZXRhZGF0YTp7aWQ6XCJpZFwiLGljb246XCJpY29uXCIscGxhY2Vob2xkZXI6XCJwbGFjZWhvbGRlclwiLHNvdXJjZTpcInNvdXJjZVwiLHVybDpcInVybFwifSxlcnJvcjp7bm9VUkw6XCJObyBVUkwgc3BlY2lmaWVkXCIsbWV0aG9kOlwiVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkXCJ9LGNsYXNzTmFtZTp7YWN0aXZlOlwiYWN0aXZlXCIsZW1iZWQ6XCJlbWJlZFwifSxzZWxlY3Rvcjp7ZW1iZWQ6XCIuZW1iZWRcIixwbGFjZWhvbGRlcjpcIi5wbGFjZWhvbGRlclwiLGljb246XCIuaWNvblwifSxzb3VyY2VzOnt5b3V0dWJlOntuYW1lOlwieW91dHViZVwiLHR5cGU6XCJ2aWRlb1wiLGljb246XCJ2aWRlbyBwbGF5XCIsZG9tYWluOlwieW91dHViZS5jb21cIix1cmw6XCIvL3d3dy55b3V0dWJlLmNvbS9lbWJlZC97aWR9XCIscGFyYW1ldGVyczpmdW5jdGlvbihlKXtyZXR1cm57YXV0b2hpZGU6IWUuYnJhbmRlZFVJLGF1dG9wbGF5OmUuYXV0b3BsYXksY29sb3I6ZS5jb2xvcnx8dCxocTplLmhkLGpzYXBpOmUuYXBpLG1vZGVzdGJyYW5kaW5nOiFlLmJyYW5kZWRVSX19fSx2aW1lbzp7bmFtZTpcInZpbWVvXCIsdHlwZTpcInZpZGVvXCIsaWNvbjpcInZpZGVvIHBsYXlcIixkb21haW46XCJ2aW1lby5jb21cIix1cmw6XCIvL3BsYXllci52aW1lby5jb20vdmlkZW8ve2lkfVwiLHBhcmFtZXRlcnM6ZnVuY3Rpb24oZSl7cmV0dXJue2FwaTplLmFwaSxhdXRvcGxheTplLmF1dG9wbGF5LGJ5bGluZTplLmJyYW5kZWRVSSxjb2xvcjplLmNvbG9yfHx0LHBvcnRyYWl0OmUuYnJhbmRlZFVJLHRpdGxlOmUuYnJhbmRlZFVJfX19fSx0ZW1wbGF0ZXM6e2lmcmFtZTpmdW5jdGlvbihlLG4pe3ZhciBvPWU7cmV0dXJuIG4mJihvKz1cIj9cIituKSwnPGlmcmFtZSBzcmM9XCInK28rJ1wiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIiBmcmFtZWJvcmRlcj1cIjBcIiBzY3JvbGxpbmc9XCJub1wiIHdlYmtpdEFsbG93RnVsbFNjcmVlbiBtb3phbGxvd2Z1bGxzY3JlZW4gYWxsb3dGdWxsU2NyZWVuPjwvaWZyYW1lPid9LHBsYWNlaG9sZGVyOmZ1bmN0aW9uKGUsbil7dmFyIG89XCJcIjtyZXR1cm4gbiYmKG8rPSc8aSBjbGFzcz1cIicrbisnIGljb25cIj48L2k+JyksZSYmKG8rPSc8aW1nIGNsYXNzPVwicGxhY2Vob2xkZXJcIiBzcmM9XCInK2UrJ1wiPicpLG99fSxhcGk6ITEsb25QYXVzZTpmdW5jdGlvbigpe30sb25QbGF5OmZ1bmN0aW9uKCl7fSxvblN0b3A6ZnVuY3Rpb24oKXt9fX0oalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCk7Il19
