!function(e,n,o,i){e.site=e.fn.site=function(t){var s,r,a=(new Date).getTime(),c=[],l=arguments[0],u="string"==typeof l,d=[].slice.call(arguments,1),f=e.isPlainObject(t)?e.extend(!0,{},e.site.settings,t):e.extend({},e.site.settings),m=f.namespace,g=f.error,b="module-"+m,p=e(o),v=p,h=this,y=v.data(b);return s={initialize:function(){s.instantiate()},instantiate:function(){s.verbose("Storing instance of site",s),y=s,v.data(b,s)},normalize:function(){s.fix.console(),s.fix.requestAnimationFrame()},fix:{console:function(){s.debug("Normalizing window.console"),console!==i&&console.log!==i||(s.verbose("Console not available, normalizing events"),s.disable.console()),"undefined"!=typeof console.group&&"undefined"!=typeof console.groupEnd&&"undefined"!=typeof console.groupCollapsed||(s.verbose("Console group not available, normalizing events"),n.console.group=function(){},n.console.groupEnd=function(){},n.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(s.verbose("Mark timeline not available, normalizing events"),n.console.markTimeline=function(){})},consoleClear:function(){s.debug("Disabling programmatic console clearing"),n.console.clear=function(){}},requestAnimationFrame:function(){s.debug("Normalizing requestAnimationFrame"),n.requestAnimationFrame===i&&(s.debug("RequestAnimationFrame not available, normalizing event"),n.requestAnimationFrame=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(n){return e.fn[n]!==i&&e.fn[n].settings!==i},enabled:{modules:function(n){var o=[];return n=n||f.modules,e.each(n,function(e,n){s.moduleExists(n)&&o.push(n)}),o}},disabled:{modules:function(n){var o=[];return n=n||f.modules,e.each(n,function(e,n){s.moduleExists(n)||o.push(n)}),o}},change:{setting:function(n,o,t,r){t="string"==typeof t?"all"===t?f.modules:[t]:t||f.modules,r=r===i||r,e.each(t,function(i,t){var a,c=!s.moduleExists(t)||(e.fn[t].settings.namespace||!1);s.moduleExists(t)&&(s.verbose("Changing default setting",n,o,t),e.fn[t].settings[n]=o,r&&c&&(a=e(":data(module-"+c+")"),a.length>0&&(s.verbose("Modifying existing settings",a),a[t]("setting",n,o))))})},settings:function(n,o,t){o="string"==typeof o?[o]:o||f.modules,t=t===i||t,e.each(o,function(o,i){var r;s.moduleExists(i)&&(s.verbose("Changing default setting",n,i),e.extend(!0,e.fn[i].settings,n),t&&m&&(r=e(":data(module-"+m+")"),r.length>0&&(s.verbose("Modifying existing settings",r),r[i]("setting",n))))})}},enable:{console:function(){s.console(!0)},debug:function(e,n){e=e||f.modules,s.debug("Enabling debug for modules",e),s.change.setting("debug",!0,e,n)},verbose:function(e,n){e=e||f.modules,s.debug("Enabling verbose debug for modules",e),s.change.setting("verbose",!0,e,n)}},disable:{console:function(){s.console(!1)},debug:function(e,n){e=e||f.modules,s.debug("Disabling debug for modules",e),s.change.setting("debug",!1,e,n)},verbose:function(e,n){e=e||f.modules,s.debug("Disabling verbose debug for modules",e),s.change.setting("verbose",!1,e,n)}},console:function(e){if(e){if(y.cache.console===i)return void s.error(g.console);s.debug("Restoring console function"),n.console=y.cache.console}else s.debug("Disabling console function"),y.cache.console=n.console,n.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){s.verbose("Destroying previous site for",v),v.removeData(b)},cache:{},setting:function(n,o){if(e.isPlainObject(n))e.extend(!0,f,n);else{if(o===i)return f[n];f[n]=o}},internal:function(n,o){if(e.isPlainObject(n))e.extend(!0,s,n);else{if(o===i)return s[n];s[n]=o}},debug:function(){f.debug&&(f.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,f.name+":"),s.debug.apply(console,arguments)))},verbose:function(){f.verbose&&f.debug&&(f.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,f.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var n,o,i;f.performance&&(n=(new Date).getTime(),i=a||n,o=n-i,a=n,c.push({Element:h,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":o})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var n=f.name+":",o=0;a=!1,clearTimeout(s.performance.timer),e.each(c,function(e,n){o+=n["Execution Time"]}),n+=" "+o+"ms",(console.group!==i||console.table!==i)&&c.length>0&&(console.groupCollapsed(n),console.table?console.table(c):e.each(c,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),c=[]}},invoke:function(n,o,t){var a,c,l,u=y;return o=o||d,t=h||t,"string"==typeof n&&u!==i&&(n=n.split(/[\. ]/),a=n.length-1,e.each(n,function(o,t){var r=o!=a?t+n[o+1].charAt(0).toUpperCase()+n[o+1].slice(1):n;if(e.isPlainObject(u[r])&&o!=a)u=u[r];else{if(u[r]!==i)return c=u[r],!1;if(!e.isPlainObject(u[t])||o==a)return u[t]!==i?(c=u[t],!1):(s.error(g.method,n),!1);u=u[t]}})),e.isFunction(c)?l=c.apply(t,o):c!==i&&(l=c),e.isArray(r)?r.push(l):r!==i?r=[r,l]:l!==i&&(r=l),c}},u?(y===i&&s.initialize(),s.invoke(l)):(y!==i&&s.destroy(),s.initialize()),r!==i?r:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(n){return function(o){return!!e.data(o,n)}}):function(n,o,i){return!!e.data(n,i[3])}})}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9zaXRlLmpzIl0sIm5hbWVzIjpbIiQiLCJ3aW5kb3ciLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsInNpdGUiLCJmbiIsInBhcmFtZXRlcnMiLCJtb2R1bGUiLCJyZXR1cm5lZFZhbHVlIiwidGltZSIsIkRhdGUiLCJnZXRUaW1lIiwicGVyZm9ybWFuY2UiLCJxdWVyeSIsImFyZ3VtZW50cyIsIm1ldGhvZEludm9rZWQiLCJxdWVyeUFyZ3VtZW50cyIsInNsaWNlIiwiY2FsbCIsInNldHRpbmdzIiwiaXNQbGFpbk9iamVjdCIsImV4dGVuZCIsIm5hbWVzcGFjZSIsImVycm9yIiwibW9kdWxlTmFtZXNwYWNlIiwiJGRvY3VtZW50IiwiJG1vZHVsZSIsImVsZW1lbnQiLCJ0aGlzIiwiaW5zdGFuY2UiLCJkYXRhIiwiaW5pdGlhbGl6ZSIsImluc3RhbnRpYXRlIiwidmVyYm9zZSIsIm5vcm1hbGl6ZSIsImZpeCIsImNvbnNvbGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkZWJ1ZyIsImxvZyIsImRpc2FibGUiLCJncm91cCIsImdyb3VwRW5kIiwiZ3JvdXBDb2xsYXBzZWQiLCJtYXJrVGltZWxpbmUiLCJjb25zb2xlQ2xlYXIiLCJjbGVhciIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FsbGJhY2siLCJzZXRUaW1lb3V0IiwibW9kdWxlRXhpc3RzIiwibmFtZSIsImVuYWJsZWQiLCJtb2R1bGVzIiwiZW5hYmxlZE1vZHVsZXMiLCJlYWNoIiwiaW5kZXgiLCJwdXNoIiwiZGlzYWJsZWQiLCJkaXNhYmxlZE1vZHVsZXMiLCJjaGFuZ2UiLCJzZXR0aW5nIiwidmFsdWUiLCJtb2RpZnlFeGlzdGluZyIsIiRleGlzdGluZ01vZHVsZXMiLCJsZW5ndGgiLCJuZXdTZXR0aW5ncyIsImVuYWJsZSIsImNhY2hlIiwiaW5mbyIsIndhcm4iLCJkZXN0cm95IiwicmVtb3ZlRGF0YSIsImludGVybmFsIiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJiaW5kIiwiYXBwbHkiLCJtZXNzYWdlIiwiY3VycmVudFRpbWUiLCJleGVjdXRpb25UaW1lIiwicHJldmlvdXNUaW1lIiwiRWxlbWVudCIsIk5hbWUiLCJBcmd1bWVudHMiLCJFeGVjdXRpb24gVGltZSIsImNsZWFyVGltZW91dCIsInRpbWVyIiwiZGlzcGxheSIsInRpdGxlIiwidG90YWxUaW1lIiwidGFibGUiLCJpbnZva2UiLCJwYXNzZWRBcmd1bWVudHMiLCJjb250ZXh0IiwibWF4RGVwdGgiLCJmb3VuZCIsInJlc3BvbnNlIiwib2JqZWN0Iiwic3BsaXQiLCJkZXB0aCIsImNhbWVsQ2FzZVZhbHVlIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJtZXRob2QiLCJpc0Z1bmN0aW9uIiwiaXNBcnJheSIsInNpdGVOYW1lc3BhY2UiLCJuYW1lc3BhY2VTdHViIiwiY29uZmlnIiwic2VjdGlvbnMiLCJzZWN0aW9uIiwidXRpbGl0aWVzIiwiZXhwciIsImNyZWF0ZVBzZXVkbyIsImRhdGFOYW1lIiwiZWxlbSIsImkiLCJtYXRjaCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBVUMsU0FBV0EsRUFBR0MsRUFBUUMsRUFBVUMsR0FFakNILEVBQUVJLEtBQU9KLEVBQUVLLEdBQUdELEtBQU8sU0FBU0UsR0FDNUIsR0F1QkVDLEdBQ0FDLEVBdkJBQyxHQUFpQixHQUFJQyxPQUFPQyxVQUM1QkMsS0FFQUMsRUFBaUJDLFVBQVUsR0FDM0JDLEVBQWtDLGdCQUFURixHQUN6QkcsS0FBb0JDLE1BQU1DLEtBQUtKLFVBQVcsR0FFMUNLLEVBQW9CbkIsRUFBRW9CLGNBQWNkLEdBQ2hDTixFQUFFcUIsUUFBTyxLQUFVckIsRUFBRUksS0FBS2UsU0FBVWIsR0FDcENOLEVBQUVxQixVQUFXckIsRUFBRUksS0FBS2UsVUFFeEJHLEVBQWtCSCxFQUFTRyxVQUMzQkMsRUFBa0JKLEVBQVNJLE1BRzNCQyxFQUFrQixVQUFZRixFQUU5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LEdBRTFCQSxJQUFhaEcsSUFDbkJLLEVBQWdCMkYsR0FFWEQsSUFJUm5GLEdBQ0VjLElBQWExQixHQUNkSSxFQUFPd0IsYUFFVHhCLEVBQU91RixPQUFPakYsS0FHWGdCLElBQWExQixHQUNkSSxFQUFPa0UsVUFFVGxFLEVBQU93QixjQUVEdkIsSUFBa0JMLEVBQ3RCSyxFQUNBb0IsTUFJTjVCLEVBQUVJLEtBQUtlLFVBRUxrQyxLQUFjLE9BQ2QvQixVQUFjLE9BRWRDLE9BQ0VhLFFBQVUsK0VBQ1ZzRSxPQUFTLHlDQUdYcEUsT0FBYyxFQUNkTCxTQUFjLEVBQ2RyQixhQUFjLEVBRWQyQyxTQUNFLFlBQ0EsTUFDQSxXQUNBLFNBQ0EsV0FDQSxRQUNBLE9BQ0EsUUFDQSxNQUNBLFFBQ0EsU0FDQSxRQUNBLFVBQ0EsUUFDQSxTQUNBLE1BQ0EsYUFDQSxRQUNBLGNBR0ZzRCxjQUFrQixPQUNsQkMsZUFDRXhDLFNBQ0F5QyxVQUNBQyxZQUNBQyxXQUNBQyxlQU1KbEgsRUFBRXFCLE9BQU9yQixFQUFFbUgsS0FBTSxNQUNmckYsS0FBTzlCLEVBQUVtSCxLQUFpQixhQUN0Qm5ILEVBQUVtSCxLQUFLQyxhQUFhLFNBQVNDLEdBQzNCLE1BQU8sVUFBU0MsR0FDZCxRQUFTdEgsRUFBRThCLEtBQUt3RixFQUFNRCxNQUcxQixTQUFTQyxFQUFNQyxFQUFHQyxHQUVsQixRQUFTeEgsRUFBRThCLEtBQUt3RixFQUFNRSxFQUFPLFFBSy9CQyxPQUFReEgsT0FBUUMiLCJmaWxlIjoidmVuZG9yL3NpdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqICMgU2VtYW50aWMgVUkgMi4yLjcgLSBTaXRlXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9zZW1hbnRpYy1vcmcvc2VtYW50aWMtdWkvXG4gKlxuICpcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqL1xuXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuJC5zaXRlID0gJC5mbi5zaXRlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICB2YXJcbiAgICB0aW1lICAgICAgICAgICA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgIHBlcmZvcm1hbmNlICAgID0gW10sXG5cbiAgICBxdWVyeSAgICAgICAgICA9IGFyZ3VtZW50c1swXSxcbiAgICBtZXRob2RJbnZva2VkICA9ICh0eXBlb2YgcXVlcnkgPT0gJ3N0cmluZycpLFxuICAgIHF1ZXJ5QXJndW1lbnRzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuXG4gICAgc2V0dGluZ3MgICAgICAgID0gKCAkLmlzUGxhaW5PYmplY3QocGFyYW1ldGVycykgKVxuICAgICAgPyAkLmV4dGVuZCh0cnVlLCB7fSwgJC5zaXRlLnNldHRpbmdzLCBwYXJhbWV0ZXJzKVxuICAgICAgOiAkLmV4dGVuZCh7fSwgJC5zaXRlLnNldHRpbmdzKSxcblxuICAgIG5hbWVzcGFjZSAgICAgICA9IHNldHRpbmdzLm5hbWVzcGFjZSxcbiAgICBlcnJvciAgICAgICAgICAgPSBzZXR0aW5ncy5lcnJvcixcblxuICAgIGV2ZW50TmFtZXNwYWNlICA9ICcuJyArIG5hbWVzcGFjZSxcbiAgICBtb2R1bGVOYW1lc3BhY2UgPSAnbW9kdWxlLScgKyBuYW1lc3BhY2UsXG5cbiAgICAkZG9jdW1lbnQgICAgICAgPSAkKGRvY3VtZW50KSxcbiAgICAkbW9kdWxlICAgICAgICAgPSAkZG9jdW1lbnQsXG4gICAgZWxlbWVudCAgICAgICAgID0gdGhpcyxcbiAgICBpbnN0YW5jZSAgICAgICAgPSAkbW9kdWxlLmRhdGEobW9kdWxlTmFtZXNwYWNlKSxcblxuICAgIG1vZHVsZSxcbiAgICByZXR1cm5lZFZhbHVlXG4gIDtcbiAgbW9kdWxlID0ge1xuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICBtb2R1bGUuaW5zdGFudGlhdGUoKTtcbiAgICB9LFxuXG4gICAgaW5zdGFudGlhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgbW9kdWxlLnZlcmJvc2UoJ1N0b3JpbmcgaW5zdGFuY2Ugb2Ygc2l0ZScsIG1vZHVsZSk7XG4gICAgICBpbnN0YW5jZSA9IG1vZHVsZTtcbiAgICAgICRtb2R1bGVcbiAgICAgICAgLmRhdGEobW9kdWxlTmFtZXNwYWNlLCBtb2R1bGUpXG4gICAgICA7XG4gICAgfSxcblxuICAgIG5vcm1hbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICBtb2R1bGUuZml4LmNvbnNvbGUoKTtcbiAgICAgIG1vZHVsZS5maXgucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCk7XG4gICAgfSxcblxuICAgIGZpeDoge1xuICAgICAgY29uc29sZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIG1vZHVsZS5kZWJ1ZygnTm9ybWFsaXppbmcgd2luZG93LmNvbnNvbGUnKTtcbiAgICAgICAgaWYgKGNvbnNvbGUgPT09IHVuZGVmaW5lZCB8fCBjb25zb2xlLmxvZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ0NvbnNvbGUgbm90IGF2YWlsYWJsZSwgbm9ybWFsaXppbmcgZXZlbnRzJyk7XG4gICAgICAgICAgbW9kdWxlLmRpc2FibGUuY29uc29sZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY29uc29sZS5ncm91cCA9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgY29uc29sZS5ncm91cEVuZCA9PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgY29uc29sZS5ncm91cENvbGxhcHNlZCA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdDb25zb2xlIGdyb3VwIG5vdCBhdmFpbGFibGUsIG5vcm1hbGl6aW5nIGV2ZW50cycpO1xuICAgICAgICAgIHdpbmRvdy5jb25zb2xlLmdyb3VwID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgICB3aW5kb3cuY29uc29sZS5ncm91cEVuZCA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgd2luZG93LmNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQgPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY29uc29sZS5tYXJrVGltZWxpbmUgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnTWFyayB0aW1lbGluZSBub3QgYXZhaWxhYmxlLCBub3JtYWxpemluZyBldmVudHMnKTtcbiAgICAgICAgICB3aW5kb3cuY29uc29sZS5tYXJrVGltZWxpbmUgPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29uc29sZUNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgbW9kdWxlLmRlYnVnKCdEaXNhYmxpbmcgcHJvZ3JhbW1hdGljIGNvbnNvbGUgY2xlYXJpbmcnKTtcbiAgICAgICAgd2luZG93LmNvbnNvbGUuY2xlYXIgPSBmdW5jdGlvbigpIHt9O1xuICAgICAgfSxcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIG1vZHVsZS5kZWJ1ZygnTm9ybWFsaXppbmcgcmVxdWVzdEFuaW1hdGlvbkZyYW1lJyk7XG4gICAgICAgIGlmKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnUmVxdWVzdEFuaW1hdGlvbkZyYW1lIG5vdCBhdmFpbGFibGUsIG5vcm1hbGl6aW5nIGV2ZW50Jyk7XG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICAgIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICAgIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICAgIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgICAgICAgfHwgZnVuY3Rpb24oY2FsbGJhY2spIHsgc2V0VGltZW91dChjYWxsYmFjaywgMCk7IH1cbiAgICAgICAgICA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgbW9kdWxlRXhpc3RzOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICByZXR1cm4gKCQuZm5bbmFtZV0gIT09IHVuZGVmaW5lZCAmJiAkLmZuW25hbWVdLnNldHRpbmdzICE9PSB1bmRlZmluZWQpO1xuICAgIH0sXG5cbiAgICBlbmFibGVkOiB7XG4gICAgICBtb2R1bGVzOiBmdW5jdGlvbihtb2R1bGVzKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgIGVuYWJsZWRNb2R1bGVzID0gW11cbiAgICAgICAgO1xuICAgICAgICBtb2R1bGVzID0gbW9kdWxlcyB8fCBzZXR0aW5ncy5tb2R1bGVzO1xuICAgICAgICAkLmVhY2gobW9kdWxlcywgZnVuY3Rpb24oaW5kZXgsIG5hbWUpIHtcbiAgICAgICAgICBpZihtb2R1bGUubW9kdWxlRXhpc3RzKG5hbWUpKSB7XG4gICAgICAgICAgICBlbmFibGVkTW9kdWxlcy5wdXNoKG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlbmFibGVkTW9kdWxlcztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZGlzYWJsZWQ6IHtcbiAgICAgIG1vZHVsZXM6IGZ1bmN0aW9uKG1vZHVsZXMpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgZGlzYWJsZWRNb2R1bGVzID0gW11cbiAgICAgICAgO1xuICAgICAgICBtb2R1bGVzID0gbW9kdWxlcyB8fCBzZXR0aW5ncy5tb2R1bGVzO1xuICAgICAgICAkLmVhY2gobW9kdWxlcywgZnVuY3Rpb24oaW5kZXgsIG5hbWUpIHtcbiAgICAgICAgICBpZighbW9kdWxlLm1vZHVsZUV4aXN0cyhuYW1lKSkge1xuICAgICAgICAgICAgZGlzYWJsZWRNb2R1bGVzLnB1c2gobmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRpc2FibGVkTW9kdWxlcztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgY2hhbmdlOiB7XG4gICAgICBzZXR0aW5nOiBmdW5jdGlvbihzZXR0aW5nLCB2YWx1ZSwgbW9kdWxlcywgbW9kaWZ5RXhpc3RpbmcpIHtcbiAgICAgICAgbW9kdWxlcyA9ICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpXG4gICAgICAgICAgPyAobW9kdWxlcyA9PT0gJ2FsbCcpXG4gICAgICAgICAgICA/IHNldHRpbmdzLm1vZHVsZXNcbiAgICAgICAgICAgIDogW21vZHVsZXNdXG4gICAgICAgICAgOiBtb2R1bGVzIHx8IHNldHRpbmdzLm1vZHVsZXNcbiAgICAgICAgO1xuICAgICAgICBtb2RpZnlFeGlzdGluZyA9IChtb2RpZnlFeGlzdGluZyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgID8gbW9kaWZ5RXhpc3RpbmdcbiAgICAgICAgICA6IHRydWVcbiAgICAgICAgO1xuICAgICAgICAkLmVhY2gobW9kdWxlcywgZnVuY3Rpb24oaW5kZXgsIG5hbWUpIHtcbiAgICAgICAgICB2YXJcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IChtb2R1bGUubW9kdWxlRXhpc3RzKG5hbWUpKVxuICAgICAgICAgICAgICA/ICQuZm5bbmFtZV0uc2V0dGluZ3MubmFtZXNwYWNlIHx8IGZhbHNlXG4gICAgICAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICRleGlzdGluZ01vZHVsZXNcbiAgICAgICAgICA7XG4gICAgICAgICAgaWYobW9kdWxlLm1vZHVsZUV4aXN0cyhuYW1lKSkge1xuICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ0NoYW5naW5nIGRlZmF1bHQgc2V0dGluZycsIHNldHRpbmcsIHZhbHVlLCBuYW1lKTtcbiAgICAgICAgICAgICQuZm5bbmFtZV0uc2V0dGluZ3Nbc2V0dGluZ10gPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmKG1vZGlmeUV4aXN0aW5nICYmIG5hbWVzcGFjZSkge1xuICAgICAgICAgICAgICAkZXhpc3RpbmdNb2R1bGVzID0gJCgnOmRhdGEobW9kdWxlLScgKyBuYW1lc3BhY2UgKyAnKScpO1xuICAgICAgICAgICAgICBpZigkZXhpc3RpbmdNb2R1bGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnTW9kaWZ5aW5nIGV4aXN0aW5nIHNldHRpbmdzJywgJGV4aXN0aW5nTW9kdWxlcyk7XG4gICAgICAgICAgICAgICAgJGV4aXN0aW5nTW9kdWxlc1tuYW1lXSgnc2V0dGluZycsIHNldHRpbmcsIHZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgc2V0dGluZ3M6IGZ1bmN0aW9uKG5ld1NldHRpbmdzLCBtb2R1bGVzLCBtb2RpZnlFeGlzdGluZykge1xuICAgICAgICBtb2R1bGVzID0gKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJylcbiAgICAgICAgICA/IFttb2R1bGVzXVxuICAgICAgICAgIDogbW9kdWxlcyB8fCBzZXR0aW5ncy5tb2R1bGVzXG4gICAgICAgIDtcbiAgICAgICAgbW9kaWZ5RXhpc3RpbmcgPSAobW9kaWZ5RXhpc3RpbmcgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICA/IG1vZGlmeUV4aXN0aW5nXG4gICAgICAgICAgOiB0cnVlXG4gICAgICAgIDtcbiAgICAgICAgJC5lYWNoKG1vZHVsZXMsIGZ1bmN0aW9uKGluZGV4LCBuYW1lKSB7XG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICAkZXhpc3RpbmdNb2R1bGVzXG4gICAgICAgICAgO1xuICAgICAgICAgIGlmKG1vZHVsZS5tb2R1bGVFeGlzdHMobmFtZSkpIHtcbiAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdDaGFuZ2luZyBkZWZhdWx0IHNldHRpbmcnLCBuZXdTZXR0aW5ncywgbmFtZSk7XG4gICAgICAgICAgICAkLmV4dGVuZCh0cnVlLCAkLmZuW25hbWVdLnNldHRpbmdzLCBuZXdTZXR0aW5ncyk7XG4gICAgICAgICAgICBpZihtb2RpZnlFeGlzdGluZyAmJiBuYW1lc3BhY2UpIHtcbiAgICAgICAgICAgICAgJGV4aXN0aW5nTW9kdWxlcyA9ICQoJzpkYXRhKG1vZHVsZS0nICsgbmFtZXNwYWNlICsgJyknKTtcbiAgICAgICAgICAgICAgaWYoJGV4aXN0aW5nTW9kdWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ01vZGlmeWluZyBleGlzdGluZyBzZXR0aW5ncycsICRleGlzdGluZ01vZHVsZXMpO1xuICAgICAgICAgICAgICAgICRleGlzdGluZ01vZHVsZXNbbmFtZV0oJ3NldHRpbmcnLCBuZXdTZXR0aW5ncyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBlbmFibGU6IHtcbiAgICAgIGNvbnNvbGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICBtb2R1bGUuY29uc29sZSh0cnVlKTtcbiAgICAgIH0sXG4gICAgICBkZWJ1ZzogZnVuY3Rpb24obW9kdWxlcywgbW9kaWZ5RXhpc3RpbmcpIHtcbiAgICAgICAgbW9kdWxlcyA9IG1vZHVsZXMgfHwgc2V0dGluZ3MubW9kdWxlcztcbiAgICAgICAgbW9kdWxlLmRlYnVnKCdFbmFibGluZyBkZWJ1ZyBmb3IgbW9kdWxlcycsIG1vZHVsZXMpO1xuICAgICAgICBtb2R1bGUuY2hhbmdlLnNldHRpbmcoJ2RlYnVnJywgdHJ1ZSwgbW9kdWxlcywgbW9kaWZ5RXhpc3RpbmcpO1xuICAgICAgfSxcbiAgICAgIHZlcmJvc2U6IGZ1bmN0aW9uKG1vZHVsZXMsIG1vZGlmeUV4aXN0aW5nKSB7XG4gICAgICAgIG1vZHVsZXMgPSBtb2R1bGVzIHx8IHNldHRpbmdzLm1vZHVsZXM7XG4gICAgICAgIG1vZHVsZS5kZWJ1ZygnRW5hYmxpbmcgdmVyYm9zZSBkZWJ1ZyBmb3IgbW9kdWxlcycsIG1vZHVsZXMpO1xuICAgICAgICBtb2R1bGUuY2hhbmdlLnNldHRpbmcoJ3ZlcmJvc2UnLCB0cnVlLCBtb2R1bGVzLCBtb2RpZnlFeGlzdGluZyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBkaXNhYmxlOiB7XG4gICAgICBjb25zb2xlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgbW9kdWxlLmNvbnNvbGUoZmFsc2UpO1xuICAgICAgfSxcbiAgICAgIGRlYnVnOiBmdW5jdGlvbihtb2R1bGVzLCBtb2RpZnlFeGlzdGluZykge1xuICAgICAgICBtb2R1bGVzID0gbW9kdWxlcyB8fCBzZXR0aW5ncy5tb2R1bGVzO1xuICAgICAgICBtb2R1bGUuZGVidWcoJ0Rpc2FibGluZyBkZWJ1ZyBmb3IgbW9kdWxlcycsIG1vZHVsZXMpO1xuICAgICAgICBtb2R1bGUuY2hhbmdlLnNldHRpbmcoJ2RlYnVnJywgZmFsc2UsIG1vZHVsZXMsIG1vZGlmeUV4aXN0aW5nKTtcbiAgICAgIH0sXG4gICAgICB2ZXJib3NlOiBmdW5jdGlvbihtb2R1bGVzLCBtb2RpZnlFeGlzdGluZykge1xuICAgICAgICBtb2R1bGVzID0gbW9kdWxlcyB8fCBzZXR0aW5ncy5tb2R1bGVzO1xuICAgICAgICBtb2R1bGUuZGVidWcoJ0Rpc2FibGluZyB2ZXJib3NlIGRlYnVnIGZvciBtb2R1bGVzJywgbW9kdWxlcyk7XG4gICAgICAgIG1vZHVsZS5jaGFuZ2Uuc2V0dGluZygndmVyYm9zZScsIGZhbHNlLCBtb2R1bGVzLCBtb2RpZnlFeGlzdGluZyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNvbnNvbGU6IGZ1bmN0aW9uKGVuYWJsZSkge1xuICAgICAgaWYoZW5hYmxlKSB7XG4gICAgICAgIGlmKGluc3RhbmNlLmNhY2hlLmNvbnNvbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG1vZHVsZS5lcnJvcihlcnJvci5jb25zb2xlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbW9kdWxlLmRlYnVnKCdSZXN0b3JpbmcgY29uc29sZSBmdW5jdGlvbicpO1xuICAgICAgICB3aW5kb3cuY29uc29sZSA9IGluc3RhbmNlLmNhY2hlLmNvbnNvbGU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbW9kdWxlLmRlYnVnKCdEaXNhYmxpbmcgY29uc29sZSBmdW5jdGlvbicpO1xuICAgICAgICBpbnN0YW5jZS5jYWNoZS5jb25zb2xlID0gd2luZG93LmNvbnNvbGU7XG4gICAgICAgIHdpbmRvdy5jb25zb2xlID0ge1xuICAgICAgICAgIGNsZWFyICAgICAgICAgIDogZnVuY3Rpb24oKXt9LFxuICAgICAgICAgIGVycm9yICAgICAgICAgIDogZnVuY3Rpb24oKXt9LFxuICAgICAgICAgIGdyb3VwICAgICAgICAgIDogZnVuY3Rpb24oKXt9LFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkIDogZnVuY3Rpb24oKXt9LFxuICAgICAgICAgIGdyb3VwRW5kICAgICAgIDogZnVuY3Rpb24oKXt9LFxuICAgICAgICAgIGluZm8gICAgICAgICAgIDogZnVuY3Rpb24oKXt9LFxuICAgICAgICAgIGxvZyAgICAgICAgICAgIDogZnVuY3Rpb24oKXt9LFxuICAgICAgICAgIG1hcmtUaW1lbGluZSAgIDogZnVuY3Rpb24oKXt9LFxuICAgICAgICAgIHdhcm4gICAgICAgICAgIDogZnVuY3Rpb24oKXt9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSxcblxuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgbW9kdWxlLnZlcmJvc2UoJ0Rlc3Ryb3lpbmcgcHJldmlvdXMgc2l0ZSBmb3InLCAkbW9kdWxlKTtcbiAgICAgICRtb2R1bGVcbiAgICAgICAgLnJlbW92ZURhdGEobW9kdWxlTmFtZXNwYWNlKVxuICAgICAgO1xuICAgIH0sXG5cbiAgICBjYWNoZToge30sXG5cbiAgICBzZXR0aW5nOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgaWYoICQuaXNQbGFpbk9iamVjdChuYW1lKSApIHtcbiAgICAgICAgJC5leHRlbmQodHJ1ZSwgc2V0dGluZ3MsIG5hbWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZih2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNldHRpbmdzW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNldHRpbmdzW25hbWVdO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW50ZXJuYWw6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiggJC5pc1BsYWluT2JqZWN0KG5hbWUpICkge1xuICAgICAgICAkLmV4dGVuZCh0cnVlLCBtb2R1bGUsIG5hbWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZih2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1vZHVsZVtuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBtb2R1bGVbbmFtZV07XG4gICAgICB9XG4gICAgfSxcbiAgICBkZWJ1ZzogZnVuY3Rpb24oKSB7XG4gICAgICBpZihzZXR0aW5ncy5kZWJ1Zykge1xuICAgICAgICBpZihzZXR0aW5ncy5wZXJmb3JtYW5jZSkge1xuICAgICAgICAgIG1vZHVsZS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBtb2R1bGUuZGVidWcgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbywgY29uc29sZSwgc2V0dGluZ3MubmFtZSArICc6Jyk7XG4gICAgICAgICAgbW9kdWxlLmRlYnVnLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHZlcmJvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYoc2V0dGluZ3MudmVyYm9zZSAmJiBzZXR0aW5ncy5kZWJ1Zykge1xuICAgICAgICBpZihzZXR0aW5ncy5wZXJmb3JtYW5jZSkge1xuICAgICAgICAgIG1vZHVsZS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBtb2R1bGUudmVyYm9zZSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLCBjb25zb2xlLCBzZXR0aW5ncy5uYW1lICsgJzonKTtcbiAgICAgICAgICBtb2R1bGUudmVyYm9zZS5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICBtb2R1bGUuZXJyb3IgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsIGNvbnNvbGUsIHNldHRpbmdzLm5hbWUgKyAnOicpO1xuICAgICAgbW9kdWxlLmVycm9yLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICBwZXJmb3JtYW5jZToge1xuICAgICAgbG9nOiBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgICAgIGV4ZWN1dGlvblRpbWUsXG4gICAgICAgICAgcHJldmlvdXNUaW1lXG4gICAgICAgIDtcbiAgICAgICAgaWYoc2V0dGluZ3MucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgICBjdXJyZW50VGltZSAgID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgcHJldmlvdXNUaW1lICA9IHRpbWUgfHwgY3VycmVudFRpbWU7XG4gICAgICAgICAgZXhlY3V0aW9uVGltZSA9IGN1cnJlbnRUaW1lIC0gcHJldmlvdXNUaW1lO1xuICAgICAgICAgIHRpbWUgICAgICAgICAgPSBjdXJyZW50VGltZTtcbiAgICAgICAgICBwZXJmb3JtYW5jZS5wdXNoKHtcbiAgICAgICAgICAgICdFbGVtZW50JyAgICAgICAgOiBlbGVtZW50LFxuICAgICAgICAgICAgJ05hbWUnICAgICAgICAgICA6IG1lc3NhZ2VbMF0sXG4gICAgICAgICAgICAnQXJndW1lbnRzJyAgICAgIDogW10uc2xpY2UuY2FsbChtZXNzYWdlLCAxKSB8fCAnJyxcbiAgICAgICAgICAgICdFeGVjdXRpb24gVGltZScgOiBleGVjdXRpb25UaW1lXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJUaW1lb3V0KG1vZHVsZS5wZXJmb3JtYW5jZS50aW1lcik7XG4gICAgICAgIG1vZHVsZS5wZXJmb3JtYW5jZS50aW1lciA9IHNldFRpbWVvdXQobW9kdWxlLnBlcmZvcm1hbmNlLmRpc3BsYXksIDUwMCk7XG4gICAgICB9LFxuICAgICAgZGlzcGxheTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgIHRpdGxlID0gc2V0dGluZ3MubmFtZSArICc6JyxcbiAgICAgICAgICB0b3RhbFRpbWUgPSAwXG4gICAgICAgIDtcbiAgICAgICAgdGltZSA9IGZhbHNlO1xuICAgICAgICBjbGVhclRpbWVvdXQobW9kdWxlLnBlcmZvcm1hbmNlLnRpbWVyKTtcbiAgICAgICAgJC5lYWNoKHBlcmZvcm1hbmNlLCBmdW5jdGlvbihpbmRleCwgZGF0YSkge1xuICAgICAgICAgIHRvdGFsVGltZSArPSBkYXRhWydFeGVjdXRpb24gVGltZSddO1xuICAgICAgICB9KTtcbiAgICAgICAgdGl0bGUgKz0gJyAnICsgdG90YWxUaW1lICsgJ21zJztcbiAgICAgICAgaWYoIChjb25zb2xlLmdyb3VwICE9PSB1bmRlZmluZWQgfHwgY29uc29sZS50YWJsZSAhPT0gdW5kZWZpbmVkKSAmJiBwZXJmb3JtYW5jZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZCh0aXRsZSk7XG4gICAgICAgICAgaWYoY29uc29sZS50YWJsZSkge1xuICAgICAgICAgICAgY29uc29sZS50YWJsZShwZXJmb3JtYW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJC5lYWNoKHBlcmZvcm1hbmNlLCBmdW5jdGlvbihpbmRleCwgZGF0YSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhWydOYW1lJ10gKyAnOiAnICsgZGF0YVsnRXhlY3V0aW9uIFRpbWUnXSsnbXMnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgcGVyZm9ybWFuY2UgPSBbXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGludm9rZTogZnVuY3Rpb24ocXVlcnksIHBhc3NlZEFyZ3VtZW50cywgY29udGV4dCkge1xuICAgICAgdmFyXG4gICAgICAgIG9iamVjdCA9IGluc3RhbmNlLFxuICAgICAgICBtYXhEZXB0aCxcbiAgICAgICAgZm91bmQsXG4gICAgICAgIHJlc3BvbnNlXG4gICAgICA7XG4gICAgICBwYXNzZWRBcmd1bWVudHMgPSBwYXNzZWRBcmd1bWVudHMgfHwgcXVlcnlBcmd1bWVudHM7XG4gICAgICBjb250ZXh0ICAgICAgICAgPSBlbGVtZW50ICAgICAgICAgfHwgY29udGV4dDtcbiAgICAgIGlmKHR5cGVvZiBxdWVyeSA9PSAnc3RyaW5nJyAmJiBvYmplY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBxdWVyeSAgICA9IHF1ZXJ5LnNwbGl0KC9bXFwuIF0vKTtcbiAgICAgICAgbWF4RGVwdGggPSBxdWVyeS5sZW5ndGggLSAxO1xuICAgICAgICAkLmVhY2gocXVlcnksIGZ1bmN0aW9uKGRlcHRoLCB2YWx1ZSkge1xuICAgICAgICAgIHZhciBjYW1lbENhc2VWYWx1ZSA9IChkZXB0aCAhPSBtYXhEZXB0aClcbiAgICAgICAgICAgID8gdmFsdWUgKyBxdWVyeVtkZXB0aCArIDFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcXVlcnlbZGVwdGggKyAxXS5zbGljZSgxKVxuICAgICAgICAgICAgOiBxdWVyeVxuICAgICAgICAgIDtcbiAgICAgICAgICBpZiggJC5pc1BsYWluT2JqZWN0KCBvYmplY3RbY2FtZWxDYXNlVmFsdWVdICkgJiYgKGRlcHRoICE9IG1heERlcHRoKSApIHtcbiAgICAgICAgICAgIG9iamVjdCA9IG9iamVjdFtjYW1lbENhc2VWYWx1ZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYoIG9iamVjdFtjYW1lbENhc2VWYWx1ZV0gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgIGZvdW5kID0gb2JqZWN0W2NhbWVsQ2FzZVZhbHVlXTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiggJC5pc1BsYWluT2JqZWN0KCBvYmplY3RbdmFsdWVdICkgJiYgKGRlcHRoICE9IG1heERlcHRoKSApIHtcbiAgICAgICAgICAgIG9iamVjdCA9IG9iamVjdFt2YWx1ZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYoIG9iamVjdFt2YWx1ZV0gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgIGZvdW5kID0gb2JqZWN0W3ZhbHVlXTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtb2R1bGUuZXJyb3IoZXJyb3IubWV0aG9kLCBxdWVyeSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICggJC5pc0Z1bmN0aW9uKCBmb3VuZCApICkge1xuICAgICAgICByZXNwb25zZSA9IGZvdW5kLmFwcGx5KGNvbnRleHQsIHBhc3NlZEFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKGZvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzcG9uc2UgPSBmb3VuZDtcbiAgICAgIH1cbiAgICAgIGlmKCQuaXNBcnJheShyZXR1cm5lZFZhbHVlKSkge1xuICAgICAgICByZXR1cm5lZFZhbHVlLnB1c2gocmVzcG9uc2UpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZihyZXR1cm5lZFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IFtyZXR1cm5lZFZhbHVlLCByZXNwb25zZV07XG4gICAgICB9XG4gICAgICBlbHNlIGlmKHJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuZWRWYWx1ZSA9IHJlc3BvbnNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cbiAgfTtcblxuICBpZihtZXRob2RJbnZva2VkKSB7XG4gICAgaWYoaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgbW9kdWxlLmluaXRpYWxpemUoKTtcbiAgICB9XG4gICAgbW9kdWxlLmludm9rZShxdWVyeSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYoaW5zdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbW9kdWxlLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgbW9kdWxlLmluaXRpYWxpemUoKTtcbiAgfVxuICByZXR1cm4gKHJldHVybmVkVmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICA/IHJldHVybmVkVmFsdWVcbiAgICA6IHRoaXNcbiAgO1xufTtcblxuJC5zaXRlLnNldHRpbmdzID0ge1xuXG4gIG5hbWUgICAgICAgIDogJ1NpdGUnLFxuICBuYW1lc3BhY2UgICA6ICdzaXRlJyxcblxuICBlcnJvciA6IHtcbiAgICBjb25zb2xlIDogJ0NvbnNvbGUgY2Fubm90IGJlIHJlc3RvcmVkLCBtb3N0IGxpa2VseSBpdCB3YXMgb3ZlcndyaXR0ZW4gb3V0c2lkZSBvZiBtb2R1bGUnLFxuICAgIG1ldGhvZCA6ICdUaGUgbWV0aG9kIHlvdSBjYWxsZWQgaXMgbm90IGRlZmluZWQuJ1xuICB9LFxuXG4gIGRlYnVnICAgICAgIDogZmFsc2UsXG4gIHZlcmJvc2UgICAgIDogZmFsc2UsXG4gIHBlcmZvcm1hbmNlIDogdHJ1ZSxcblxuICBtb2R1bGVzOiBbXG4gICAgJ2FjY29yZGlvbicsXG4gICAgJ2FwaScsXG4gICAgJ2NoZWNrYm94JyxcbiAgICAnZGltbWVyJyxcbiAgICAnZHJvcGRvd24nLFxuICAgICdlbWJlZCcsXG4gICAgJ2Zvcm0nLFxuICAgICdtb2RhbCcsXG4gICAgJ25hZycsXG4gICAgJ3BvcHVwJyxcbiAgICAncmF0aW5nJyxcbiAgICAnc2hhcGUnLFxuICAgICdzaWRlYmFyJyxcbiAgICAnc3RhdGUnLFxuICAgICdzdGlja3knLFxuICAgICd0YWInLFxuICAgICd0cmFuc2l0aW9uJyxcbiAgICAndmlzaXQnLFxuICAgICd2aXNpYmlsaXR5J1xuICBdLFxuXG4gIHNpdGVOYW1lc3BhY2UgICA6ICdzaXRlJyxcbiAgbmFtZXNwYWNlU3R1YiAgIDoge1xuICAgIGNhY2hlICAgICA6IHt9LFxuICAgIGNvbmZpZyAgICA6IHt9LFxuICAgIHNlY3Rpb25zICA6IHt9LFxuICAgIHNlY3Rpb24gICA6IHt9LFxuICAgIHV0aWxpdGllcyA6IHt9XG4gIH1cblxufTtcblxuLy8gYWxsb3dzIGZvciBzZWxlY3Rpb24gb2YgZWxlbWVudHMgd2l0aCBkYXRhIGF0dHJpYnV0ZXNcbiQuZXh0ZW5kKCQuZXhwclsgXCI6XCIgXSwge1xuICBkYXRhOiAoJC5leHByLmNyZWF0ZVBzZXVkbylcbiAgICA/ICQuZXhwci5jcmVhdGVQc2V1ZG8oZnVuY3Rpb24oZGF0YU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICByZXR1cm4gISEkLmRhdGEoZWxlbSwgZGF0YU5hbWUpO1xuICAgICAgICB9O1xuICAgICAgfSlcbiAgICA6IGZ1bmN0aW9uKGVsZW0sIGksIG1hdGNoKSB7XG4gICAgICAvLyBzdXBwb3J0OiBqUXVlcnkgPCAxLjhcbiAgICAgIHJldHVybiAhISQuZGF0YShlbGVtLCBtYXRjaFsgMyBdKTtcbiAgICB9XG59KTtcblxuXG59KSggalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50ICk7XG4iXX0=
