!function(t,e,o,n){"use strict";e="undefined"!=typeof e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t.fn.popup=function(i){var r,a=t(this),s=t(o),p=t(e),l=t("body"),u=a.selector||"",c=!0,d=(new Date).getTime(),f=[],g=arguments[0],h="string"==typeof g,m=[].slice.call(arguments,1);return a.each(function(){var a,v,b,w,y,C,T=t.isPlainObject(i)?t.extend(!0,{},t.fn.popup.settings,i):t.extend({},t.fn.popup.settings),P=T.selector,x=T.className,k=T.error,S=T.metadata,E=T.namespace,A="."+T.namespace,D="module-"+E,O=t(this),j=t(T.context),F=t(T.scrollContext),R=t(T.boundary),H=T.target?t(T.target):O,N=0,M=!1,W=!1,G=this,I=O.data(D);C={initialize:function(){C.debug("Initializing",O),C.createID(),C.bind.events(),!C.exists()&&T.preserve&&C.create(),T.observeChanges&&C.observeChanges(),C.instantiate()},instantiate:function(){C.verbose("Storing instance",C),I=C,O.data(D,I)},observeChanges:function(){"MutationObserver"in e&&(b=new MutationObserver(C.event.documentChanged),b.observe(o,{childList:!0,subtree:!0}),C.debug("Setting up mutation observer",b))},refresh:function(){T.popup?a=t(T.popup).eq(0):T.inline&&(a=H.nextAll(P.popup).eq(0),T.popup=a),T.popup?(a.addClass(x.loading),v=C.get.offsetParent(),a.removeClass(x.loading),T.movePopup&&C.has.popup()&&C.get.offsetParent(a)[0]!==v[0]&&(C.debug("Moving popup to the same offset parent as activating element"),a.detach().appendTo(v))):v=T.inline?C.get.offsetParent(H):C.has.popup()?C.get.offsetParent(a):l,v.is("html")&&v[0]!==l[0]&&(C.debug("Setting page as offset parent"),v=l),C.get.variation()&&C.set.variation()},reposition:function(){C.refresh(),C.set.position()},destroy:function(){C.debug("Destroying previous module"),b&&b.disconnect(),a&&!T.preserve&&C.removePopup(),clearTimeout(C.hideTimer),clearTimeout(C.showTimer),C.unbind.close(),C.unbind.events(),O.removeData(D)},event:{start:function(e){var o=t.isPlainObject(T.delay)?T.delay.show:T.delay;clearTimeout(C.hideTimer),W||(C.showTimer=setTimeout(C.show,o))},end:function(){var e=t.isPlainObject(T.delay)?T.delay.hide:T.delay;clearTimeout(C.showTimer),C.hideTimer=setTimeout(C.hide,e)},touchstart:function(t){W=!0,C.show()},resize:function(){C.is.visible()&&C.set.position()},documentChanged:function(e){[].forEach.call(e,function(e){e.removedNodes&&[].forEach.call(e.removedNodes,function(e){(e==G||t(e).find(G).length>0)&&(C.debug("Element removed from DOM, tearing down events"),C.destroy())})})},hideGracefully:function(e){var n=t(e.target),i=t.contains(o.documentElement,e.target),r=n.closest(P.popup).length>0;e&&!r&&i?(C.debug("Click occurred outside popup hiding popup"),C.hide()):C.debug("Click was inside popup, keeping popup open")}},create:function(){var e=C.get.html(),o=C.get.title(),n=C.get.content();e||n||o?(C.debug("Creating pop-up html"),e||(e=T.templates.popup({title:o,content:n})),a=t("<div/>").addClass(x.popup).data(S.activator,O).html(e),T.inline?(C.verbose("Inserting popup element inline",a),a.insertAfter(O)):(C.verbose("Appending popup element to body",a),a.appendTo(j)),C.refresh(),C.set.variation(),T.hoverable&&C.bind.popup(),T.onCreate.call(a,G)):0!==H.next(P.popup).length?(C.verbose("Pre-existing popup found"),T.inline=!0,T.popup=H.next(P.popup).data(S.activator,O),C.refresh(),T.hoverable&&C.bind.popup()):T.popup?(t(T.popup).data(S.activator,O),C.verbose("Used popup specified in settings"),C.refresh(),T.hoverable&&C.bind.popup()):C.debug("No content specified skipping display",G)},createID:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),w="."+y,C.verbose("Creating unique id for element",y)},toggle:function(){C.debug("Toggling pop-up"),C.is.hidden()?(C.debug("Popup is hidden, showing pop-up"),C.unbind.close(),C.show()):(C.debug("Popup is visible, hiding pop-up"),C.hide())},show:function(t){if(t=t||function(){},C.debug("Showing pop-up",T.transition),C.is.hidden()&&(!C.is.active()||!C.is.dropdown())){if(C.exists()||C.create(),T.onShow.call(a,G)===!1)return void C.debug("onShow callback returned false, cancelling popup animation");T.preserve||T.popup||C.refresh(),a&&C.set.position()&&(C.save.conditions(),T.exclusive&&C.hideAll(),C.animate.show(t))}},hide:function(t){if(t=t||function(){},C.is.visible()||C.is.animating()){if(T.onHide.call(a,G)===!1)return void C.debug("onHide callback returned false, cancelling popup animation");C.remove.visible(),C.unbind.close(),C.restore.conditions(),C.animate.hide(t)}},hideAll:function(){t(P.popup).filter("."+x.visible).each(function(){t(this).data(S.activator).popup("hide")})},exists:function(){return!!a&&(T.inline||T.popup?C.has.popup():a.closest(j).length>=1)},removePopup:function(){C.has.popup()&&!T.popup&&(C.debug("Removing popup",a),a.remove(),a=n,T.onRemove.call(a,G))},save:{conditions:function(){C.cache={title:O.attr("title")},C.cache.title&&O.removeAttr("title"),C.verbose("Saving original attributes",C.cache.title)}},restore:{conditions:function(){return C.cache&&C.cache.title&&(O.attr("title",C.cache.title),C.verbose("Restoring original attributes",C.cache.title)),!0}},supports:{svg:function(){return typeof SVGGraphicsElement===n}},animate:{show:function(e){e=t.isFunction(e)?e:function(){},T.transition&&t.fn.transition!==n&&O.transition("is supported")?(C.set.visible(),a.transition({animation:T.transition+" in",queue:!1,debug:T.debug,verbose:T.verbose,duration:T.duration,onComplete:function(){C.bind.close(),e.call(a,G),T.onVisible.call(a,G)}})):C.error(k.noTransition)},hide:function(e){return e=t.isFunction(e)?e:function(){},C.debug("Hiding pop-up"),T.onHide.call(a,G)===!1?void C.debug("onHide callback returned false, cancelling popup animation"):void(T.transition&&t.fn.transition!==n&&O.transition("is supported")?a.transition({animation:T.transition+" out",queue:!1,duration:T.duration,debug:T.debug,verbose:T.verbose,onComplete:function(){C.reset(),e.call(a,G),T.onHidden.call(a,G)}}):C.error(k.noTransition))}},change:{content:function(t){a.html(t)}},get:{html:function(){return O.removeData(S.html),O.data(S.html)||T.html},title:function(){return O.removeData(S.title),O.data(S.title)||T.title},content:function(){return O.removeData(S.content),O.data(S.content)||O.attr("title")||T.content},variation:function(){return O.removeData(S.variation),O.data(S.variation)||T.variation},popup:function(){return a},popupOffset:function(){return a.offset()},calculations:function(){var t,o=H[0],n=R[0]==e,i=T.inline||T.popup&&T.movePopup?H.position():H.offset(),r=n?{top:0,left:0}:R.offset(),s={},l=n?{top:p.scrollTop(),left:p.scrollLeft()}:{top:0,left:0};return s={target:{element:H[0],width:H.outerWidth(),height:H.outerHeight(),top:i.top,left:i.left,margin:{}},popup:{width:a.outerWidth(),height:a.outerHeight()},parent:{width:v.outerWidth(),height:v.outerHeight()},screen:{top:r.top,left:r.left,scroll:{top:l.top,left:l.left},width:R.width(),height:R.height()}},T.setFluidWidth&&C.is.fluid()&&(s.container={width:a.parent().outerWidth()},s.popup.width=s.container.width),s.target.margin.top=T.inline?parseInt(e.getComputedStyle(o).getPropertyValue("margin-top"),10):0,s.target.margin.left=T.inline?C.is.rtl()?parseInt(e.getComputedStyle(o).getPropertyValue("margin-right"),10):parseInt(e.getComputedStyle(o).getPropertyValue("margin-left"),10):0,t=s.screen,s.boundary={top:t.top+t.scroll.top,bottom:t.top+t.scroll.top+t.height,left:t.left+t.scroll.left,right:t.left+t.scroll.left+t.width},s},id:function(){return y},startEvent:function(){return"hover"==T.on?"mouseenter":"focus"==T.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==T.on?"mouseleave":"focus"==T.on&&"blur"},distanceFromBoundary:function(t,e){var o,n,i={};return e=e||C.get.calculations(),o=e.popup,n=e.boundary,t&&(i={top:t.top-n.top,left:t.left-n.left,right:n.right-(t.left+o.width),bottom:n.bottom-(t.top+o.height)},C.verbose("Distance from boundaries determined",t,i)),i},offsetParent:function(e){var o=e!==n?e[0]:O[0],i=o.parentNode,r=t(i);if(i)for(var a="none"===r.css("transform"),s="static"===r.css("position"),p=r.is("html");i&&!p&&s&&a;)i=i.parentNode,r=t(i),a="none"===r.css("transform"),s="static"===r.css("position"),p=r.is("html");return r&&r.length>0?r:t()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(t){var e=t.split(" "),o=e[0],n=e[1],i={top:"bottom",bottom:"top",left:"right",right:"left"},r={left:"center",center:"right",right:"left"},a={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},s="top"==o||"bottom"==o,p=!1,l=!1,u=!1;return M||(C.verbose("All available positions available"),M=C.get.positions()),C.debug("Recording last position tried",t),M[t]=!0,"opposite"===T.prefer&&(u=[i[o],n],u=u.join(" "),p=M[u]===!0,C.debug("Trying opposite strategy",u)),"adjacent"===T.prefer&&s&&(u=[o,r[n]],u=u.join(" "),l=M[u]===!0,C.debug("Trying adjacent strategy",u)),(l||p)&&(C.debug("Using backup position",u),u=a[t]),u}},set:{position:function(t,e){if(0===H.length||0===a.length)return void C.error(k.notFound);var o,i,r,s,p,l,u,c;if(e=e||C.get.calculations(),t=t||O.data(S.position)||T.position,o=O.data(S.offset)||T.offset,i=T.distanceAway,r=e.target,s=e.popup,p=e.parent,0===r.width&&0===r.height&&!C.is.svg(r.element))return C.debug("Popup target is hidden, no action taken"),!1;switch(T.inline&&(C.debug("Adding margin to calculation",r.margin),"left center"==t||"right center"==t?(o+=r.margin.top,i+=-r.margin.left):"top left"==t||"top center"==t||"top right"==t?(o+=r.margin.left,i-=r.margin.top):(o+=r.margin.left,i+=r.margin.top)),C.debug("Determining popup position from calculations",t,e),C.is.rtl()&&(t=t.replace(/left|right/g,function(t){return"left"==t?"right":"left"}),C.debug("RTL: Popup position updated",t)),N==T.maxSearchDepth&&"string"==typeof T.lastResort&&(t=T.lastResort),t){case"top left":l={top:"auto",bottom:p.height-r.top+i,left:r.left+o,right:"auto"};break;case"top center":l={bottom:p.height-r.top+i,left:r.left+r.width/2-s.width/2+o,top:"auto",right:"auto"};break;case"top right":l={bottom:p.height-r.top+i,right:p.width-r.left-r.width-o,top:"auto",left:"auto"};break;case"left center":l={top:r.top+r.height/2-s.height/2+o,right:p.width-r.left+i,left:"auto",bottom:"auto"};break;case"right center":l={top:r.top+r.height/2-s.height/2+o,left:r.left+r.width+i,bottom:"auto",right:"auto"};break;case"bottom left":l={top:r.top+r.height+i,left:r.left+o,bottom:"auto",right:"auto"};break;case"bottom center":l={top:r.top+r.height+i,left:r.left+r.width/2-s.width/2+o,bottom:"auto",right:"auto"};break;case"bottom right":l={top:r.top+r.height+i,right:p.width-r.left-r.width-o,left:"auto",bottom:"auto"}}if(l===n&&C.error(k.invalidPosition,t),C.debug("Calculated popup positioning values",l),a.css(l).removeClass(x.position).addClass(t).addClass(x.loading),u=C.get.popupOffset(),c=C.get.distanceFromBoundary(u,e),C.is.offstage(c,t)){if(C.debug("Position is outside viewport",t),N<T.maxSearchDepth)return N++,t=C.get.nextPosition(t),C.debug("Trying new position",t),!!a&&C.set.position(t,e);if(!T.lastResort)return C.debug("Popup could not find a position to display",a),C.error(k.cannotPlace,G),C.remove.attempts(),C.remove.loading(),C.reset(),T.onUnplaceable.call(a,G),!1;C.debug("No position found, showing with last position")}return C.debug("Position is on stage",t),C.remove.attempts(),C.remove.loading(),T.setFluidWidth&&C.is.fluid()&&C.set.fluidWidth(e),!0},fluidWidth:function(t){t=t||C.get.calculations(),C.debug("Automatically setting element width to parent width",t.parent.width),a.css("width",t.container.width)},variation:function(t){t=t||C.get.variation(),t&&C.has.popup()&&(C.verbose("Adding variation to popup",t),a.addClass(t))},visible:function(){O.addClass(x.visible)}},remove:{loading:function(){a.removeClass(x.loading)},variation:function(t){t=t||C.get.variation(),t&&(C.verbose("Removing variation",t),a.removeClass(t))},visible:function(){O.removeClass(x.visible)},attempts:function(){C.verbose("Resetting all searched positions"),N=0,M=!1}},bind:{events:function(){C.debug("Binding popup events to module"),"click"==T.on&&O.on("click"+A,C.toggle),"hover"==T.on&&c&&O.on("touchstart"+A,C.event.touchstart),C.get.startEvent()&&O.on(C.get.startEvent()+A,C.event.start).on(C.get.endEvent()+A,C.event.end),T.target&&C.debug("Target set to element",H),p.on("resize"+w,C.event.resize)},popup:function(){C.verbose("Allowing hover events on popup to prevent closing"),a&&C.has.popup()&&a.on("mouseenter"+A,C.event.start).on("mouseleave"+A,C.event.end)},close:function(){(T.hideOnScroll===!0||"auto"==T.hideOnScroll&&"click"!=T.on)&&F.one(C.get.scrollEvent()+w,C.event.hideGracefully),"hover"==T.on&&W&&(C.verbose("Binding popup close event to document"),s.on("touchstart"+w,function(t){C.verbose("Touched away from popup"),C.event.hideGracefully.call(G,t)})),"click"==T.on&&T.closable&&(C.verbose("Binding popup close event to document"),s.on("click"+w,function(t){C.verbose("Clicked away from popup"),C.event.hideGracefully.call(G,t)}))}},unbind:{events:function(){p.off(w),O.off(A)},close:function(){s.off(w),F.off(w)}},has:{popup:function(){return a&&a.length>0}},is:{offstage:function(e,o){var n=[];return t.each(e,function(t,e){e<-T.jitter&&(C.debug("Position exceeds allowable distance from edge",t,e,o),n.push(t))}),n.length>0},svg:function(t){return C.supports.svg()&&t instanceof SVGGraphicsElement},active:function(){return O.hasClass(x.active)},animating:function(){return a!==n&&a.hasClass(x.animating)},fluid:function(){return a!==n&&a.hasClass(x.fluid)},visible:function(){return a!==n&&a.hasClass(x.visible)},dropdown:function(){return O.hasClass(x.dropdown)},hidden:function(){return!C.is.visible()},rtl:function(){return"rtl"==O.css("direction")}},reset:function(){C.remove.visible(),T.preserve?t.fn.transition!==n&&a.transition("remove transition"):C.removePopup()},setting:function(e,o){if(t.isPlainObject(e))t.extend(!0,T,e);else{if(o===n)return T[e];T[e]=o}},internal:function(e,o){if(t.isPlainObject(e))t.extend(!0,C,e);else{if(o===n)return C[e];C[e]=o}},debug:function(){!T.silent&&T.debug&&(T.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,T.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!T.silent&&T.verbose&&T.debug&&(T.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,T.name+":"),C.verbose.apply(console,arguments)))},error:function(){T.silent||(C.error=Function.prototype.bind.call(console.error,console,T.name+":"),C.error.apply(console,arguments))},performance:{log:function(t){var e,o,n;T.performance&&(e=(new Date).getTime(),n=d||e,o=e-n,d=e,f.push({Name:t[0],Arguments:[].slice.call(t,1)||"",Element:G,"Execution Time":o})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var e=T.name+":",o=0;d=!1,clearTimeout(C.performance.timer),t.each(f,function(t,e){o+=e["Execution Time"]}),e+=" "+o+"ms",u&&(e+=" '"+u+"'"),(console.group!==n||console.table!==n)&&f.length>0&&(console.groupCollapsed(e),console.table?console.table(f):t.each(f,function(t,e){console.log(e.Name+": "+e["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(e,o,i){var a,s,p,l=I;return o=o||m,i=G||i,"string"==typeof e&&l!==n&&(e=e.split(/[\. ]/),a=e.length-1,t.each(e,function(o,i){var r=o!=a?i+e[o+1].charAt(0).toUpperCase()+e[o+1].slice(1):e;if(t.isPlainObject(l[r])&&o!=a)l=l[r];else{if(l[r]!==n)return s=l[r],!1;if(!t.isPlainObject(l[i])||o==a)return l[i]!==n&&(s=l[i],!1);l=l[i]}})),t.isFunction(s)?p=s.apply(i,o):s!==n&&(p=s),t.isArray(r)?r.push(p):r!==n?r=[r,p]:p!==n&&(r=p),s}},h?(I===n&&C.initialize(),C.invoke(g)):(I!==n&&I.invoke("destroy"),C.initialize())}),r!==n?r:this},t.fn.popup.settings={name:"Popup",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"popup",observeChanges:!0,onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",boundary:e,addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",scrollContext:e,prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(t){var e=/[&<>"'`]/g,o=/[&<>"'`]/,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=function(t){return n[t]};return o.test(t)?t.replace(e,i):t},popup:function(e){var o="",i=t.fn.popup.settings.templates.escape;return typeof e!==n&&(typeof e.title!==n&&e.title&&(e.title=i(e.title),o+='<div class="header">'+e.title+"</div>"),typeof e.content!==n&&e.content&&(e.content=i(e.content),o+='<div class="content">'+e.content+"</div>")),o}}}}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9wb3B1cC5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJNYXRoIiwic2VsZiIsIkZ1bmN0aW9uIiwiZm4iLCJwb3B1cCIsInBhcmFtZXRlcnMiLCJyZXR1cm5lZFZhbHVlIiwiJGFsbE1vZHVsZXMiLCJ0aGlzIiwiJGRvY3VtZW50IiwiJHdpbmRvdyIsIiRib2R5IiwibW9kdWxlU2VsZWN0b3IiLCJzZWxlY3RvciIsImhhc1RvdWNoIiwidGltZSIsIkRhdGUiLCJnZXRUaW1lIiwicGVyZm9ybWFuY2UiLCJxdWVyeSIsImFyZ3VtZW50cyIsIm1ldGhvZEludm9rZWQiLCJxdWVyeUFyZ3VtZW50cyIsInNsaWNlIiwiY2FsbCIsImVhY2giLCIkcG9wdXAiLCIkb2Zmc2V0UGFyZW50IiwiZG9jdW1lbnRPYnNlcnZlciIsImVsZW1lbnROYW1lc3BhY2UiLCJpZCIsIm1vZHVsZSIsInNldHRpbmdzIiwiaXNQbGFpbk9iamVjdCIsImV4dGVuZCIsImNsYXNzTmFtZSIsImVycm9yIiwibWV0YWRhdGEiLCJuYW1lc3BhY2UiLCJldmVudE5hbWVzcGFjZSIsIm1vZHVsZU5hbWVzcGFjZSIsIiRtb2R1bGUiLCIkY29udGV4dCIsImNvbnRleHQiLCIkc2Nyb2xsQ29udGV4dCIsInNjcm9sbENvbnRleHQiLCIkYm91bmRhcnkiLCJib3VuZGFyeSIsIiR0YXJnZXQiLCJ0YXJnZXQiLCJzZWFyY2hEZXB0aCIsInRyaWVkUG9zaXRpb25zIiwib3BlbmVkV2l0aFRvdWNoIiwiZWxlbWVudCIsImluc3RhbmNlIiwiZGF0YSIsImluaXRpYWxpemUiLCJkZWJ1ZyIsImNyZWF0ZUlEIiwiYmluZCIsImV2ZW50cyIsImV4aXN0cyIsInByZXNlcnZlIiwiY3JlYXRlIiwib2JzZXJ2ZUNoYW5nZXMiLCJpbnN0YW50aWF0ZSIsInZlcmJvc2UiLCJNdXRhdGlvbk9ic2VydmVyIiwiZXZlbnQiLCJkb2N1bWVudENoYW5nZWQiLCJvYnNlcnZlIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsInJlZnJlc2giLCJlcSIsImlubGluZSIsIm5leHRBbGwiLCJhZGRDbGFzcyIsImxvYWRpbmciLCJnZXQiLCJvZmZzZXRQYXJlbnQiLCJyZW1vdmVDbGFzcyIsIm1vdmVQb3B1cCIsImhhcyIsImRldGFjaCIsImFwcGVuZFRvIiwiaXMiLCJ2YXJpYXRpb24iLCJzZXQiLCJyZXBvc2l0aW9uIiwicG9zaXRpb24iLCJkZXN0cm95IiwiZGlzY29ubmVjdCIsInJlbW92ZVBvcHVwIiwiY2xlYXJUaW1lb3V0IiwiaGlkZVRpbWVyIiwic2hvd1RpbWVyIiwidW5iaW5kIiwiY2xvc2UiLCJyZW1vdmVEYXRhIiwic3RhcnQiLCJkZWxheSIsInNob3ciLCJzZXRUaW1lb3V0IiwiZW5kIiwiaGlkZSIsInRvdWNoc3RhcnQiLCJyZXNpemUiLCJ2aXNpYmxlIiwibXV0YXRpb25zIiwiZm9yRWFjaCIsIm11dGF0aW9uIiwicmVtb3ZlZE5vZGVzIiwibm9kZSIsImZpbmQiLCJsZW5ndGgiLCJoaWRlR3JhY2VmdWxseSIsImlzSW5ET00iLCJjb250YWlucyIsImRvY3VtZW50RWxlbWVudCIsImluUG9wdXAiLCJjbG9zZXN0IiwiaHRtbCIsInRpdGxlIiwiY29udGVudCIsInRlbXBsYXRlcyIsImFjdGl2YXRvciIsImluc2VydEFmdGVyIiwiaG92ZXJhYmxlIiwib25DcmVhdGUiLCJuZXh0IiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJ0b2dnbGUiLCJoaWRkZW4iLCJjYWxsYmFjayIsInRyYW5zaXRpb24iLCJhY3RpdmUiLCJkcm9wZG93biIsIm9uU2hvdyIsInNhdmUiLCJjb25kaXRpb25zIiwiZXhjbHVzaXZlIiwiaGlkZUFsbCIsImFuaW1hdGUiLCJhbmltYXRpbmciLCJvbkhpZGUiLCJyZW1vdmUiLCJyZXN0b3JlIiwiZmlsdGVyIiwib25SZW1vdmUiLCJjYWNoZSIsImF0dHIiLCJyZW1vdmVBdHRyIiwic3VwcG9ydHMiLCJzdmciLCJTVkdHcmFwaGljc0VsZW1lbnQiLCJpc0Z1bmN0aW9uIiwiYW5pbWF0aW9uIiwicXVldWUiLCJkdXJhdGlvbiIsIm9uQ29tcGxldGUiLCJvblZpc2libGUiLCJub1RyYW5zaXRpb24iLCJyZXNldCIsIm9uSGlkZGVuIiwiY2hhbmdlIiwicG9wdXBPZmZzZXQiLCJvZmZzZXQiLCJjYWxjdWxhdGlvbnMiLCJzY3JlZW4iLCJ0YXJnZXRFbGVtZW50IiwiaXNXaW5kb3ciLCJ0YXJnZXRQb3NpdGlvbiIsInNjcmVlblBvc2l0aW9uIiwidG9wIiwibGVmdCIsInNjcm9sbCIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJ3aWR0aCIsIm91dGVyV2lkdGgiLCJoZWlnaHQiLCJvdXRlckhlaWdodCIsIm1hcmdpbiIsInBhcmVudCIsInNldEZsdWlkV2lkdGgiLCJmbHVpZCIsImNvbnRhaW5lciIsInBhcnNlSW50IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJydGwiLCJib3R0b20iLCJyaWdodCIsInN0YXJ0RXZlbnQiLCJvbiIsInNjcm9sbEV2ZW50IiwiZW5kRXZlbnQiLCJkaXN0YW5jZUZyb21Cb3VuZGFyeSIsInBhcmVudE5vZGUiLCIkbm9kZSIsImlzMkQiLCJjc3MiLCJpc1N0YXRpYyIsImlzSFRNTCIsInBvc2l0aW9ucyIsInRvcCBsZWZ0IiwidG9wIGNlbnRlciIsInRvcCByaWdodCIsImJvdHRvbSBsZWZ0IiwiYm90dG9tIGNlbnRlciIsImJvdHRvbSByaWdodCIsImxlZnQgY2VudGVyIiwicmlnaHQgY2VudGVyIiwibmV4dFBvc2l0aW9uIiwic3BsaXQiLCJ2ZXJ0aWNhbFBvc2l0aW9uIiwiaG9yaXpvbnRhbFBvc2l0aW9uIiwib3Bwb3NpdGUiLCJhZGphY2VudCIsImNlbnRlciIsImJhY2t1cCIsImFkamFjZW50c0F2YWlsYWJsZSIsIm9wcG9zaXRlVHJpZWQiLCJhZGphY2VudFRyaWVkIiwicHJlZmVyIiwiam9pbiIsIm5vdEZvdW5kIiwiZGlzdGFuY2VBd2F5IiwicG9zaXRpb25pbmciLCJyZXBsYWNlIiwibWF0Y2giLCJtYXhTZWFyY2hEZXB0aCIsImxhc3RSZXNvcnQiLCJpbnZhbGlkUG9zaXRpb24iLCJvZmZzdGFnZSIsImNhbm5vdFBsYWNlIiwiYXR0ZW1wdHMiLCJvblVucGxhY2VhYmxlIiwiZmx1aWRXaWR0aCIsImhpZGVPblNjcm9sbCIsIm9uZSIsImNsb3NhYmxlIiwib2ZmIiwiZGlyZWN0aW9uIiwiZGlzdGFuY2UiLCJqaXR0ZXIiLCJwdXNoIiwiaGFzQ2xhc3MiLCJzZXR0aW5nIiwibmFtZSIsInZhbHVlIiwiaW50ZXJuYWwiLCJzaWxlbnQiLCJsb2ciLCJwcm90b3R5cGUiLCJjb25zb2xlIiwiaW5mbyIsImFwcGx5IiwibWVzc2FnZSIsImN1cnJlbnRUaW1lIiwiZXhlY3V0aW9uVGltZSIsInByZXZpb3VzVGltZSIsIk5hbWUiLCJBcmd1bWVudHMiLCJFbGVtZW50IiwiRXhlY3V0aW9uIFRpbWUiLCJ0aW1lciIsImRpc3BsYXkiLCJ0b3RhbFRpbWUiLCJpbmRleCIsImdyb3VwIiwidGFibGUiLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIiwiaW52b2tlIiwicGFzc2VkQXJndW1lbnRzIiwibWF4RGVwdGgiLCJmb3VuZCIsInJlc3BvbnNlIiwib2JqZWN0IiwiZGVwdGgiLCJjYW1lbENhc2VWYWx1ZSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiaXNBcnJheSIsImFkZFRvdWNoRXZlbnRzIiwibWV0aG9kIiwiZXNjYXBlIiwic3RyaW5nIiwiYmFkQ2hhcnMiLCJzaG91bGRFc2NhcGUiLCImIiwiPCIsIj4iLCJcIiIsIiciLCJgIiwiZXNjYXBlZENoYXIiLCJjaHIiLCJ0ZXN0IiwidGV4dCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBVUMsU0FBV0EsRUFBR0MsRUFBUUMsRUFBVUMsR0FFakMsWUFFQUYsR0FBMkIsbUJBQVZBLElBQXlCQSxFQUFPRyxNQUFRQSxLQUNyREgsRUFDZ0IsbUJBQVJJLE9BQXVCQSxLQUFLRCxNQUFRQSxLQUMxQ0MsS0FDQUMsU0FBUyxpQkFHZk4s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U0FBUzZGLFVBQVVxSyxNQVl6QyxjQVZVYSxLQUFTaFQsVUFDUGdULEdBQUtwTCxRQUFVNUgsR0FBYWdULEVBQUtwTCxRQUN6Q29MLEVBQUtwTCxNQUFRdUssRUFBT2EsRUFBS3BMLE9BQ3pCRCxHQUFRLHVCQUF5QnFMLEVBQUtwTCxNQUFRLGdCQUV0Q29MLEdBQUtuTCxVQUFZN0gsR0FBYWdULEVBQUtuTCxVQUMzQ21MLEVBQUtuTCxRQUFVc0ssRUFBT2EsRUFBS25MLFNBQzNCRixHQUFRLHdCQUEwQnFMLEVBQUtuTCxRQUFVLFdBRzlDRixNQU9Uc0wsT0FBUW5ULE9BQVFDIiwiZmlsZSI6InZlbmRvci9wb3B1cC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogIyBTZW1hbnRpYyBVSSAyLjIuNyAtIFBvcHVwXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9zZW1hbnRpYy1vcmcvc2VtYW50aWMtdWkvXG4gKlxuICpcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqL1xuXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbndpbmRvdyA9ICh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGgpXG4gID8gd2luZG93XG4gIDogKHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoKVxuICAgID8gc2VsZlxuICAgIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKVxuO1xuXG4kLmZuLnBvcHVwID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICB2YXJcbiAgICAkYWxsTW9kdWxlcyAgICA9ICQodGhpcyksXG4gICAgJGRvY3VtZW50ICAgICAgPSAkKGRvY3VtZW50KSxcbiAgICAkd2luZG93ICAgICAgICA9ICQod2luZG93KSxcbiAgICAkYm9keSAgICAgICAgICA9ICQoJ2JvZHknKSxcblxuICAgIG1vZHVsZVNlbGVjdG9yID0gJGFsbE1vZHVsZXMuc2VsZWN0b3IgfHwgJycsXG5cbiAgICBoYXNUb3VjaCAgICAgICA9ICh0cnVlKSxcbiAgICB0aW1lICAgICAgICAgICA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgIHBlcmZvcm1hbmNlICAgID0gW10sXG5cbiAgICBxdWVyeSAgICAgICAgICA9IGFyZ3VtZW50c1swXSxcbiAgICBtZXRob2RJbnZva2VkICA9ICh0eXBlb2YgcXVlcnkgPT0gJ3N0cmluZycpLFxuICAgIHF1ZXJ5QXJndW1lbnRzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLFxuXG4gICAgcmV0dXJuZWRWYWx1ZVxuICA7XG4gICRhbGxNb2R1bGVzXG4gICAgLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXJcbiAgICAgICAgc2V0dGluZ3MgICAgICAgID0gKCAkLmlzUGxhaW5PYmplY3QocGFyYW1ldGVycykgKVxuICAgICAgICAgID8gJC5leHRlbmQodHJ1ZSwge30sICQuZm4ucG9wdXAuc2V0dGluZ3MsIHBhcmFtZXRlcnMpXG4gICAgICAgICAgOiAkLmV4dGVuZCh7fSwgJC5mbi5wb3B1cC5zZXR0aW5ncyksXG5cbiAgICAgICAgc2VsZWN0b3IgICAgICAgICAgID0gc2V0dGluZ3Muc2VsZWN0b3IsXG4gICAgICAgIGNsYXNzTmFtZSAgICAgICAgICA9IHNldHRpbmdzLmNsYXNzTmFtZSxcbiAgICAgICAgZXJyb3IgICAgICAgICAgICAgID0gc2V0dGluZ3MuZXJyb3IsXG4gICAgICAgIG1ldGFkYXRhICAgICAgICAgICA9IHNldHRpbmdzLm1ldGFkYXRhLFxuICAgICAgICBuYW1lc3BhY2UgICAgICAgICAgPSBzZXR0aW5ncy5uYW1lc3BhY2UsXG5cbiAgICAgICAgZXZlbnROYW1lc3BhY2UgICAgID0gJy4nICsgc2V0dGluZ3MubmFtZXNwYWNlLFxuICAgICAgICBtb2R1bGVOYW1lc3BhY2UgICAgPSAnbW9kdWxlLScgKyBuYW1lc3BhY2UsXG5cbiAgICAgICAgJG1vZHVsZSAgICAgICAgICAgID0gJCh0aGlzKSxcbiAgICAgICAgJGNvbnRleHQgICAgICAgICAgID0gJChzZXR0aW5ncy5jb250ZXh0KSxcbiAgICAgICAgJHNjcm9sbENvbnRleHQgICAgID0gJChzZXR0aW5ncy5zY3JvbGxDb250ZXh0KSxcbiAgICAgICAgJGJvdW5kYXJ5ICAgICAgICAgID0gJChzZXR0aW5ncy5ib3VuZGFyeSksXG4gICAgICAgICR0YXJnZXQgICAgICAgICAgICA9IChzZXR0aW5ncy50YXJnZXQpXG4gICAgICAgICAgPyAkKHNldHRpbmdzLnRhcmdldClcbiAgICAgICAgICA6ICRtb2R1bGUsXG5cbiAgICAgICAgJHBvcHVwLFxuICAgICAgICAkb2Zmc2V0UGFyZW50LFxuXG4gICAgICAgIHNlYXJjaERlcHRoICAgICAgICA9IDAsXG4gICAgICAgIHRyaWVkUG9zaXRpb25zICAgICA9IGZhbHNlLFxuICAgICAgICBvcGVuZWRXaXRoVG91Y2ggICAgPSBmYWxzZSxcblxuICAgICAgICBlbGVtZW50ICAgICAgICAgICAgPSB0aGlzLFxuICAgICAgICBpbnN0YW5jZSAgICAgICAgICAgPSAkbW9kdWxlLmRhdGEobW9kdWxlTmFtZXNwYWNlKSxcblxuICAgICAgICBkb2N1bWVudE9ic2VydmVyLFxuICAgICAgICBlbGVtZW50TmFtZXNwYWNlLFxuICAgICAgICBpZCxcbiAgICAgICAgbW9kdWxlXG4gICAgICA7XG5cbiAgICAgIG1vZHVsZSA9IHtcblxuICAgICAgICAvLyBiaW5kcyBldmVudHNcbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbW9kdWxlLmRlYnVnKCdJbml0aWFsaXppbmcnLCAkbW9kdWxlKTtcbiAgICAgICAgICBtb2R1bGUuY3JlYXRlSUQoKTtcbiAgICAgICAgICBtb2R1bGUuYmluZC5ldmVudHMoKTtcbiAgICAgICAgICBpZighbW9kdWxlLmV4aXN0cygpICYmIHNldHRpbmdzLnByZXNlcnZlKSB7XG4gICAgICAgICAgICBtb2R1bGUuY3JlYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHNldHRpbmdzLm9ic2VydmVDaGFuZ2VzKSB7XG4gICAgICAgICAgICBtb2R1bGUub2JzZXJ2ZUNoYW5nZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kdWxlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5zdGFudGlhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdTdG9yaW5nIGluc3RhbmNlJywgbW9kdWxlKTtcbiAgICAgICAgICBpbnN0YW5jZSA9IG1vZHVsZTtcbiAgICAgICAgICAkbW9kdWxlXG4gICAgICAgICAgICAuZGF0YShtb2R1bGVOYW1lc3BhY2UsIGluc3RhbmNlKVxuICAgICAgICAgIDtcbiAgICAgICAgfSxcblxuICAgICAgICBvYnNlcnZlQ2hhbmdlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYoJ011dGF0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdykge1xuICAgICAgICAgICAgZG9jdW1lbnRPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG1vZHVsZS5ldmVudC5kb2N1bWVudENoYW5nZWQpO1xuICAgICAgICAgICAgZG9jdW1lbnRPYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LCB7XG4gICAgICAgICAgICAgIGNoaWxkTGlzdCA6IHRydWUsXG4gICAgICAgICAgICAgIHN1YnRyZWUgICA6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdTZXR0aW5nIHVwIG11dGF0aW9uIG9ic2VydmVyJywgZG9jdW1lbnRPYnNlcnZlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHJlZnJlc2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKHNldHRpbmdzLnBvcHVwKSB7XG4gICAgICAgICAgICAkcG9wdXAgPSAkKHNldHRpbmdzLnBvcHVwKS5lcSgwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgJHBvcHVwID0gJHRhcmdldC5uZXh0QWxsKHNlbGVjdG9yLnBvcHVwKS5lcSgwKTtcbiAgICAgICAgICAgICAgc2V0dGluZ3MucG9wdXAgPSAkcG9wdXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHNldHRpbmdzLnBvcHVwKSB7XG4gICAgICAgICAgICAkcG9wdXAuYWRkQ2xhc3MoY2xhc3NOYW1lLmxvYWRpbmcpO1xuICAgICAgICAgICAgJG9mZnNldFBhcmVudCA9IG1vZHVsZS5nZXQub2Zmc2V0UGFyZW50KCk7XG4gICAgICAgICAgICAkcG9wdXAucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lLmxvYWRpbmcpO1xuICAgICAgICAgICAgaWYoc2V0dGluZ3MubW92ZVBvcHVwICYmIG1vZHVsZS5oYXMucG9wdXAoKSAmJiBtb2R1bGUuZ2V0Lm9mZnNldFBhcmVudCgkcG9wdXApWzBdICE9PSAkb2Zmc2V0UGFyZW50WzBdKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnTW92aW5nIHBvcHVwIHRvIHRoZSBzYW1lIG9mZnNldCBwYXJlbnQgYXMgYWN0aXZhdGluZyBlbGVtZW50Jyk7XG4gICAgICAgICAgICAgICRwb3B1cFxuICAgICAgICAgICAgICAgIC5kZXRhY2goKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbygkb2Zmc2V0UGFyZW50KVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJG9mZnNldFBhcmVudCA9IChzZXR0aW5ncy5pbmxpbmUpXG4gICAgICAgICAgICAgID8gbW9kdWxlLmdldC5vZmZzZXRQYXJlbnQoJHRhcmdldClcbiAgICAgICAgICAgICAgOiBtb2R1bGUuaGFzLnBvcHVwKClcbiAgICAgICAgICAgICAgICA/IG1vZHVsZS5nZXQub2Zmc2V0UGFyZW50KCRwb3B1cClcbiAgICAgICAgICAgICAgICA6ICRib2R5XG4gICAgICAgICAgICA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKCAkb2Zmc2V0UGFyZW50LmlzKCdodG1sJykgJiYgJG9mZnNldFBhcmVudFswXSAhPT0gJGJvZHlbMF0gKSB7XG4gICAgICAgICAgICBtb2R1bGUuZGVidWcoJ1NldHRpbmcgcGFnZSBhcyBvZmZzZXQgcGFyZW50Jyk7XG4gICAgICAgICAgICAkb2Zmc2V0UGFyZW50ID0gJGJvZHk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKCBtb2R1bGUuZ2V0LnZhcmlhdGlvbigpICkge1xuICAgICAgICAgICAgbW9kdWxlLnNldC52YXJpYXRpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVwb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbW9kdWxlLnJlZnJlc2goKTtcbiAgICAgICAgICBtb2R1bGUuc2V0LnBvc2l0aW9uKCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbW9kdWxlLmRlYnVnKCdEZXN0cm95aW5nIHByZXZpb3VzIG1vZHVsZScpO1xuICAgICAgICAgIGlmKGRvY3VtZW50T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIGRvY3VtZW50T2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyByZW1vdmUgZWxlbWVudCBvbmx5IGlmIHdhcyBjcmVhdGVkIGR5bmFtaWNhbGx5XG4gICAgICAgICAgaWYoJHBvcHVwICYmICFzZXR0aW5ncy5wcmVzZXJ2ZSkge1xuICAgICAgICAgICAgbW9kdWxlLnJlbW92ZVBvcHVwKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGNsZWFyIGFsbCB0aW1lb3V0c1xuICAgICAgICAgIGNsZWFyVGltZW91dChtb2R1bGUuaGlkZVRpbWVyKTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQobW9kdWxlLnNob3dUaW1lcik7XG4gICAgICAgICAgLy8gcmVtb3ZlIGV2ZW50c1xuICAgICAgICAgIG1vZHVsZS51bmJpbmQuY2xvc2UoKTtcbiAgICAgICAgICBtb2R1bGUudW5iaW5kLmV2ZW50cygpO1xuICAgICAgICAgICRtb2R1bGVcbiAgICAgICAgICAgIC5yZW1vdmVEYXRhKG1vZHVsZU5hbWVzcGFjZSlcbiAgICAgICAgICA7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICBzdGFydDogIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgZGVsYXkgPSAoJC5pc1BsYWluT2JqZWN0KHNldHRpbmdzLmRlbGF5KSlcbiAgICAgICAgICAgICAgICA/IHNldHRpbmdzLmRlbGF5LnNob3dcbiAgICAgICAgICAgICAgICA6IHNldHRpbmdzLmRlbGF5XG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQobW9kdWxlLmhpZGVUaW1lcik7XG4gICAgICAgICAgICBpZighb3BlbmVkV2l0aFRvdWNoKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5zaG93VGltZXIgPSBzZXRUaW1lb3V0KG1vZHVsZS5zaG93LCBkZWxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlbmQ6ICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBkZWxheSA9ICgkLmlzUGxhaW5PYmplY3Qoc2V0dGluZ3MuZGVsYXkpKVxuICAgICAgICAgICAgICAgID8gc2V0dGluZ3MuZGVsYXkuaGlkZVxuICAgICAgICAgICAgICAgIDogc2V0dGluZ3MuZGVsYXlcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChtb2R1bGUuc2hvd1RpbWVyKTtcbiAgICAgICAgICAgIG1vZHVsZS5oaWRlVGltZXIgPSBzZXRUaW1lb3V0KG1vZHVsZS5oaWRlLCBkZWxheSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b3VjaHN0YXJ0OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgb3BlbmVkV2l0aFRvdWNoID0gdHJ1ZTtcbiAgICAgICAgICAgIG1vZHVsZS5zaG93KCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYoIG1vZHVsZS5pcy52aXNpYmxlKCkgKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5zZXQucG9zaXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGRvY3VtZW50Q2hhbmdlZDogZnVuY3Rpb24obXV0YXRpb25zKSB7XG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwobXV0YXRpb25zLCBmdW5jdGlvbihtdXRhdGlvbikge1xuICAgICAgICAgICAgICBpZihtdXRhdGlvbi5yZW1vdmVkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwobXV0YXRpb24ucmVtb3ZlZE5vZGVzLCBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICAgICAgICBpZihub2RlID09IGVsZW1lbnQgfHwgJChub2RlKS5maW5kKGVsZW1lbnQpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdFbGVtZW50IHJlbW92ZWQgZnJvbSBET00sIHRlYXJpbmcgZG93biBldmVudHMnKTtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBoaWRlR3JhY2VmdWxseTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAkdGFyZ2V0ID0gJChldmVudC50YXJnZXQpLFxuICAgICAgICAgICAgICBpc0luRE9NID0gJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGV2ZW50LnRhcmdldCksXG4gICAgICAgICAgICAgIGluUG9wdXAgPSAoJHRhcmdldC5jbG9zZXN0KHNlbGVjdG9yLnBvcHVwKS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgLy8gZG9uJ3QgY2xvc2Ugb24gY2xpY2tzIGluc2lkZSBwb3B1cFxuICAgICAgICAgICAgaWYoZXZlbnQgJiYgIWluUG9wdXAgJiYgaXNJbkRPTSkge1xuICAgICAgICAgICAgICBtb2R1bGUuZGVidWcoJ0NsaWNrIG9jY3VycmVkIG91dHNpZGUgcG9wdXAgaGlkaW5nIHBvcHVwJyk7XG4gICAgICAgICAgICAgIG1vZHVsZS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdDbGljayB3YXMgaW5zaWRlIHBvcHVwLCBrZWVwaW5nIHBvcHVwIG9wZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gZ2VuZXJhdGVzIHBvcHVwIGh0bWwgZnJvbSBtZXRhZGF0YVxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgaHRtbCAgICAgID0gbW9kdWxlLmdldC5odG1sKCksXG4gICAgICAgICAgICB0aXRsZSAgICAgPSBtb2R1bGUuZ2V0LnRpdGxlKCksXG4gICAgICAgICAgICBjb250ZW50ICAgPSBtb2R1bGUuZ2V0LmNvbnRlbnQoKVxuICAgICAgICAgIDtcblxuICAgICAgICAgIGlmKGh0bWwgfHwgY29udGVudCB8fCB0aXRsZSkge1xuICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdDcmVhdGluZyBwb3AtdXAgaHRtbCcpO1xuICAgICAgICAgICAgaWYoIWh0bWwpIHtcbiAgICAgICAgICAgICAgaHRtbCA9IHNldHRpbmdzLnRlbXBsYXRlcy5wb3B1cCh7XG4gICAgICAgICAgICAgICAgdGl0bGUgICA6IHRpdGxlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQgOiBjb250ZW50XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHBvcHVwID0gJCgnPGRpdi8+JylcbiAgICAgICAgICAgICAgLmFkZENsYXNzKGNsYXNzTmFtZS5wb3B1cClcbiAgICAgICAgICAgICAgLmRhdGEobWV0YWRhdGEuYWN0aXZhdG9yLCAkbW9kdWxlKVxuICAgICAgICAgICAgICAuaHRtbChodG1sKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYoc2V0dGluZ3MuaW5saW5lKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdJbnNlcnRpbmcgcG9wdXAgZWxlbWVudCBpbmxpbmUnLCAkcG9wdXApO1xuICAgICAgICAgICAgICAkcG9wdXBcbiAgICAgICAgICAgICAgICAuaW5zZXJ0QWZ0ZXIoJG1vZHVsZSlcbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdBcHBlbmRpbmcgcG9wdXAgZWxlbWVudCB0byBib2R5JywgJHBvcHVwKTtcbiAgICAgICAgICAgICAgJHBvcHVwXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKCAkY29udGV4dCApXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vZHVsZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICBtb2R1bGUuc2V0LnZhcmlhdGlvbigpO1xuXG4gICAgICAgICAgICBpZihzZXR0aW5ncy5ob3ZlcmFibGUpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmJpbmQucG9wdXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzLm9uQ3JlYXRlLmNhbGwoJHBvcHVwLCBlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZigkdGFyZ2V0Lm5leHQoc2VsZWN0b3IucG9wdXApLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1ByZS1leGlzdGluZyBwb3B1cCBmb3VuZCcpO1xuICAgICAgICAgICAgc2V0dGluZ3MuaW5saW5lID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldHRpbmdzLnBvcHVwICA9ICR0YXJnZXQubmV4dChzZWxlY3Rvci5wb3B1cCkuZGF0YShtZXRhZGF0YS5hY3RpdmF0b3IsICRtb2R1bGUpO1xuICAgICAgICAgICAgbW9kdWxlLnJlZnJlc2goKTtcbiAgICAgICAgICAgIGlmKHNldHRpbmdzLmhvdmVyYWJsZSkge1xuICAgICAgICAgICAgICBtb2R1bGUuYmluZC5wb3B1cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKHNldHRpbmdzLnBvcHVwKSB7XG4gICAgICAgICAgICAkKHNldHRpbmdzLnBvcHVwKS5kYXRhKG1ldGFkYXRhLmFjdGl2YXRvciwgJG1vZHVsZSk7XG4gICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnVXNlZCBwb3B1cCBzcGVjaWZpZWQgaW4gc2V0dGluZ3MnKTtcbiAgICAgICAgICAgIG1vZHVsZS5yZWZyZXNoKCk7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5ob3ZlcmFibGUpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmJpbmQucG9wdXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtb2R1bGUuZGVidWcoJ05vIGNvbnRlbnQgc3BlY2lmaWVkIHNraXBwaW5nIGRpc3BsYXknLCBlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY3JlYXRlSUQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlkID0gKE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpICsgJzAwMDAwMDAwMCcpLnN1YnN0cigyLCA4KTtcbiAgICAgICAgICBlbGVtZW50TmFtZXNwYWNlID0gJy4nICsgaWQ7XG4gICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ0NyZWF0aW5nIHVuaXF1ZSBpZCBmb3IgZWxlbWVudCcsIGlkKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBkZXRlcm1pbmVzIHBvcHVwIHN0YXRlXG4gICAgICAgIHRvZ2dsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbW9kdWxlLmRlYnVnKCdUb2dnbGluZyBwb3AtdXAnKTtcbiAgICAgICAgICBpZiggbW9kdWxlLmlzLmhpZGRlbigpICkge1xuICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdQb3B1cCBpcyBoaWRkZW4sIHNob3dpbmcgcG9wLXVwJyk7XG4gICAgICAgICAgICBtb2R1bGUudW5iaW5kLmNsb3NlKCk7XG4gICAgICAgICAgICBtb2R1bGUuc2hvdygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnUG9wdXAgaXMgdmlzaWJsZSwgaGlkaW5nIHBvcC11cCcpO1xuICAgICAgICAgICAgbW9kdWxlLmhpZGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2hvdzogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCl7fTtcbiAgICAgICAgICBtb2R1bGUuZGVidWcoJ1Nob3dpbmcgcG9wLXVwJywgc2V0dGluZ3MudHJhbnNpdGlvbik7XG4gICAgICAgICAgaWYobW9kdWxlLmlzLmhpZGRlbigpICYmICEoIG1vZHVsZS5pcy5hY3RpdmUoKSAmJiBtb2R1bGUuaXMuZHJvcGRvd24oKSkgKSB7XG4gICAgICAgICAgICBpZiggIW1vZHVsZS5leGlzdHMoKSApIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmNyZWF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoc2V0dGluZ3Mub25TaG93LmNhbGwoJHBvcHVwLCBlbGVtZW50KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdvblNob3cgY2FsbGJhY2sgcmV0dXJuZWQgZmFsc2UsIGNhbmNlbGxpbmcgcG9wdXAgYW5pbWF0aW9uJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoIXNldHRpbmdzLnByZXNlcnZlICYmICFzZXR0aW5ncy5wb3B1cCkge1xuICAgICAgICAgICAgICBtb2R1bGUucmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoICRwb3B1cCAmJiBtb2R1bGUuc2V0LnBvc2l0aW9uKCkgKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5zYXZlLmNvbmRpdGlvbnMoKTtcbiAgICAgICAgICAgICAgaWYoc2V0dGluZ3MuZXhjbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLmhpZGVBbGwoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBtb2R1bGUuYW5pbWF0ZS5zaG93KGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cblxuICAgICAgICBoaWRlOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKXt9O1xuICAgICAgICAgIGlmKCBtb2R1bGUuaXMudmlzaWJsZSgpIHx8IG1vZHVsZS5pcy5hbmltYXRpbmcoKSApIHtcbiAgICAgICAgICAgIGlmKHNldHRpbmdzLm9uSGlkZS5jYWxsKCRwb3B1cCwgZWxlbWVudCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1Zygnb25IaWRlIGNhbGxiYWNrIHJldHVybmVkIGZhbHNlLCBjYW5jZWxsaW5nIHBvcHVwIGFuaW1hdGlvbicpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2R1bGUucmVtb3ZlLnZpc2libGUoKTtcbiAgICAgICAgICAgIG1vZHVsZS51bmJpbmQuY2xvc2UoKTtcbiAgICAgICAgICAgIG1vZHVsZS5yZXN0b3JlLmNvbmRpdGlvbnMoKTtcbiAgICAgICAgICAgIG1vZHVsZS5hbmltYXRlLmhpZGUoY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBoaWRlQWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkKHNlbGVjdG9yLnBvcHVwKVxuICAgICAgICAgICAgLmZpbHRlcignLicgKyBjbGFzc05hbWUudmlzaWJsZSlcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAkKHRoaXMpXG4gICAgICAgICAgICAgICAgLmRhdGEobWV0YWRhdGEuYWN0aXZhdG9yKVxuICAgICAgICAgICAgICAgICAgLnBvcHVwKCdoaWRlJylcbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICA7XG4gICAgICAgIH0sXG4gICAgICAgIGV4aXN0czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYoISRwb3B1cCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihzZXR0aW5ncy5pbmxpbmUgfHwgc2V0dGluZ3MucG9wdXApIHtcbiAgICAgICAgICAgIHJldHVybiAoIG1vZHVsZS5oYXMucG9wdXAoKSApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoICRwb3B1cC5jbG9zZXN0KCRjb250ZXh0KS5sZW5ndGggPj0gMSApXG4gICAgICAgICAgICAgID8gdHJ1ZVxuICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICA7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZVBvcHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiggbW9kdWxlLmhhcy5wb3B1cCgpICYmICFzZXR0aW5ncy5wb3B1cCkge1xuICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdSZW1vdmluZyBwb3B1cCcsICRwb3B1cCk7XG4gICAgICAgICAgICAkcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAkcG9wdXAgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBzZXR0aW5ncy5vblJlbW92ZS5jYWxsKCRwb3B1cCwgZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNhdmU6IHtcbiAgICAgICAgICBjb25kaXRpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1vZHVsZS5jYWNoZSA9IHtcbiAgICAgICAgICAgICAgdGl0bGU6ICRtb2R1bGUuYXR0cigndGl0bGUnKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChtb2R1bGUuY2FjaGUudGl0bGUpIHtcbiAgICAgICAgICAgICAgJG1vZHVsZS5yZW1vdmVBdHRyKCd0aXRsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1NhdmluZyBvcmlnaW5hbCBhdHRyaWJ1dGVzJywgbW9kdWxlLmNhY2hlLnRpdGxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3RvcmU6IHtcbiAgICAgICAgICBjb25kaXRpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmKG1vZHVsZS5jYWNoZSAmJiBtb2R1bGUuY2FjaGUudGl0bGUpIHtcbiAgICAgICAgICAgICAgJG1vZHVsZS5hdHRyKCd0aXRsZScsIG1vZHVsZS5jYWNoZS50aXRsZSk7XG4gICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdSZXN0b3Jpbmcgb3JpZ2luYWwgYXR0cmlidXRlcycsIG1vZHVsZS5jYWNoZS50aXRsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN1cHBvcnRzOiB7XG4gICAgICAgICAgc3ZnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAodHlwZW9mIFNWR0dyYXBoaWNzRWxlbWVudCA9PT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFuaW1hdGU6IHtcbiAgICAgICAgICBzaG93OiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSAkLmlzRnVuY3Rpb24oY2FsbGJhY2spID8gY2FsbGJhY2sgOiBmdW5jdGlvbigpe307XG4gICAgICAgICAgICBpZihzZXR0aW5ncy50cmFuc2l0aW9uICYmICQuZm4udHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkICYmICRtb2R1bGUudHJhbnNpdGlvbignaXMgc3VwcG9ydGVkJykpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnNldC52aXNpYmxlKCk7XG4gICAgICAgICAgICAgICRwb3B1cFxuICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKHtcbiAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbiAgOiBzZXR0aW5ncy50cmFuc2l0aW9uICsgJyBpbicsXG4gICAgICAgICAgICAgICAgICBxdWV1ZSAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBkZWJ1ZyAgICAgIDogc2V0dGluZ3MuZGVidWcsXG4gICAgICAgICAgICAgICAgICB2ZXJib3NlICAgIDogc2V0dGluZ3MudmVyYm9zZSxcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uICAgOiBzZXR0aW5ncy5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGUgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmJpbmQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCgkcG9wdXAsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5vblZpc2libGUuY2FsbCgkcG9wdXAsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBtb2R1bGUuZXJyb3IoZXJyb3Iubm9UcmFuc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9ICQuaXNGdW5jdGlvbihjYWxsYmFjaykgPyBjYWxsYmFjayA6IGZ1bmN0aW9uKCl7fTtcbiAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnSGlkaW5nIHBvcC11cCcpO1xuICAgICAgICAgICAgaWYoc2V0dGluZ3Mub25IaWRlLmNhbGwoJHBvcHVwLCBlbGVtZW50KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdvbkhpZGUgY2FsbGJhY2sgcmV0dXJuZWQgZmFsc2UsIGNhbmNlbGxpbmcgcG9wdXAgYW5pbWF0aW9uJyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHNldHRpbmdzLnRyYW5zaXRpb24gJiYgJC5mbi50cmFuc2l0aW9uICE9PSB1bmRlZmluZWQgJiYgJG1vZHVsZS50cmFuc2l0aW9uKCdpcyBzdXBwb3J0ZWQnKSkge1xuICAgICAgICAgICAgICAkcG9wdXBcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbih7XG4gICAgICAgICAgICAgICAgICBhbmltYXRpb24gIDogc2V0dGluZ3MudHJhbnNpdGlvbiArICcgb3V0JyxcbiAgICAgICAgICAgICAgICAgIHF1ZXVlICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGR1cmF0aW9uICAgOiBzZXR0aW5ncy5kdXJhdGlvbixcbiAgICAgICAgICAgICAgICAgIGRlYnVnICAgICAgOiBzZXR0aW5ncy5kZWJ1ZyxcbiAgICAgICAgICAgICAgICAgIHZlcmJvc2UgICAgOiBzZXR0aW5ncy52ZXJib3NlLFxuICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZSA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGUucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCgkcG9wdXAsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5vbkhpZGRlbi5jYWxsKCRwb3B1cCwgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5lcnJvcihlcnJvci5ub1RyYW5zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjaGFuZ2U6IHtcbiAgICAgICAgICBjb250ZW50OiBmdW5jdGlvbihodG1sKSB7XG4gICAgICAgICAgICAkcG9wdXAuaHRtbChodG1sKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgaHRtbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkbW9kdWxlLnJlbW92ZURhdGEobWV0YWRhdGEuaHRtbCk7XG4gICAgICAgICAgICByZXR1cm4gJG1vZHVsZS5kYXRhKG1ldGFkYXRhLmh0bWwpIHx8IHNldHRpbmdzLmh0bWw7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0aXRsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkbW9kdWxlLnJlbW92ZURhdGEobWV0YWRhdGEudGl0bGUpO1xuICAgICAgICAgICAgcmV0dXJuICRtb2R1bGUuZGF0YShtZXRhZGF0YS50aXRsZSkgfHwgc2V0dGluZ3MudGl0bGU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb250ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRtb2R1bGUucmVtb3ZlRGF0YShtZXRhZGF0YS5jb250ZW50KTtcbiAgICAgICAgICAgIHJldHVybiAkbW9kdWxlLmRhdGEobWV0YWRhdGEuY29udGVudCkgfHwgJG1vZHVsZS5hdHRyKCd0aXRsZScpIHx8IHNldHRpbmdzLmNvbnRlbnQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB2YXJpYXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJG1vZHVsZS5yZW1vdmVEYXRhKG1ldGFkYXRhLnZhcmlhdGlvbik7XG4gICAgICAgICAgICByZXR1cm4gJG1vZHVsZS5kYXRhKG1ldGFkYXRhLnZhcmlhdGlvbikgfHwgc2V0dGluZ3MudmFyaWF0aW9uO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcG9wdXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRwb3B1cDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvcHVwT2Zmc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkcG9wdXAub2Zmc2V0KCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjYWxjdWxhdGlvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgIHRhcmdldEVsZW1lbnQgICAgPSAkdGFyZ2V0WzBdLFxuICAgICAgICAgICAgICBpc1dpbmRvdyAgICAgICAgID0gKCRib3VuZGFyeVswXSA9PSB3aW5kb3cpLFxuICAgICAgICAgICAgICB0YXJnZXRQb3NpdGlvbiAgID0gKHNldHRpbmdzLmlubGluZSB8fCAoc2V0dGluZ3MucG9wdXAgJiYgc2V0dGluZ3MubW92ZVBvcHVwKSlcbiAgICAgICAgICAgICAgICA/ICR0YXJnZXQucG9zaXRpb24oKVxuICAgICAgICAgICAgICAgIDogJHRhcmdldC5vZmZzZXQoKSxcbiAgICAgICAgICAgICAgc2NyZWVuUG9zaXRpb24gPSAoaXNXaW5kb3cpXG4gICAgICAgICAgICAgICAgPyB7IHRvcDogMCwgbGVmdDogMCB9XG4gICAgICAgICAgICAgICAgOiAkYm91bmRhcnkub2Zmc2V0KCksXG4gICAgICAgICAgICAgIGNhbGN1bGF0aW9ucyAgID0ge30sXG4gICAgICAgICAgICAgIHNjcm9sbCA9IChpc1dpbmRvdylcbiAgICAgICAgICAgICAgICA/IHsgdG9wOiAkd2luZG93LnNjcm9sbFRvcCgpLCBsZWZ0OiAkd2luZG93LnNjcm9sbExlZnQoKSB9XG4gICAgICAgICAgICAgICAgOiB7IHRvcDogMCwgbGVmdDogMH0sXG4gICAgICAgICAgICAgIHNjcmVlblxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgY2FsY3VsYXRpb25zID0ge1xuICAgICAgICAgICAgICAvLyBlbGVtZW50IHdoaWNoIGlzIGxhdW5jaGluZyBwb3B1cFxuICAgICAgICAgICAgICB0YXJnZXQgOiB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA6ICR0YXJnZXRbMF0sXG4gICAgICAgICAgICAgICAgd2lkdGggICA6ICR0YXJnZXQub3V0ZXJXaWR0aCgpLFxuICAgICAgICAgICAgICAgIGhlaWdodCAgOiAkdGFyZ2V0Lm91dGVySGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgdG9wICAgICA6IHRhcmdldFBvc2l0aW9uLnRvcCxcbiAgICAgICAgICAgICAgICBsZWZ0ICAgIDogdGFyZ2V0UG9zaXRpb24ubGVmdCxcbiAgICAgICAgICAgICAgICBtYXJnaW4gIDoge31cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLy8gcG9wdXAgaXRzZWxmXG4gICAgICAgICAgICAgIHBvcHVwIDoge1xuICAgICAgICAgICAgICAgIHdpZHRoICA6ICRwb3B1cC5vdXRlcldpZHRoKCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0IDogJHBvcHVwLm91dGVySGVpZ2h0KClcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLy8gb2Zmc2V0IGNvbnRhaW5lciAob3IgM2QgY29udGV4dClcbiAgICAgICAgICAgICAgcGFyZW50IDoge1xuICAgICAgICAgICAgICAgIHdpZHRoICA6ICRvZmZzZXRQYXJlbnQub3V0ZXJXaWR0aCgpLFxuICAgICAgICAgICAgICAgIGhlaWdodCA6ICRvZmZzZXRQYXJlbnQub3V0ZXJIZWlnaHQoKVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAvLyBzY3JlZW4gYm91bmRhcmllc1xuICAgICAgICAgICAgICBzY3JlZW4gOiB7XG4gICAgICAgICAgICAgICAgdG9wICA6IHNjcmVlblBvc2l0aW9uLnRvcCxcbiAgICAgICAgICAgICAgICBsZWZ0IDogc2NyZWVuUG9zaXRpb24ubGVmdCxcbiAgICAgICAgICAgICAgICBzY3JvbGw6IHtcbiAgICAgICAgICAgICAgICAgIHRvcCAgOiBzY3JvbGwudG9wLFxuICAgICAgICAgICAgICAgICAgbGVmdCA6IHNjcm9sbC5sZWZ0XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB3aWR0aCAgOiAkYm91bmRhcnkud2lkdGgoKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgOiAkYm91bmRhcnkuaGVpZ2h0KClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gYWRkIGluIGNvbnRhaW5lciBjYWxjcyBpZiBmbHVpZFxuICAgICAgICAgICAgaWYoIHNldHRpbmdzLnNldEZsdWlkV2lkdGggJiYgbW9kdWxlLmlzLmZsdWlkKCkgKSB7XG4gICAgICAgICAgICAgIGNhbGN1bGF0aW9ucy5jb250YWluZXIgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6ICRwb3B1cC5wYXJlbnQoKS5vdXRlcldpZHRoKClcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgY2FsY3VsYXRpb25zLnBvcHVwLndpZHRoID0gY2FsY3VsYXRpb25zLmNvbnRhaW5lci53aWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWRkIGluIG1hcmdpbnMgaWYgaW5saW5lXG4gICAgICAgICAgICBjYWxjdWxhdGlvbnMudGFyZ2V0Lm1hcmdpbi50b3AgPSAoc2V0dGluZ3MuaW5saW5lKVxuICAgICAgICAgICAgICA/IHBhcnNlSW50KCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tdG9wJyksIDEwKVxuICAgICAgICAgICAgICA6IDBcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGNhbGN1bGF0aW9ucy50YXJnZXQubWFyZ2luLmxlZnQgPSAoc2V0dGluZ3MuaW5saW5lKVxuICAgICAgICAgICAgICA/IG1vZHVsZS5pcy5ydGwoKVxuICAgICAgICAgICAgICAgID8gcGFyc2VJbnQoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhcmdldEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1yaWdodCcpLCAxMClcbiAgICAgICAgICAgICAgICA6IHBhcnNlSW50KCB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tbGVmdCcpLCAxMClcbiAgICAgICAgICAgICAgOiAwXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgc2NyZWVuIGJvdW5kYXJpZXNcbiAgICAgICAgICAgIHNjcmVlbiA9IGNhbGN1bGF0aW9ucy5zY3JlZW47XG4gICAgICAgICAgICBjYWxjdWxhdGlvbnMuYm91bmRhcnkgPSB7XG4gICAgICAgICAgICAgIHRvcCAgICA6IHNjcmVlbi50b3AgKyBzY3JlZW4uc2Nyb2xsLnRvcCxcbiAgICAgICAgICAgICAgYm90dG9tIDogc2NyZWVuLnRvcCArIHNjcmVlbi5zY3JvbGwudG9wICsgc2NyZWVuLmhlaWdodCxcbiAgICAgICAgICAgICAgbGVmdCAgIDogc2NyZWVuLmxlZnQgKyBzY3JlZW4uc2Nyb2xsLmxlZnQsXG4gICAgICAgICAgICAgIHJpZ2h0ICA6IHNjcmVlbi5sZWZ0ICsgc2NyZWVuLnNjcm9sbC5sZWZ0ICsgc2NyZWVuLndpZHRoXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0aW9ucztcbiAgICAgICAgICB9LFxuICAgICAgICAgIGlkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXJ0RXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYoc2V0dGluZ3Mub24gPT0gJ2hvdmVyJykge1xuICAgICAgICAgICAgICByZXR1cm4gJ21vdXNlZW50ZXInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihzZXR0aW5ncy5vbiA9PSAnZm9jdXMnKSB7XG4gICAgICAgICAgICAgIHJldHVybiAnZm9jdXMnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2Nyb2xsRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICdzY3JvbGwnO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZW5kRXZlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYoc2V0dGluZ3Mub24gPT0gJ2hvdmVyJykge1xuICAgICAgICAgICAgICByZXR1cm4gJ21vdXNlbGVhdmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihzZXR0aW5ncy5vbiA9PSAnZm9jdXMnKSB7XG4gICAgICAgICAgICAgIHJldHVybiAnYmx1cic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkaXN0YW5jZUZyb21Cb3VuZGFyeTogZnVuY3Rpb24ob2Zmc2V0LCBjYWxjdWxhdGlvbnMpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBkaXN0YW5jZUZyb21Cb3VuZGFyeSA9IHt9LFxuICAgICAgICAgICAgICBwb3B1cCxcbiAgICAgICAgICAgICAgYm91bmRhcnlcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGNhbGN1bGF0aW9ucyA9IGNhbGN1bGF0aW9ucyB8fCBtb2R1bGUuZ2V0LmNhbGN1bGF0aW9ucygpO1xuXG4gICAgICAgICAgICAvLyBzaG9ydGhhbmRcbiAgICAgICAgICAgIHBvcHVwICAgICAgICA9IGNhbGN1bGF0aW9ucy5wb3B1cDtcbiAgICAgICAgICAgIGJvdW5kYXJ5ICAgICA9IGNhbGN1bGF0aW9ucy5ib3VuZGFyeTtcblxuICAgICAgICAgICAgaWYob2Zmc2V0KSB7XG4gICAgICAgICAgICAgIGRpc3RhbmNlRnJvbUJvdW5kYXJ5ID0ge1xuICAgICAgICAgICAgICAgIHRvcCAgICA6IChvZmZzZXQudG9wIC0gYm91bmRhcnkudG9wKSxcbiAgICAgICAgICAgICAgICBsZWZ0ICAgOiAob2Zmc2V0LmxlZnQgLSBib3VuZGFyeS5sZWZ0KSxcbiAgICAgICAgICAgICAgICByaWdodCAgOiAoYm91bmRhcnkucmlnaHQgLSAob2Zmc2V0LmxlZnQgKyBwb3B1cC53aWR0aCkgKSxcbiAgICAgICAgICAgICAgICBib3R0b20gOiAoYm91bmRhcnkuYm90dG9tIC0gKG9mZnNldC50b3AgKyBwb3B1cC5oZWlnaHQpIClcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ0Rpc3RhbmNlIGZyb20gYm91bmRhcmllcyBkZXRlcm1pbmVkJywgb2Zmc2V0LCBkaXN0YW5jZUZyb21Cb3VuZGFyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlzdGFuY2VGcm9tQm91bmRhcnk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uKCR0YXJnZXQpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBlbGVtZW50ID0gKCR0YXJnZXQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICA/ICR0YXJnZXRbMF1cbiAgICAgICAgICAgICAgICA6ICRtb2R1bGVbMF0sXG4gICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBlbGVtZW50LnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgICRub2RlICAgID0gJChwYXJlbnROb2RlKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYocGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBpczJEICAgICA9ICgkbm9kZS5jc3MoJ3RyYW5zZm9ybScpID09PSAnbm9uZScpLFxuICAgICAgICAgICAgICAgIGlzU3RhdGljID0gKCRub2RlLmNzcygncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycpLFxuICAgICAgICAgICAgICAgIGlzSFRNTCAgID0gJG5vZGUuaXMoJ2h0bWwnKVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgIHdoaWxlKHBhcmVudE5vZGUgJiYgIWlzSFRNTCAmJiBpc1N0YXRpYyAmJiBpczJEKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAkbm9kZSAgICA9ICQocGFyZW50Tm9kZSk7XG4gICAgICAgICAgICAgICAgaXMyRCAgICAgPSAoJG5vZGUuY3NzKCd0cmFuc2Zvcm0nKSA9PT0gJ25vbmUnKTtcbiAgICAgICAgICAgICAgICBpc1N0YXRpYyA9ICgkbm9kZS5jc3MoJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKTtcbiAgICAgICAgICAgICAgICBpc0hUTUwgICA9ICRub2RlLmlzKCdodG1sJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoJG5vZGUgJiYgJG5vZGUubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgPyAkbm9kZVxuICAgICAgICAgICAgICA6ICQoKVxuICAgICAgICAgICAgO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcG9zaXRpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICd0b3AgbGVmdCcgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgICAndG9wIGNlbnRlcicgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgJ3RvcCByaWdodCcgICAgIDogZmFsc2UsXG4gICAgICAgICAgICAgICdib3R0b20gbGVmdCcgICA6IGZhbHNlLFxuICAgICAgICAgICAgICAnYm90dG9tIGNlbnRlcicgOiBmYWxzZSxcbiAgICAgICAgICAgICAgJ2JvdHRvbSByaWdodCcgIDogZmFsc2UsXG4gICAgICAgICAgICAgICdsZWZ0IGNlbnRlcicgICA6IGZhbHNlLFxuICAgICAgICAgICAgICAncmlnaHQgY2VudGVyJyAgOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG5leHRQb3NpdGlvbjogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBwb3NpdGlvbnMgICAgICAgICAgPSBwb3NpdGlvbi5zcGxpdCgnICcpLFxuICAgICAgICAgICAgICB2ZXJ0aWNhbFBvc2l0aW9uICAgPSBwb3NpdGlvbnNbMF0sXG4gICAgICAgICAgICAgIGhvcml6b250YWxQb3NpdGlvbiA9IHBvc2l0aW9uc1sxXSxcbiAgICAgICAgICAgICAgb3Bwb3NpdGUgPSB7XG4gICAgICAgICAgICAgICAgdG9wICAgIDogJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgYm90dG9tIDogJ3RvcCcsXG4gICAgICAgICAgICAgICAgbGVmdCAgIDogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICByaWdodCAgOiAnbGVmdCdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYWRqYWNlbnQgPSB7XG4gICAgICAgICAgICAgICAgbGVmdCAgIDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgY2VudGVyIDogJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICByaWdodCAgOiAnbGVmdCdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYmFja3VwID0ge1xuICAgICAgICAgICAgICAgICd0b3AgbGVmdCcgICAgICA6ICd0b3AgY2VudGVyJyxcbiAgICAgICAgICAgICAgICAndG9wIGNlbnRlcicgICAgOiAndG9wIHJpZ2h0JyxcbiAgICAgICAgICAgICAgICAndG9wIHJpZ2h0JyAgICAgOiAncmlnaHQgY2VudGVyJyxcbiAgICAgICAgICAgICAgICAncmlnaHQgY2VudGVyJyAgOiAnYm90dG9tIHJpZ2h0JyxcbiAgICAgICAgICAgICAgICAnYm90dG9tIHJpZ2h0JyAgOiAnYm90dG9tIGNlbnRlcicsXG4gICAgICAgICAgICAgICAgJ2JvdHRvbSBjZW50ZXInIDogJ2JvdHRvbSBsZWZ0JyxcbiAgICAgICAgICAgICAgICAnYm90dG9tIGxlZnQnICAgOiAnbGVmdCBjZW50ZXInLFxuICAgICAgICAgICAgICAgICdsZWZ0IGNlbnRlcicgICA6ICd0b3AgbGVmdCdcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgYWRqYWNlbnRzQXZhaWxhYmxlID0gKHZlcnRpY2FsUG9zaXRpb24gPT0gJ3RvcCcgfHwgdmVydGljYWxQb3NpdGlvbiA9PSAnYm90dG9tJyksXG4gICAgICAgICAgICAgIG9wcG9zaXRlVHJpZWQgPSBmYWxzZSxcbiAgICAgICAgICAgICAgYWRqYWNlbnRUcmllZCA9IGZhbHNlLFxuICAgICAgICAgICAgICBuZXh0UG9zaXRpb24gID0gZmFsc2VcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGlmKCF0cmllZFBvc2l0aW9ucykge1xuICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnQWxsIGF2YWlsYWJsZSBwb3NpdGlvbnMgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICAgIHRyaWVkUG9zaXRpb25zID0gbW9kdWxlLmdldC5wb3NpdGlvbnMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdSZWNvcmRpbmcgbGFzdCBwb3NpdGlvbiB0cmllZCcsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRyaWVkUG9zaXRpb25zW3Bvc2l0aW9uXSA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmKHNldHRpbmdzLnByZWZlciA9PT0gJ29wcG9zaXRlJykge1xuICAgICAgICAgICAgICBuZXh0UG9zaXRpb24gID0gW29wcG9zaXRlW3ZlcnRpY2FsUG9zaXRpb25dLCBob3Jpem9udGFsUG9zaXRpb25dO1xuICAgICAgICAgICAgICBuZXh0UG9zaXRpb24gID0gbmV4dFBvc2l0aW9uLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgb3Bwb3NpdGVUcmllZCA9ICh0cmllZFBvc2l0aW9uc1tuZXh0UG9zaXRpb25dID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdUcnlpbmcgb3Bwb3NpdGUgc3RyYXRlZ3knLCBuZXh0UG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoKHNldHRpbmdzLnByZWZlciA9PT0gJ2FkamFjZW50JykgJiYgYWRqYWNlbnRzQXZhaWxhYmxlICkge1xuICAgICAgICAgICAgICBuZXh0UG9zaXRpb24gID0gW3ZlcnRpY2FsUG9zaXRpb24sIGFkamFjZW50W2hvcml6b250YWxQb3NpdGlvbl1dO1xuICAgICAgICAgICAgICBuZXh0UG9zaXRpb24gID0gbmV4dFBvc2l0aW9uLmpvaW4oJyAnKTtcbiAgICAgICAgICAgICAgYWRqYWNlbnRUcmllZCA9ICh0cmllZFBvc2l0aW9uc1tuZXh0UG9zaXRpb25dID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdUcnlpbmcgYWRqYWNlbnQgc3RyYXRlZ3knLCBuZXh0UG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoYWRqYWNlbnRUcmllZCB8fCBvcHBvc2l0ZVRyaWVkKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnVXNpbmcgYmFja3VwIHBvc2l0aW9uJywgbmV4dFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgbmV4dFBvc2l0aW9uID0gYmFja3VwW3Bvc2l0aW9uXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0UG9zaXRpb247XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldDoge1xuICAgICAgICAgIHBvc2l0aW9uOiBmdW5jdGlvbihwb3NpdGlvbiwgY2FsY3VsYXRpb25zKSB7XG5cbiAgICAgICAgICAgIC8vIGV4aXQgY29uZGl0aW9uc1xuICAgICAgICAgICAgaWYoJHRhcmdldC5sZW5ndGggPT09IDAgfHwgJHBvcHVwLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBtb2R1bGUuZXJyb3IoZXJyb3Iubm90Rm91bmQpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgICBkaXN0YW5jZUF3YXksXG4gICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgcG9wdXAsXG4gICAgICAgICAgICAgIHBhcmVudCxcbiAgICAgICAgICAgICAgcG9zaXRpb25pbmcsXG4gICAgICAgICAgICAgIHBvcHVwT2Zmc2V0LFxuICAgICAgICAgICAgICBkaXN0YW5jZUZyb21Cb3VuZGFyeVxuICAgICAgICAgICAgO1xuXG4gICAgICAgICAgICBjYWxjdWxhdGlvbnMgPSBjYWxjdWxhdGlvbnMgfHwgbW9kdWxlLmdldC5jYWxjdWxhdGlvbnMoKTtcbiAgICAgICAgICAgIHBvc2l0aW9uICAgICA9IHBvc2l0aW9uICAgICB8fCAkbW9kdWxlLmRhdGEobWV0YWRhdGEucG9zaXRpb24pIHx8IHNldHRpbmdzLnBvc2l0aW9uO1xuXG4gICAgICAgICAgICBvZmZzZXQgICAgICAgPSAkbW9kdWxlLmRhdGEobWV0YWRhdGEub2Zmc2V0KSB8fCBzZXR0aW5ncy5vZmZzZXQ7XG4gICAgICAgICAgICBkaXN0YW5jZUF3YXkgPSBzZXR0aW5ncy5kaXN0YW5jZUF3YXk7XG5cbiAgICAgICAgICAgIC8vIHNob3J0aGFuZFxuICAgICAgICAgICAgdGFyZ2V0ID0gY2FsY3VsYXRpb25zLnRhcmdldDtcbiAgICAgICAgICAgIHBvcHVwICA9IGNhbGN1bGF0aW9ucy5wb3B1cDtcbiAgICAgICAgICAgIHBhcmVudCA9IGNhbGN1bGF0aW9ucy5wYXJlbnQ7XG5cbiAgICAgICAgICAgIGlmKHRhcmdldC53aWR0aCA9PT0gMCAmJiB0YXJnZXQuaGVpZ2h0ID09PSAwICYmICFtb2R1bGUuaXMuc3ZnKHRhcmdldC5lbGVtZW50KSkge1xuICAgICAgICAgICAgICBtb2R1bGUuZGVidWcoJ1BvcHVwIHRhcmdldCBpcyBoaWRkZW4sIG5vIGFjdGlvbiB0YWtlbicpO1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHNldHRpbmdzLmlubGluZSkge1xuICAgICAgICAgICAgICBtb2R1bGUuZGVidWcoJ0FkZGluZyBtYXJnaW4gdG8gY2FsY3VsYXRpb24nLCB0YXJnZXQubWFyZ2luKTtcbiAgICAgICAgICAgICAgaWYocG9zaXRpb24gPT0gJ2xlZnQgY2VudGVyJyB8fCBwb3NpdGlvbiA9PSAncmlnaHQgY2VudGVyJykge1xuICAgICAgICAgICAgICAgIG9mZnNldCAgICAgICArPSAgdGFyZ2V0Lm1hcmdpbi50b3A7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2VBd2F5ICs9IC10YXJnZXQubWFyZ2luLmxlZnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiAocG9zaXRpb24gPT0gJ3RvcCBsZWZ0JyB8fCBwb3NpdGlvbiA9PSAndG9wIGNlbnRlcicgfHwgcG9zaXRpb24gPT0gJ3RvcCByaWdodCcpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgICAgICAgKz0gdGFyZ2V0Lm1hcmdpbi5sZWZ0O1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlQXdheSAtPSB0YXJnZXQubWFyZ2luLnRvcDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgICAgICAgKz0gdGFyZ2V0Lm1hcmdpbi5sZWZ0O1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlQXdheSArPSB0YXJnZXQubWFyZ2luLnRvcDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb2R1bGUuZGVidWcoJ0RldGVybWluaW5nIHBvcHVwIHBvc2l0aW9uIGZyb20gY2FsY3VsYXRpb25zJywgcG9zaXRpb24sIGNhbGN1bGF0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmIChtb2R1bGUuaXMucnRsKCkpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbi5yZXBsYWNlKC9sZWZ0fHJpZ2h0L2csIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAobWF0Y2ggPT0gJ2xlZnQnKVxuICAgICAgICAgICAgICAgICAgPyAncmlnaHQnXG4gICAgICAgICAgICAgICAgICA6ICdsZWZ0J1xuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnUlRMOiBQb3B1cCBwb3NpdGlvbiB1cGRhdGVkJywgcG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiBsYXN0IGF0dGVtcHQgdXNlIHNwZWNpZmllZCBsYXN0IHJlc29ydCBwb3NpdGlvblxuICAgICAgICAgICAgaWYoc2VhcmNoRGVwdGggPT0gc2V0dGluZ3MubWF4U2VhcmNoRGVwdGggJiYgdHlwZW9mIHNldHRpbmdzLmxhc3RSZXNvcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uID0gc2V0dGluZ3MubGFzdFJlc29ydDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgICAgICAgICAgICBjYXNlICd0b3AgbGVmdCc6XG4gICAgICAgICAgICAgICAgcG9zaXRpb25pbmcgPSB7XG4gICAgICAgICAgICAgICAgICB0b3AgICAgOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICBib3R0b20gOiBwYXJlbnQuaGVpZ2h0IC0gdGFyZ2V0LnRvcCArIGRpc3RhbmNlQXdheSxcbiAgICAgICAgICAgICAgICAgIGxlZnQgICA6IHRhcmdldC5sZWZ0ICsgb2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgcmlnaHQgIDogJ2F1dG8nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ3RvcCBjZW50ZXInOlxuICAgICAgICAgICAgICAgIHBvc2l0aW9uaW5nID0ge1xuICAgICAgICAgICAgICAgICAgYm90dG9tIDogcGFyZW50LmhlaWdodCAtIHRhcmdldC50b3AgKyBkaXN0YW5jZUF3YXksXG4gICAgICAgICAgICAgICAgICBsZWZ0ICAgOiB0YXJnZXQubGVmdCArICh0YXJnZXQud2lkdGggLyAyKSAtIChwb3B1cC53aWR0aCAvIDIpICsgb2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgdG9wICAgIDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgcmlnaHQgIDogJ2F1dG8nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ3RvcCByaWdodCc6XG4gICAgICAgICAgICAgICAgcG9zaXRpb25pbmcgPSB7XG4gICAgICAgICAgICAgICAgICBib3R0b20gOiAgcGFyZW50LmhlaWdodCAtIHRhcmdldC50b3AgKyBkaXN0YW5jZUF3YXksXG4gICAgICAgICAgICAgICAgICByaWdodCAgOiAgcGFyZW50LndpZHRoIC0gdGFyZ2V0LmxlZnQgLSB0YXJnZXQud2lkdGggLSBvZmZzZXQsXG4gICAgICAgICAgICAgICAgICB0b3AgICAgOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICBsZWZ0ICAgOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnbGVmdCBjZW50ZXInOlxuICAgICAgICAgICAgICAgIHBvc2l0aW9uaW5nID0ge1xuICAgICAgICAgICAgICAgICAgdG9wICAgIDogdGFyZ2V0LnRvcCArICh0YXJnZXQuaGVpZ2h0IC8gMikgLSAocG9wdXAuaGVpZ2h0IC8gMikgKyBvZmZzZXQsXG4gICAgICAgICAgICAgICAgICByaWdodCAgOiBwYXJlbnQud2lkdGggLSB0YXJnZXQubGVmdCArIGRpc3RhbmNlQXdheSxcbiAgICAgICAgICAgICAgICAgIGxlZnQgICA6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgIGJvdHRvbSA6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdyaWdodCBjZW50ZXInOlxuICAgICAgICAgICAgICAgIHBvc2l0aW9uaW5nID0ge1xuICAgICAgICAgICAgICAgICAgdG9wICAgIDogdGFyZ2V0LnRvcCArICh0YXJnZXQuaGVpZ2h0IC8gMikgLSAocG9wdXAuaGVpZ2h0IC8gMikgKyBvZmZzZXQsXG4gICAgICAgICAgICAgICAgICBsZWZ0ICAgOiB0YXJnZXQubGVmdCArIHRhcmdldC53aWR0aCArIGRpc3RhbmNlQXdheSxcbiAgICAgICAgICAgICAgICAgIGJvdHRvbSA6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgIHJpZ2h0ICA6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdib3R0b20gbGVmdCc6XG4gICAgICAgICAgICAgICAgcG9zaXRpb25pbmcgPSB7XG4gICAgICAgICAgICAgICAgICB0b3AgICAgOiB0YXJnZXQudG9wICsgdGFyZ2V0LmhlaWdodCArIGRpc3RhbmNlQXdheSxcbiAgICAgICAgICAgICAgICAgIGxlZnQgICA6IHRhcmdldC5sZWZ0ICsgb2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgYm90dG9tIDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgcmlnaHQgIDogJ2F1dG8nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSBjZW50ZXInOlxuICAgICAgICAgICAgICAgIHBvc2l0aW9uaW5nID0ge1xuICAgICAgICAgICAgICAgICAgdG9wICAgIDogdGFyZ2V0LnRvcCArIHRhcmdldC5oZWlnaHQgKyBkaXN0YW5jZUF3YXksXG4gICAgICAgICAgICAgICAgICBsZWZ0ICAgOiB0YXJnZXQubGVmdCArICh0YXJnZXQud2lkdGggLyAyKSAtIChwb3B1cC53aWR0aCAvIDIpICsgb2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgYm90dG9tIDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgcmlnaHQgIDogJ2F1dG8nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSByaWdodCc6XG4gICAgICAgICAgICAgICAgcG9zaXRpb25pbmcgPSB7XG4gICAgICAgICAgICAgICAgICB0b3AgICAgOiB0YXJnZXQudG9wICsgdGFyZ2V0LmhlaWdodCArIGRpc3RhbmNlQXdheSxcbiAgICAgICAgICAgICAgICAgIHJpZ2h0ICA6IHBhcmVudC53aWR0aCAtIHRhcmdldC5sZWZ0ICAtIHRhcmdldC53aWR0aCAtIG9mZnNldCxcbiAgICAgICAgICAgICAgICAgIGxlZnQgICA6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgIGJvdHRvbSA6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYocG9zaXRpb25pbmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBtb2R1bGUuZXJyb3IoZXJyb3IuaW52YWxpZFBvc2l0aW9uLCBwb3NpdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnQ2FsY3VsYXRlZCBwb3B1cCBwb3NpdGlvbmluZyB2YWx1ZXMnLCBwb3NpdGlvbmluZyk7XG5cbiAgICAgICAgICAgIC8vIHRlbnRhdGl2ZWx5IHBsYWNlIG9uIHN0YWdlXG4gICAgICAgICAgICAkcG9wdXBcbiAgICAgICAgICAgICAgLmNzcyhwb3NpdGlvbmluZylcbiAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKGNsYXNzTmFtZS5wb3NpdGlvbilcbiAgICAgICAgICAgICAgLmFkZENsYXNzKHBvc2l0aW9uKVxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoY2xhc3NOYW1lLmxvYWRpbmcpXG4gICAgICAgICAgICA7XG5cbiAgICAgICAgICAgIHBvcHVwT2Zmc2V0ID0gbW9kdWxlLmdldC5wb3B1cE9mZnNldCgpO1xuXG4gICAgICAgICAgICAvLyBzZWUgaWYgYW55IGJvdW5kYXJpZXMgYXJlIHN1cnBhc3NlZCB3aXRoIHRoaXMgdGVudGF0aXZlIHBvc2l0aW9uXG4gICAgICAgICAgICBkaXN0YW5jZUZyb21Cb3VuZGFyeSA9IG1vZHVsZS5nZXQuZGlzdGFuY2VGcm9tQm91bmRhcnkocG9wdXBPZmZzZXQsIGNhbGN1bGF0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmKCBtb2R1bGUuaXMub2Zmc3RhZ2UoZGlzdGFuY2VGcm9tQm91bmRhcnksIHBvc2l0aW9uKSApIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdQb3NpdGlvbiBpcyBvdXRzaWRlIHZpZXdwb3J0JywgcG9zaXRpb24pO1xuICAgICAgICAgICAgICBpZihzZWFyY2hEZXB0aCA8IHNldHRpbmdzLm1heFNlYXJjaERlcHRoKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoRGVwdGgrKztcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IG1vZHVsZS5nZXQubmV4dFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBtb2R1bGUuZGVidWcoJ1RyeWluZyBuZXcgcG9zaXRpb24nLCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgkcG9wdXApXG4gICAgICAgICAgICAgICAgICA/IG1vZHVsZS5zZXQucG9zaXRpb24ocG9zaXRpb24sIGNhbGN1bGF0aW9ucylcbiAgICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYoc2V0dGluZ3MubGFzdFJlc29ydCkge1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdObyBwb3NpdGlvbiBmb3VuZCwgc2hvd2luZyB3aXRoIGxhc3QgcG9zaXRpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUuZGVidWcoJ1BvcHVwIGNvdWxkIG5vdCBmaW5kIGEgcG9zaXRpb24gdG8gZGlzcGxheScsICRwb3B1cCk7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUuZXJyb3IoZXJyb3IuY2Fubm90UGxhY2UsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLnJlbW92ZS5hdHRlbXB0cygpO1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLnJlbW92ZS5sb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uVW5wbGFjZWFibGUuY2FsbCgkcG9wdXAsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdQb3NpdGlvbiBpcyBvbiBzdGFnZScsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgIG1vZHVsZS5yZW1vdmUuYXR0ZW1wdHMoKTtcbiAgICAgICAgICAgIG1vZHVsZS5yZW1vdmUubG9hZGluZygpO1xuICAgICAgICAgICAgaWYoIHNldHRpbmdzLnNldEZsdWlkV2lkdGggJiYgbW9kdWxlLmlzLmZsdWlkKCkgKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5zZXQuZmx1aWRXaWR0aChjYWxjdWxhdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGZsdWlkV2lkdGg6IGZ1bmN0aW9uKGNhbGN1bGF0aW9ucykge1xuICAgICAgICAgICAgY2FsY3VsYXRpb25zID0gY2FsY3VsYXRpb25zIHx8IG1vZHVsZS5nZXQuY2FsY3VsYXRpb25zKCk7XG4gICAgICAgICAgICBtb2R1bGUuZGVidWcoJ0F1dG9tYXRpY2FsbHkgc2V0dGluZyBlbGVtZW50IHdpZHRoIHRvIHBhcmVudCB3aWR0aCcsIGNhbGN1bGF0aW9ucy5wYXJlbnQud2lkdGgpO1xuICAgICAgICAgICAgJHBvcHVwLmNzcygnd2lkdGgnLCBjYWxjdWxhdGlvbnMuY29udGFpbmVyLndpZHRoKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgdmFyaWF0aW9uOiBmdW5jdGlvbih2YXJpYXRpb24pIHtcbiAgICAgICAgICAgIHZhcmlhdGlvbiA9IHZhcmlhdGlvbiB8fCBtb2R1bGUuZ2V0LnZhcmlhdGlvbigpO1xuICAgICAgICAgICAgaWYodmFyaWF0aW9uICYmIG1vZHVsZS5oYXMucG9wdXAoKSApIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ0FkZGluZyB2YXJpYXRpb24gdG8gcG9wdXAnLCB2YXJpYXRpb24pO1xuICAgICAgICAgICAgICAkcG9wdXAuYWRkQ2xhc3ModmFyaWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgdmlzaWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkbW9kdWxlLmFkZENsYXNzKGNsYXNzTmFtZS52aXNpYmxlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlOiB7XG4gICAgICAgICAgbG9hZGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkcG9wdXAucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lLmxvYWRpbmcpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdmFyaWF0aW9uOiBmdW5jdGlvbih2YXJpYXRpb24pIHtcbiAgICAgICAgICAgIHZhcmlhdGlvbiA9IHZhcmlhdGlvbiB8fCBtb2R1bGUuZ2V0LnZhcmlhdGlvbigpO1xuICAgICAgICAgICAgaWYodmFyaWF0aW9uKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdSZW1vdmluZyB2YXJpYXRpb24nLCB2YXJpYXRpb24pO1xuICAgICAgICAgICAgICAkcG9wdXAucmVtb3ZlQ2xhc3ModmFyaWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHZpc2libGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJG1vZHVsZS5yZW1vdmVDbGFzcyhjbGFzc05hbWUudmlzaWJsZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhdHRlbXB0czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnUmVzZXR0aW5nIGFsbCBzZWFyY2hlZCBwb3NpdGlvbnMnKTtcbiAgICAgICAgICAgIHNlYXJjaERlcHRoICAgID0gMDtcbiAgICAgICAgICAgIHRyaWVkUG9zaXRpb25zID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGJpbmQ6IHtcbiAgICAgICAgICBldmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdCaW5kaW5nIHBvcHVwIGV2ZW50cyB0byBtb2R1bGUnKTtcbiAgICAgICAgICAgIGlmKHNldHRpbmdzLm9uID09ICdjbGljaycpIHtcbiAgICAgICAgICAgICAgJG1vZHVsZVxuICAgICAgICAgICAgICAgIC5vbignY2xpY2snICsgZXZlbnROYW1lc3BhY2UsIG1vZHVsZS50b2dnbGUpXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHNldHRpbmdzLm9uID09ICdob3ZlcicgJiYgaGFzVG91Y2gpIHtcbiAgICAgICAgICAgICAgJG1vZHVsZVxuICAgICAgICAgICAgICAgIC5vbigndG91Y2hzdGFydCcgKyBldmVudE5hbWVzcGFjZSwgbW9kdWxlLmV2ZW50LnRvdWNoc3RhcnQpXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCBtb2R1bGUuZ2V0LnN0YXJ0RXZlbnQoKSApIHtcbiAgICAgICAgICAgICAgJG1vZHVsZVxuICAgICAgICAgICAgICAgIC5vbihtb2R1bGUuZ2V0LnN0YXJ0RXZlbnQoKSArIGV2ZW50TmFtZXNwYWNlLCBtb2R1bGUuZXZlbnQuc3RhcnQpXG4gICAgICAgICAgICAgICAgLm9uKG1vZHVsZS5nZXQuZW5kRXZlbnQoKSArIGV2ZW50TmFtZXNwYWNlLCBtb2R1bGUuZXZlbnQuZW5kKVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihzZXR0aW5ncy50YXJnZXQpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdUYXJnZXQgc2V0IHRvIGVsZW1lbnQnLCAkdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICR3aW5kb3cub24oJ3Jlc2l6ZScgKyBlbGVtZW50TmFtZXNwYWNlLCBtb2R1bGUuZXZlbnQucmVzaXplKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHBvcHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdBbGxvd2luZyBob3ZlciBldmVudHMgb24gcG9wdXAgdG8gcHJldmVudCBjbG9zaW5nJyk7XG4gICAgICAgICAgICBpZiggJHBvcHVwICYmIG1vZHVsZS5oYXMucG9wdXAoKSApIHtcbiAgICAgICAgICAgICAgJHBvcHVwXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZWVudGVyJyArIGV2ZW50TmFtZXNwYWNlLCBtb2R1bGUuZXZlbnQuc3RhcnQpXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZWxlYXZlJyArIGV2ZW50TmFtZXNwYWNlLCBtb2R1bGUuZXZlbnQuZW5kKVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjbG9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5oaWRlT25TY3JvbGwgPT09IHRydWUgfHwgKHNldHRpbmdzLmhpZGVPblNjcm9sbCA9PSAnYXV0bycgJiYgc2V0dGluZ3Mub24gIT0gJ2NsaWNrJykpIHtcbiAgICAgICAgICAgICAgJHNjcm9sbENvbnRleHRcbiAgICAgICAgICAgICAgICAub25lKG1vZHVsZS5nZXQuc2Nyb2xsRXZlbnQoKSArIGVsZW1lbnROYW1lc3BhY2UsIG1vZHVsZS5ldmVudC5oaWRlR3JhY2VmdWxseSlcbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoc2V0dGluZ3Mub24gPT0gJ2hvdmVyJyAmJiBvcGVuZWRXaXRoVG91Y2gpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ0JpbmRpbmcgcG9wdXAgY2xvc2UgZXZlbnQgdG8gZG9jdW1lbnQnKTtcbiAgICAgICAgICAgICAgJGRvY3VtZW50XG4gICAgICAgICAgICAgICAgLm9uKCd0b3VjaHN0YXJ0JyArIGVsZW1lbnROYW1lc3BhY2UsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnVG91Y2hlZCBhd2F5IGZyb20gcG9wdXAnKTtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS5ldmVudC5oaWRlR3JhY2VmdWxseS5jYWxsKGVsZW1lbnQsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5vbiA9PSAnY2xpY2snICYmIHNldHRpbmdzLmNsb3NhYmxlKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdCaW5kaW5nIHBvcHVwIGNsb3NlIGV2ZW50IHRvIGRvY3VtZW50Jyk7XG4gICAgICAgICAgICAgICRkb2N1bWVudFxuICAgICAgICAgICAgICAgIC5vbignY2xpY2snICsgZWxlbWVudE5hbWVzcGFjZSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdDbGlja2VkIGF3YXkgZnJvbSBwb3B1cCcpO1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLmV2ZW50LmhpZGVHcmFjZWZ1bGx5LmNhbGwoZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdW5iaW5kOiB7XG4gICAgICAgICAgZXZlbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICR3aW5kb3dcbiAgICAgICAgICAgICAgLm9mZihlbGVtZW50TmFtZXNwYWNlKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgJG1vZHVsZVxuICAgICAgICAgICAgICAub2ZmKGV2ZW50TmFtZXNwYWNlKVxuICAgICAgICAgICAgO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGRvY3VtZW50XG4gICAgICAgICAgICAgIC5vZmYoZWxlbWVudE5hbWVzcGFjZSlcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgICRzY3JvbGxDb250ZXh0XG4gICAgICAgICAgICAgIC5vZmYoZWxlbWVudE5hbWVzcGFjZSlcbiAgICAgICAgICAgIDtcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuXG4gICAgICAgIGhhczoge1xuICAgICAgICAgIHBvcHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAoJHBvcHVwICYmICRwb3B1cC5sZW5ndGggPiAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaXM6IHtcbiAgICAgICAgICBvZmZzdGFnZTogZnVuY3Rpb24oZGlzdGFuY2VGcm9tQm91bmRhcnksIHBvc2l0aW9uKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgb2Zmc3RhZ2UgPSBbXVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGJvdW5kYXJpZXMgdGhhdCBoYXZlIGJlZW4gc3VycGFzc2VkXG4gICAgICAgICAgICAkLmVhY2goZGlzdGFuY2VGcm9tQm91bmRhcnksIGZ1bmN0aW9uKGRpcmVjdGlvbiwgZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgaWYoZGlzdGFuY2UgPCAtc2V0dGluZ3Muaml0dGVyKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdQb3NpdGlvbiBleGNlZWRzIGFsbG93YWJsZSBkaXN0YW5jZSBmcm9tIGVkZ2UnLCBkaXJlY3Rpb24sIGRpc3RhbmNlLCBwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgb2Zmc3RhZ2UucHVzaChkaXJlY3Rpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmKG9mZnN0YWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3ZnOiBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlLnN1cHBvcnRzLnN2ZygpICYmIChlbGVtZW50IGluc3RhbmNlb2YgU1ZHR3JhcGhpY3NFbGVtZW50KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJG1vZHVsZS5oYXNDbGFzcyhjbGFzc05hbWUuYWN0aXZlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFuaW1hdGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gKCRwb3B1cCAhPT0gdW5kZWZpbmVkICYmICRwb3B1cC5oYXNDbGFzcyhjbGFzc05hbWUuYW5pbWF0aW5nKSApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZmx1aWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICgkcG9wdXAgIT09IHVuZGVmaW5lZCAmJiAkcG9wdXAuaGFzQ2xhc3MoY2xhc3NOYW1lLmZsdWlkKSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB2aXNpYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAoJHBvcHVwICE9PSB1bmRlZmluZWQgJiYgJHBvcHVwLmhhc0NsYXNzKGNsYXNzTmFtZS52aXNpYmxlKSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkcm9wZG93bjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJG1vZHVsZS5oYXNDbGFzcyhjbGFzc05hbWUuZHJvcGRvd24pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGlkZGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAhbW9kdWxlLmlzLnZpc2libGUoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJ0bDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICRtb2R1bGUuY3NzKCdkaXJlY3Rpb24nKSA9PSAncnRsJztcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG1vZHVsZS5yZW1vdmUudmlzaWJsZSgpO1xuICAgICAgICAgIGlmKHNldHRpbmdzLnByZXNlcnZlKSB7XG4gICAgICAgICAgICBpZigkLmZuLnRyYW5zaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAkcG9wdXBcbiAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigncmVtb3ZlIHRyYW5zaXRpb24nKVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbW9kdWxlLnJlbW92ZVBvcHVwKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldHRpbmc6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgaWYoICQuaXNQbGFpbk9iamVjdChuYW1lKSApIHtcbiAgICAgICAgICAgICQuZXh0ZW5kKHRydWUsIHNldHRpbmdzLCBuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZih2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZXR0aW5nc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzZXR0aW5nc1tuYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGludGVybmFsOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgIGlmKCAkLmlzUGxhaW5PYmplY3QobmFtZSkgKSB7XG4gICAgICAgICAgICAkLmV4dGVuZCh0cnVlLCBtb2R1bGUsIG5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1vZHVsZVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVbbmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWJ1ZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYoIXNldHRpbmdzLnNpbGVudCAmJiBzZXR0aW5ncy5kZWJ1Zykge1xuICAgICAgICAgICAgaWYoc2V0dGluZ3MucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLCBjb25zb2xlLCBzZXR0aW5ncy5uYW1lICsgJzonKTtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2ZXJib3NlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZighc2V0dGluZ3Muc2lsZW50ICYmIHNldHRpbmdzLnZlcmJvc2UgJiYgc2V0dGluZ3MuZGVidWcpIHtcbiAgICAgICAgICAgIGlmKHNldHRpbmdzLnBlcmZvcm1hbmNlKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5pbmZvLCBjb25zb2xlLCBzZXR0aW5ncy5uYW1lICsgJzonKTtcbiAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZighc2V0dGluZ3Muc2lsZW50KSB7XG4gICAgICAgICAgICBtb2R1bGUuZXJyb3IgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuZXJyb3IsIGNvbnNvbGUsIHNldHRpbmdzLm5hbWUgKyAnOicpO1xuICAgICAgICAgICAgbW9kdWxlLmVycm9yLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBwZXJmb3JtYW5jZToge1xuICAgICAgICAgIGxvZzogZnVuY3Rpb24obWVzc2FnZSkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgIGN1cnJlbnRUaW1lLFxuICAgICAgICAgICAgICBleGVjdXRpb25UaW1lLFxuICAgICAgICAgICAgICBwcmV2aW91c1RpbWVcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGlmKHNldHRpbmdzLnBlcmZvcm1hbmNlKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRUaW1lICAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgcHJldmlvdXNUaW1lICA9IHRpbWUgfHwgY3VycmVudFRpbWU7XG4gICAgICAgICAgICAgIGV4ZWN1dGlvblRpbWUgPSBjdXJyZW50VGltZSAtIHByZXZpb3VzVGltZTtcbiAgICAgICAgICAgICAgdGltZSAgICAgICAgICA9IGN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICBwZXJmb3JtYW5jZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAnTmFtZScgICAgICAgICAgIDogbWVzc2FnZVswXSxcbiAgICAgICAgICAgICAgICAnQXJndW1lbnRzJyAgICAgIDogW10uc2xpY2UuY2FsbChtZXNzYWdlLCAxKSB8fCAnJyxcbiAgICAgICAgICAgICAgICAnRWxlbWVudCcgICAgICAgIDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICAnRXhlY3V0aW9uIFRpbWUnIDogZXhlY3V0aW9uVGltZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFyVGltZW91dChtb2R1bGUucGVyZm9ybWFuY2UudGltZXIpO1xuICAgICAgICAgICAgbW9kdWxlLnBlcmZvcm1hbmNlLnRpbWVyID0gc2V0VGltZW91dChtb2R1bGUucGVyZm9ybWFuY2UuZGlzcGxheSwgNTAwKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGRpc3BsYXk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgIHRpdGxlID0gc2V0dGluZ3MubmFtZSArICc6JyxcbiAgICAgICAgICAgICAgdG90YWxUaW1lID0gMFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgdGltZSA9IGZhbHNlO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KG1vZHVsZS5wZXJmb3JtYW5jZS50aW1lcik7XG4gICAgICAgICAgICAkLmVhY2gocGVyZm9ybWFuY2UsIGZ1bmN0aW9uKGluZGV4LCBkYXRhKSB7XG4gICAgICAgICAgICAgIHRvdGFsVGltZSArPSBkYXRhWydFeGVjdXRpb24gVGltZSddO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aXRsZSArPSAnICcgKyB0b3RhbFRpbWUgKyAnbXMnO1xuICAgICAgICAgICAgaWYobW9kdWxlU2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgdGl0bGUgKz0gJyBcXCcnICsgbW9kdWxlU2VsZWN0b3IgKyAnXFwnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCAoY29uc29sZS5ncm91cCAhPT0gdW5kZWZpbmVkIHx8IGNvbnNvbGUudGFibGUgIT09IHVuZGVmaW5lZCkgJiYgcGVyZm9ybWFuY2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHRpdGxlKTtcbiAgICAgICAgICAgICAgaWYoY29uc29sZS50YWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUudGFibGUocGVyZm9ybWFuY2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICQuZWFjaChwZXJmb3JtYW5jZSwgZnVuY3Rpb24oaW5kZXgsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGFbJ05hbWUnXSArICc6ICcgKyBkYXRhWydFeGVjdXRpb24gVGltZSddKydtcycpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlcmZvcm1hbmNlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnZva2U6IGZ1bmN0aW9uKHF1ZXJ5LCBwYXNzZWRBcmd1bWVudHMsIGNvbnRleHQpIHtcbiAgICAgICAgICB2YXJcbiAgICAgICAgICAgIG9iamVjdCA9IGluc3RhbmNlLFxuICAgICAgICAgICAgbWF4RGVwdGgsXG4gICAgICAgICAgICBmb3VuZCxcbiAgICAgICAgICAgIHJlc3BvbnNlXG4gICAgICAgICAgO1xuICAgICAgICAgIHBhc3NlZEFyZ3VtZW50cyA9IHBhc3NlZEFyZ3VtZW50cyB8fCBxdWVyeUFyZ3VtZW50cztcbiAgICAgICAgICBjb250ZXh0ICAgICAgICAgPSBlbGVtZW50ICAgICAgICAgfHwgY29udGV4dDtcbiAgICAgICAgICBpZih0eXBlb2YgcXVlcnkgPT0gJ3N0cmluZycgJiYgb2JqZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5ICAgID0gcXVlcnkuc3BsaXQoL1tcXC4gXS8pO1xuICAgICAgICAgICAgbWF4RGVwdGggPSBxdWVyeS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgJC5lYWNoKHF1ZXJ5LCBmdW5jdGlvbihkZXB0aCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIGNhbWVsQ2FzZVZhbHVlID0gKGRlcHRoICE9IG1heERlcHRoKVxuICAgICAgICAgICAgICAgID8gdmFsdWUgKyBxdWVyeVtkZXB0aCArIDFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcXVlcnlbZGVwdGggKyAxXS5zbGljZSgxKVxuICAgICAgICAgICAgICAgIDogcXVlcnlcbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICBpZiggJC5pc1BsYWluT2JqZWN0KCBvYmplY3RbY2FtZWxDYXNlVmFsdWVdICkgJiYgKGRlcHRoICE9IG1heERlcHRoKSApIHtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBvYmplY3RbY2FtZWxDYXNlVmFsdWVdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYoIG9iamVjdFtjYW1lbENhc2VWYWx1ZV0gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IG9iamVjdFtjYW1lbENhc2VWYWx1ZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYoICQuaXNQbGFpbk9iamVjdCggb2JqZWN0W3ZhbHVlXSApICYmIChkZXB0aCAhPSBtYXhEZXB0aCkgKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3ZhbHVlXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmKCBvYmplY3RbdmFsdWVdICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBvYmplY3RbdmFsdWVdO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoICQuaXNGdW5jdGlvbiggZm91bmQgKSApIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gZm91bmQuYXBwbHkoY29udGV4dCwgcGFzc2VkQXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZihmb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IGZvdW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZigkLmlzQXJyYXkocmV0dXJuZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybmVkVmFsdWUucHVzaChyZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYocmV0dXJuZWRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm5lZFZhbHVlID0gW3JldHVybmVkVmFsdWUsIHJlc3BvbnNlXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZihyZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm5lZFZhbHVlID0gcmVzcG9uc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYobWV0aG9kSW52b2tlZCkge1xuICAgICAgICBpZihpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbW9kdWxlLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgICBtb2R1bGUuaW52b2tlKHF1ZXJ5KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZihpbnN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5zdGFuY2UuaW52b2tlKCdkZXN0cm95Jyk7XG4gICAgICAgIH1cbiAgICAgICAgbW9kdWxlLmluaXRpYWxpemUoKTtcbiAgICAgIH1cbiAgICB9KVxuICA7XG5cbiAgcmV0dXJuIChyZXR1cm5lZFZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgPyByZXR1cm5lZFZhbHVlXG4gICAgOiB0aGlzXG4gIDtcbn07XG5cbiQuZm4ucG9wdXAuc2V0dGluZ3MgPSB7XG5cbiAgbmFtZSAgICAgICAgICAgOiAnUG9wdXAnLFxuXG4gIC8vIG1vZHVsZSBzZXR0aW5nc1xuICBzaWxlbnQgICAgICAgICA6IGZhbHNlLFxuICBkZWJ1ZyAgICAgICAgICA6IGZhbHNlLFxuICB2ZXJib3NlICAgICAgICA6IGZhbHNlLFxuICBwZXJmb3JtYW5jZSAgICA6IHRydWUsXG4gIG5hbWVzcGFjZSAgICAgIDogJ3BvcHVwJyxcblxuICAvLyB3aGV0aGVyIGl0IHNob3VsZCB1c2UgZG9tIG11dGF0aW9uIG9ic2VydmVyc1xuICBvYnNlcnZlQ2hhbmdlcyA6IHRydWUsXG5cbiAgLy8gY2FsbGJhY2sgb25seSB3aGVuIGVsZW1lbnQgYWRkZWQgdG8gZG9tXG4gIG9uQ3JlYXRlICAgICAgIDogZnVuY3Rpb24oKXt9LFxuXG4gIC8vIGNhbGxiYWNrIGJlZm9yZSBlbGVtZW50IHJlbW92ZWQgZnJvbSBkb21cbiAgb25SZW1vdmUgICAgICAgOiBmdW5jdGlvbigpe30sXG5cbiAgLy8gY2FsbGJhY2sgYmVmb3JlIHNob3cgYW5pbWF0aW9uXG4gIG9uU2hvdyAgICAgICAgIDogZnVuY3Rpb24oKXt9LFxuXG4gIC8vIGNhbGxiYWNrIGFmdGVyIHNob3cgYW5pbWF0aW9uXG4gIG9uVmlzaWJsZSAgICAgIDogZnVuY3Rpb24oKXt9LFxuXG4gIC8vIGNhbGxiYWNrIGJlZm9yZSBoaWRlIGFuaW1hdGlvblxuICBvbkhpZGUgICAgICAgICA6IGZ1bmN0aW9uKCl7fSxcblxuICAvLyBjYWxsYmFjayB3aGVuIHBvcHVwIGNhbm5vdCBiZSBwb3NpdGlvbmVkIGluIHZpc2libGUgc2NyZWVuXG4gIG9uVW5wbGFjZWFibGUgIDogZnVuY3Rpb24oKXt9LFxuXG4gIC8vIGNhbGxiYWNrIGFmdGVyIGhpZGUgYW5pbWF0aW9uXG4gIG9uSGlkZGVuICAgICAgIDogZnVuY3Rpb24oKXt9LFxuXG4gIC8vIHdoZW4gdG8gc2hvdyBwb3B1cFxuICBvbiAgICAgICAgICAgICA6ICdob3ZlcicsXG5cbiAgLy8gZWxlbWVudCB0byB1c2UgdG8gZGV0ZXJtaW5lIGlmIHBvcHVwIGlzIG91dCBvZiBib3VuZGFyeVxuICBib3VuZGFyeSAgICAgICA6IHdpbmRvdyxcblxuICAvLyB3aGV0aGVyIHRvIGFkZCB0b3VjaHN0YXJ0IGV2ZW50cyB3aGVuIHVzaW5nIGhvdmVyXG4gIGFkZFRvdWNoRXZlbnRzIDogdHJ1ZSxcblxuICAvLyBkZWZhdWx0IHBvc2l0aW9uIHJlbGF0aXZlIHRvIGVsZW1lbnRcbiAgcG9zaXRpb24gICAgICAgOiAndG9wIGxlZnQnLFxuXG4gIC8vIG5hbWUgb2YgdmFyaWF0aW9uIHRvIHVzZVxuICB2YXJpYXRpb24gICAgICA6ICcnLFxuXG4gIC8vIHdoZXRoZXIgcG9wdXAgc2hvdWxkIGJlIG1vdmVkIHRvIGNvbnRleHRcbiAgbW92ZVBvcHVwICAgICAgOiB0cnVlLFxuXG4gIC8vIGVsZW1lbnQgd2hpY2ggcG9wdXAgc2hvdWxkIGJlIHJlbGF0aXZlIHRvXG4gIHRhcmdldCAgICAgICAgIDogZmFsc2UsXG5cbiAgLy8ganEgc2VsZWN0b3Igb3IgZWxlbWVudCB0aGF0IHNob3VsZCBiZSB1c2VkIGFzIHBvcHVwXG4gIHBvcHVwICAgICAgICAgIDogZmFsc2UsXG5cbiAgLy8gcG9wdXAgc2hvdWxkIHJlbWFpbiBpbmxpbmUgbmV4dCB0byBhY3RpdmF0b3JcbiAgaW5saW5lICAgICAgICAgOiBmYWxzZSxcblxuICAvLyBwb3B1cCBzaG91bGQgYmUgcmVtb3ZlZCBmcm9tIHBhZ2Ugb24gaGlkZVxuICBwcmVzZXJ2ZSAgICAgICA6IGZhbHNlLFxuXG4gIC8vIHBvcHVwIHNob3VsZCBub3QgY2xvc2Ugd2hlbiBiZWluZyBob3ZlcmVkIG9uXG4gIGhvdmVyYWJsZSAgICAgIDogZmFsc2UsXG5cbiAgLy8gZXhwbGljaXRseSBzZXQgY29udGVudFxuICBjb250ZW50ICAgICAgICA6IGZhbHNlLFxuXG4gIC8vIGV4cGxpY2l0bHkgc2V0IGh0bWxcbiAgaHRtbCAgICAgICAgICAgOiBmYWxzZSxcblxuICAvLyBleHBsaWNpdGx5IHNldCB0aXRsZVxuICB0aXRsZSAgICAgICAgICA6IGZhbHNlLFxuXG4gIC8vIHdoZXRoZXIgYXV0b21hdGljYWxseSBjbG9zZSBvbiBjbGlja2F3YXkgd2hlbiBvbiBjbGlja1xuICBjbG9zYWJsZSAgICAgICA6IHRydWUsXG5cbiAgLy8gYXV0b21hdGljYWxseSBoaWRlIG9uIHNjcm9sbFxuICBoaWRlT25TY3JvbGwgICA6ICdhdXRvJyxcblxuICAvLyBoaWRlIG90aGVyIHBvcHVwcyBvbiBzaG93XG4gIGV4Y2x1c2l2ZSAgICAgIDogZmFsc2UsXG5cbiAgLy8gY29udGV4dCB0byBhdHRhY2ggcG9wdXBzXG4gIGNvbnRleHQgICAgICAgIDogJ2JvZHknLFxuXG4gIC8vIGNvbnRleHQgZm9yIGJpbmRpbmcgc2Nyb2xsIGV2ZW50c1xuICBzY3JvbGxDb250ZXh0ICA6IHdpbmRvdyxcblxuICAvLyBwb3NpdGlvbiB0byBwcmVmZXIgd2hlbiBjYWxjdWxhdGluZyBuZXcgcG9zaXRpb25cbiAgcHJlZmVyICAgICAgICAgOiAnb3Bwb3NpdGUnLFxuXG4gIC8vIHNwZWNpZnkgcG9zaXRpb24gdG8gYXBwZWFyIGV2ZW4gaWYgaXQgZG9lc24ndCBmaXRcbiAgbGFzdFJlc29ydCAgICAgOiBmYWxzZSxcblxuICAvLyBkZWxheSB1c2VkIHRvIHByZXZlbnQgYWNjaWRlbnRhbCByZWZpcmluZyBvZiBhbmltYXRpb25zIGR1ZSB0byB1c2VyIGVycm9yXG4gIGRlbGF5ICAgICAgICA6IHtcbiAgICBzaG93IDogNTAsXG4gICAgaGlkZSA6IDcwXG4gIH0sXG5cbiAgLy8gd2hldGhlciBmbHVpZCB2YXJpYXRpb24gc2hvdWxkIGFzc2lnbiB3aWR0aCBleHBsaWNpdGx5XG4gIHNldEZsdWlkV2lkdGggIDogdHJ1ZSxcblxuICAvLyB0cmFuc2l0aW9uIHNldHRpbmdzXG4gIGR1cmF0aW9uICAgICAgIDogMjAwLFxuICB0cmFuc2l0aW9uICAgICA6ICdzY2FsZScsXG5cbiAgLy8gZGlzdGFuY2UgYXdheSBmcm9tIGFjdGl2YXRpbmcgZWxlbWVudCBpbiBweFxuICBkaXN0YW5jZUF3YXkgICA6IDAsXG5cbiAgLy8gbnVtYmVyIG9mIHBpeGVscyBhbiBlbGVtZW50IGlzIGFsbG93ZWQgdG8gYmUgXCJvZmZzdGFnZVwiIGZvciBhIHBvc2l0aW9uIHRvIGJlIGNob3NlbiAoYWxsb3dzIGZvciByb3VuZGluZylcbiAgaml0dGVyICAgICAgICAgOiAyLFxuXG4gIC8vIG9mZnNldCBvbiBhbGlnbmluZyBheGlzIGZyb20gY2FsY3VsYXRlZCBwb3NpdGlvblxuICBvZmZzZXQgICAgICAgICA6IDAsXG5cbiAgLy8gbWF4aW11bSB0aW1lcyB0byBsb29rIGZvciBhIHBvc2l0aW9uIGJlZm9yZSBmYWlsaW5nICg5IHBvc2l0aW9ucyB0b3RhbClcbiAgbWF4U2VhcmNoRGVwdGggOiAxNSxcblxuICBlcnJvcjoge1xuICAgIGludmFsaWRQb3NpdGlvbiA6ICdUaGUgcG9zaXRpb24geW91IHNwZWNpZmllZCBpcyBub3QgYSB2YWxpZCBwb3NpdGlvbicsXG4gICAgY2Fubm90UGxhY2UgICAgIDogJ1BvcHVwIGRvZXMgbm90IGZpdCB3aXRoaW4gdGhlIGJvdW5kYXJpZXMgb2YgdGhlIHZpZXdwb3J0JyxcbiAgICBtZXRob2QgICAgICAgICAgOiAnVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLicsXG4gICAgbm9UcmFuc2l0aW9uICAgIDogJ1RoaXMgbW9kdWxlIHJlcXVpcmVzIHVpIHRyYW5zaXRpb25zIDxodHRwczovL2dpdGh1Yi5jb20vU2VtYW50aWMtT3JnL1VJLVRyYW5zaXRpb24+JyxcbiAgICBub3RGb3VuZCAgICAgICAgOiAnVGhlIHRhcmdldCBvciBwb3B1cCB5b3Ugc3BlY2lmaWVkIGRvZXMgbm90IGV4aXN0IG9uIHRoZSBwYWdlJ1xuICB9LFxuXG4gIG1ldGFkYXRhOiB7XG4gICAgYWN0aXZhdG9yIDogJ2FjdGl2YXRvcicsXG4gICAgY29udGVudCAgIDogJ2NvbnRlbnQnLFxuICAgIGh0bWwgICAgICA6ICdodG1sJyxcbiAgICBvZmZzZXQgICAgOiAnb2Zmc2V0JyxcbiAgICBwb3NpdGlvbiAgOiAncG9zaXRpb24nLFxuICAgIHRpdGxlICAgICA6ICd0aXRsZScsXG4gICAgdmFyaWF0aW9uIDogJ3ZhcmlhdGlvbidcbiAgfSxcblxuICBjbGFzc05hbWUgICA6IHtcbiAgICBhY3RpdmUgICAgOiAnYWN0aXZlJyxcbiAgICBhbmltYXRpbmcgOiAnYW5pbWF0aW5nJyxcbiAgICBkcm9wZG93biAgOiAnZHJvcGRvd24nLFxuICAgIGZsdWlkICAgICA6ICdmbHVpZCcsXG4gICAgbG9hZGluZyAgIDogJ2xvYWRpbmcnLFxuICAgIHBvcHVwICAgICA6ICd1aSBwb3B1cCcsXG4gICAgcG9zaXRpb24gIDogJ3RvcCBsZWZ0IGNlbnRlciBib3R0b20gcmlnaHQnLFxuICAgIHZpc2libGUgICA6ICd2aXNpYmxlJ1xuICB9LFxuXG4gIHNlbGVjdG9yICAgIDoge1xuICAgIHBvcHVwICAgIDogJy51aS5wb3B1cCdcbiAgfSxcblxuICB0ZW1wbGF0ZXM6IHtcbiAgICBlc2NhcGU6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgdmFyXG4gICAgICAgIGJhZENoYXJzICAgICA9IC9bJjw+XCInYF0vZyxcbiAgICAgICAgc2hvdWxkRXNjYXBlID0gL1smPD5cIidgXS8sXG4gICAgICAgIGVzY2FwZSAgICAgICA9IHtcbiAgICAgICAgICBcIiZcIjogXCImYW1wO1wiLFxuICAgICAgICAgIFwiPFwiOiBcIiZsdDtcIixcbiAgICAgICAgICBcIj5cIjogXCImZ3Q7XCIsXG4gICAgICAgICAgJ1wiJzogXCImcXVvdDtcIixcbiAgICAgICAgICBcIidcIjogXCImI3gyNztcIixcbiAgICAgICAgICBcImBcIjogXCImI3g2MDtcIlxuICAgICAgICB9LFxuICAgICAgICBlc2NhcGVkQ2hhciAgPSBmdW5jdGlvbihjaHIpIHtcbiAgICAgICAgICByZXR1cm4gZXNjYXBlW2Nocl07XG4gICAgICAgIH1cbiAgICAgIDtcbiAgICAgIGlmKHNob3VsZEVzY2FwZS50ZXN0KHN0cmluZykpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGJhZENoYXJzLCBlc2NhcGVkQ2hhcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nO1xuICAgIH0sXG4gICAgcG9wdXA6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHZhclxuICAgICAgICBodG1sICAgPSAnJyxcbiAgICAgICAgZXNjYXBlID0gJC5mbi5wb3B1cC5zZXR0aW5ncy50ZW1wbGF0ZXMuZXNjYXBlXG4gICAgICA7XG4gICAgICBpZih0eXBlb2YgdGV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmKHR5cGVvZiB0ZXh0LnRpdGxlICE9PSB1bmRlZmluZWQgJiYgdGV4dC50aXRsZSkge1xuICAgICAgICAgIHRleHQudGl0bGUgPSBlc2NhcGUodGV4dC50aXRsZSk7XG4gICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImhlYWRlclwiPicgKyB0ZXh0LnRpdGxlICsgJzwvZGl2Pic7XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZW9mIHRleHQuY29udGVudCAhPT0gdW5kZWZpbmVkICYmIHRleHQuY29udGVudCkge1xuICAgICAgICAgIHRleHQuY29udGVudCA9IGVzY2FwZSh0ZXh0LmNvbnRlbnQpO1xuICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJjb250ZW50XCI+JyArIHRleHQuY29udGVudCArICc8L2Rpdj4nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG4gIH1cblxufTtcblxuXG59KSggalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50ICk7XG4iXX0=
