!function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.form=function(t){var i,a=e(this),o=a.selector||"",l=(new Date).getTime(),s=[],u=arguments[0],c=arguments[1],f="string"==typeof u,d=[].slice.call(arguments,1);return a.each(function(){var p,m,g,h,v,b,y,x,k,E,w,C,V,R,S,F,A,T,j=e(this),D=this,O=[],z=!1;T={initialize:function(){T.get.settings(),f?(A===r&&T.instantiate(),T.invoke(u)):(A!==r&&A.invoke("destroy"),T.verbose("Initializing form validation",j,x),T.bindEvents(),T.set.defaults(),T.instantiate())},instantiate:function(){T.verbose("Storing instance of module",T),A=T,j.data(S,T)},destroy:function(){T.verbose("Destroying previous module",A),T.removeEvents(),j.removeData(S)},refresh:function(){T.verbose("Refreshing selector cache"),p=j.find(w.field),m=j.find(w.group),g=j.find(w.message),h=j.find(w.prompt),v=j.find(w.submit),b=j.find(w.clear),y=j.find(w.reset)},submit:function(){T.verbose("Submitting form",j),j.submit()},attachEvents:function(t,n){n=n||"submit",e(t).on("click"+F,function(e){T[n](),e.preventDefault()})},bindEvents:function(){T.verbose("Attaching form events"),j.on("submit"+F,T.validate.form).on("blur"+F,w.field,T.event.field.blur).on("click"+F,w.submit,T.submit).on("click"+F,w.reset,T.reset).on("click"+F,w.clear,T.clear),x.keyboardShortcuts&&j.on("keydown"+F,w.field,T.event.field.keydown),p.each(function(){var t=e(this),n=t.prop("type"),r=T.get.changeEvent(n,t);e(this).on(r+F,T.event.field.change)})},clear:function(){p.each(function(){var t=e(this),n=t.parent(),r=t.closest(m),i=r.find(w.prompt),a=t.data(E.defaultValue)||"",o=n.is(w.uiCheckbox),l=n.is(w.uiDropdown),s=r.hasClass(C.error);s&&(T.verbose("Resetting error on field",r),r.removeClass(C.error),i.remove()),l?(T.verbose("Resetting dropdown value",n,a),n.dropdown("clear")):o?t.prop("checked",!1):(T.verbose("Resetting field value",t,a),t.val(""))})},reset:function(){p.each(function(){var t=e(this),n=t.parent(),i=t.closest(m),a=i.find(w.prompt),o=t.data(E.defaultValue),l=n.is(w.uiCheckbox),s=n.is(w.uiDropdown),u=i.hasClass(C.error);o!==r&&(u&&(T.verbose("Resetting error on field",i),i.removeClass(C.error),a.remove()),s?(T.verbose("Resetting dropdown value",n,o),n.dropdown("restore defaults")):l?(T.verbose("Resetting checkbox value",n,o),t.prop("checked",o)):(T.verbose("Resetting field value",t,o),t.val(o)))})},is:{bracketedRule:function(e){return e.type&&e.type.match(x.regExp.bracket)},empty:function(e){return!e||0===e.length||(e.is('input[type="checkbox"]')?!e.is(":checked"):T.is.blank(e))},blank:function(t){return""===e.trim(t.val())},valid:function(){var t=!0;return T.verbose("Checking if form is valid"),e.each(k,function(e,n){T.validate.field(n,e)||(t=!1)}),t}},removeEvents:function(){j.off(F),p.off(F),v.off(F),p.off(F)},event:{field:{keydown:function(t){var n=e(this),r=t.which,i=n.is(w.input),a=n.is(w.checkbox),o=n.closest(w.uiDropdown).length>0,l={enter:13,escape:27};r==l.escape&&(T.verbose("Escape key pressed blurring field"),n.blur()),t.ctrlKey||r!=l.enter||!i||o||a||(z||(n.one("keyup"+F,T.event.field.keyup),T.submit(),T.debug("Enter pressed on input submitting form")),z=!0)},keyup:function(){z=!1},blur:function(t){var n=e(this),r=n.closest(m),i=T.get.validation(n);r.hasClass(C.error)?(T.debug("Revalidating field",n,i),i&&T.validate.field(i)):"blur"!=x.on&&"change"!=x.on||i&&T.validate.field(i)},change:function(t){var n=e(this),r=n.closest(m),i=T.get.validation(n);("change"==x.on||r.hasClass(C.error)&&x.revalidate)&&(clearTimeout(T.timer),T.timer=setTimeout(function(){T.debug("Revalidating field",n,T.get.validation(n)),T.validate.field(i)},x.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!e.value&&!T.is.bracketedRule(e))&&(e.value!==r?e.value:e.type.match(x.regExp.bracket)[1]+"")},ruleName:function(e){return T.is.bracketedRule(e)?e.type.replace(e.type.match(x.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":T.get.inputEvent()},inputEvent:function(){return n.createElement("input").oninput!==r?"input":n.createElement("input").onpropertychange!==r?"propertychange":"keyup"},prompt:function(e,t){var n,r,i,a=T.get.ruleName(e),o=T.get.ancillaryValue(e),l=e.prompt||x.prompt[a]||x.text.unspecifiedRule,s=l.search("{value}")!==-1,u=l.search("{name}")!==-1;return(u||s)&&(r=T.get.field(t.identifier)),s&&(l=l.replace("{value}",r.val())),u&&(n=r.closest(w.group).find("label").eq(0),i=1==n.length?n.text():r.prop("placeholder")||x.text.unspecifiedField,l=l.replace("{name}",i)),l=l.replace("{identifier}",t.identifier),l=l.replace("{ruleValue}",o),e.prompt||T.verbose("Using default validation prompt for type",l,a),l},settings:function(){if(e.isPlainObject(t)){var n,i=Object.keys(t),a=i.length>0&&(t[i[0]].identifier!==r&&t[i[0]].rules!==r);a?(x=e.extend(!0,{},e.fn.form.settings,c),k=e.extend({},e.fn.form.settings.defaults,t),T.error(x.error.oldSyntax,D),T.verbose("Extending settings from legacy parameters",k,x)):(t.fields&&(n=Object.keys(t.fields),("string"==typeof t.fields[n[0]]||e.isArray(t.fields[n[0]]))&&e.each(t.fields,function(n,r){"string"==typeof r&&(r=[r]),t.fields[n]={rules:[]},e.each(r,function(e,r){t.fields[n].rules.push({type:r})})})),x=e.extend(!0,{},e.fn.form.settings,t),k=e.extend({},e.fn.form.settings.defaults,x.fields),T.verbose("Extending settings",k,x))}else x=e.fn.form.settings,k=e.fn.form.settings.defaults,T.verbose("Using default form validation",k,x);R=x.namespace,E=x.metadata,w=x.selector,C=x.className,V=x.error,S="module-"+R,F="."+R,A=j.data(S),T.refresh()},field:function(t){return T.verbose("Finding field with identifier",t),p.filter("#"+t).length>0?p.filter("#"+t):p.filter('[name="'+t+'"]').length>0?p.filter('[name="'+t+'"]'):p.filter('[name="'+t+'[]"]').length>0?p.filter('[name="'+t+'[]"]'):p.filter("[data-"+E.validate+'="'+t+'"]').length>0?p.filter("[data-"+E.validate+'="'+t+'"]'):e("<input/>")},fields:function(t){var n=e();return e.each(t,function(e,t){n=n.add(T.get.field(t))}),n},validation:function(t){var n,r;return!!k&&(e.each(k,function(e,i){r=i.identifier||e,T.get.field(r)[0]==t[0]&&(i.identifier=r,n=i)}),n||!1)},value:function(e){var t,n=[];return n.push(e),t=T.get.values.call(D,n),t[e]},values:function(t){var n=e.isArray(t)?T.get.fields(t):p,r={};return n.each(function(t,n){var i=e(n),a=(i.prop("type"),i.prop("name")),o=i.val(),l=i.is(w.checkbox),s=i.is(w.radio),u=a.indexOf("[]")!==-1,c=!!l&&i.is(":checked");a&&(u?(a=a.replace("[]",""),r[a]||(r[a]=[]),l?c?r[a].push(o||!0):r[a].push(!1):r[a].push(o)):s?c&&(r[a]=o):l?c?r[a]=o||!0:r[a]=!1:r[a]=o)}),r}},has:{field:function(e){return T.verbose("Checking for existence of a field with identifier",e),"string"!=typeof e&&T.error(V.identifier,e),p.filter("#"+e).length>0||(p.filter('[name="'+e+'"]').length>0||p.filter("[data-"+E.validate+'="'+e+'"]').length>0)}},add:{prompt:function(t,n){var i=T.get.field(t),a=i.closest(m),o=a.children(w.prompt),l=0!==o.length;n="string"==typeof n?[n]:n,T.verbose("Adding field error state",t),a.addClass(C.error),x.inline&&(l||(o=x.templates.prompt(n),o.appendTo(a)),o.html(n[0]),l?T.verbose("Inline errors are disabled, no inline error added",t):x.transition&&e.fn.transition!==r&&j.transition("is supported")?(T.verbose("Displaying error with css transition",x.transition),o.transition(x.transition+" in",x.duration)):(T.verbose("Displaying error with fallback javascript animation"),o.fadeIn(x.duration)))},errors:function(e){T.debug("Adding form error messages",e),T.set.error(),g.html(x.templates.error(e))}},remove:{prompt:function(t){var n=T.get.field(t),i=n.closest(m),a=i.children(w.prompt);i.removeClass(C.error),x.inline&&a.is(":visible")&&(T.verbose("Removing prompt for field",t),x.transition&&e.fn.transition!==r&&j.transition("is supported")?a.transition(x.transition+" out",x.duration,function(){a.remove()}):a.fadeOut(x.duration,function(){a.remove()}))}},set:{success:function(){j.removeClass(C.error).addClass(C.success)},defaults:function(){p.each(function(){var t=e(this),n=t.filter(w.checkbox).length>0,r=n?t.is(":checked"):t.val();t.data(E.defaultValue,r)})},error:function(){j.removeClass(C.success).addClass(C.error)},value:function(e,t){var n={};return n[e]=t,T.set.values.call(D,n)},values:function(t){e.isEmptyObject(t)||e.each(t,function(t,n){var r,i=T.get.field(t),a=i.parent(),o=e.isArray(n),l=a.is(w.uiCheckbox),s=a.is(w.uiDropdown),u=i.is(w.radio)&&l,c=i.length>0;c&&(o&&l?(T.verbose("Selecting multiple",n,i),a.checkbox("uncheck"),e.each(n,function(e,t){r=i.filter('[value="'+t+'"]'),a=r.parent(),r.length>0&&a.checkbox("check")})):u?(T.verbose("Selecting radio value",n,i),i.filter('[value="'+n+'"]').parent(w.uiCheckbox).checkbox("check")):l?(T.verbose("Setting checkbox value",n,a),n===!0?a.checkbox("check"):a.checkbox("uncheck")):s?(T.verbose("Setting dropdown value",n,a),a.dropdown("set selected",n)):(T.verbose("Setting field value",n,i),i.val(n)))})}},validate:{form:function(e,t){var n=T.get.values();if(z)return!1;if(O=[],T.is.valid()){if(T.debug("Form has no validation errors, submitting"),T.set.success(),t!==!0)return x.onSuccess.call(D,e,n)}else if(T.debug("Form has errors"),T.set.error(),x.inline||T.add.errors(O),j.data("moduleApi")!==r&&e.stopImmediatePropagation(),t!==!0)return x.onFailure.call(D,O,n)},field:function(t,n){var i=t.identifier||n,a=T.get.field(i),o=!!t.depends&&T.get.field(t.depends),l=!0,s=[];return t.identifier||(T.debug("Using field name as identifier",i),t.identifier=i),a.prop("disabled")?(T.debug("Field is disabled. Skipping",i),l=!0):t.optional&&T.is.blank(a)?(T.debug("Field is optional and blank. Skipping",i),l=!0):t.depends&&T.is.empty(o)?(T.debug("Field depends on another value that is not present or empty. Skipping",o),l=!0):t.rules!==r&&e.each(t.rules,function(e,n){T.has.field(i)&&!T.validate.rule(t,n)&&(T.debug("Field is invalid",i,n.type),s.push(T.get.prompt(n,t)),l=!1)}),l?(T.remove.prompt(i,s),x.onValid.call(a),!0):(O=O.concat(s),T.add.prompt(i,s),x.onInvalid.call(a,s),!1)},rule:function(t,n){var i=T.get.field(t.identifier),a=(n.type,i.val()),o=T.get.ancillaryValue(n),l=T.get.ruleName(n),s=x.rules[l];return e.isFunction(s)?(a=a===r||""===a||null===a?"":e.trim(a+""),s.call(i,a,o)):void T.error(V.noRule,l)}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(n===r)return x[t];x[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,T,t);else{if(n===r)return T[t];T[t]=n}},debug:function(){!x.silent&&x.debug&&(x.performance?T.performance.log(arguments):(T.debug=Function.prototype.bind.call(console.info,console,x.name+":"),T.debug.apply(console,arguments)))},verbose:function(){!x.silent&&x.verbose&&x.debug&&(x.performance?T.performance.log(arguments):(T.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),T.verbose.apply(console,arguments)))},error:function(){x.silent||(T.error=Function.prototype.bind.call(console.error,console,x.name+":"),T.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;x.performance&&(t=(new Date).getTime(),r=l||t,n=t-r,l=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(T.performance.timer),T.performance.timer=setTimeout(T.performance.display,500)},display:function(){var t=x.name+":",n=0;l=!1,clearTimeout(T.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",o&&(t+=" '"+o+"'"),a.length>1&&(t+=" ("+a.length+")"),(console.group!==r||console.table!==r)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,a){var o,l,s,u=A;return n=n||d,a=D||a,"string"==typeof t&&u!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var a=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(u[a])&&n!=o)u=u[a];else{if(u[a]!==r)return l=u[a],!1;if(!e.isPlainObject(u[i])||n==o)return u[i]!==r&&(l=u[i],!1);u=u[i]}})),e.isFunction(l)?s=l.apply(a,n):l!==r&&(s=l),e.isArray(i)?i.push(s):i!==r?i=[i,s]:s!==r&&(i=s),l}},T.initialize()}),i!==r?i:this},e.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(t){var n='<ul class="list">';return e.each(t,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>",e(n)},prompt:function(t){return e("<div/>").addClass("ui basic red pointing prompt label").html(t[0])}},rules:{empty:function(t){return!(t===r||""===t||e.isArray(t)&&0===t.length)},checked:function(){return e(this).filter(":checked").length>0},email:function(t){return e.fn.form.settings.regExp.email.test(t)},url:function(t){return e.fn.form.settings.regExp.url.test(t)},regExp:function(t,n){if(n instanceof RegExp)return t.match(n);var r,i=n.match(e.fn.form.settings.regExp.flags);return i&&(n=i.length>=2?i[1]:n,r=i.length>=3?i[2]:""),t.match(new RegExp(n,r))},integer:function(t,n){var i,a,o,l=e.fn.form.settings.regExp.integer;return n&&["",".."].indexOf(n)===-1&&(n.indexOf("..")==-1?l.test(n)&&(i=a=n-0):(o=n.split("..",2),l.test(o[0])&&(i=o[0]-0),l.test(o[1])&&(a=o[1]-0))),l.test(t)&&(i===r||t>=i)&&(a===r||t<=a)},decimal:function(t){return e.fn.form.settings.regExp.decimal.test(t)},number:function(t){return e.fn.form.settings.regExp.number.test(t)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,e="string"==typeof e?e.toLowerCase():e,e==t},isExactly:function(e,t){return e==t},not:function(e,t){return e="string"==typeof e?e.toLowerCase():e,t="string"==typeof t?t.toLowerCase():t,e!=t},notExactly:function(e,t){return e!=t},contains:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n,"i"))!==-1},containsExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n))!==-1},doesntContain:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n,"i"))===-1},doesntContainExactly:function(t,n){return n=n.replace(e.fn.form.settings.regExp.escape,"\\$&"),t.search(new RegExp(n))===-1},minLength:function(e,t){return e!==r&&e.length>=t},length:function(e,t){return e!==r&&e.length>=t},exactLength:function(e,t){return e!==r&&e.length==t},maxLength:function(e,t){return e!==r&&e.length<=t},match:function(t,n){var i;e(this);return e('[data-validate="'+n+'"]').length>0?i=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?i=e("#"+n).val():e('[name="'+n+'"]').length>0?i=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(i=e('[name="'+n+'[]"]')),i!==r&&t.toString()==i.toString()},different:function(t,n){var i;e(this);return e('[data-validate="'+n+'"]').length>0?i=e('[data-validate="'+n+'"]').val():e("#"+n).length>0?i=e("#"+n).val():e('[name="'+n+'"]').length>0?i=e('[name="'+n+'"]').val():e('[name="'+n+'[]"]').length>0&&(i=e('[name="'+n+'[]"]')),i!==r&&t.toString()!==i.toString()},creditCard:function(t,n){var r,i,a={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},o={},l=!1,s="string"==typeof n&&n.split(",");if("string"==typeof t&&0!==t.length){if(s&&(e.each(s,function(n,r){i=a[r],i&&(o={length:e.inArray(t.length,i.length)!==-1,pattern:t.search(i.pattern)!==-1},o.length&&o.pattern&&(l=!0))}),!l))return!1;if(r={number:e.inArray(t.length,a.unionPay.length)!==-1,pattern:t.search(a.unionPay.pattern)!==-1},r.number&&r.pattern)return!0;for(var u=t.length,c=0,f=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],d=0;u--;)d+=f[c][parseInt(t.charAt(u),10)],c^=1;return d%10===0&&d>0}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&e.search(",")===-1:e.split(",").length==t},maxCount:function(e,t){return 0!=t&&(1==t?e.search(",")===-1:e.split(",").length<=t)}}}}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9mb3JtLmpzIl0sIm5hbWVzIjpbIiQiLCJ3aW5kb3ciLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIk1hdGgiLCJzZWxmIiwiRnVuY3Rpb24iLCJmbiIsImZvcm0iLCJwYXJhbWV0ZXJzIiwicmV0dXJuZWRWYWx1ZSIsIiRhbGxNb2R1bGVzIiwidGhpcyIsIm1vZHVsZVNlbGVjdG9yIiwic2VsZWN0b3IiLCJ0aW1lIiwiRGF0ZSIsImdldFRpbWUiLCJwZXJmb3JtYW5jZSIsInF1ZXJ5IiwiYXJndW1lbnRzIiwibGVnYWN5UGFyYW1ldGVycyIsIm1ldGhvZEludm9rZWQiLCJxdWVyeUFyZ3VtZW50cyIsInNsaWNlIiwiY2FsbCIsImVhY2giLCIkZmllbGQiLCIkZ3JvdXAiLCIkbWVzc2FnZSIsIiRwcm9tcHQiLCIkc3VibWl0IiwiJGNsZWFyIiwiJHJlc2V0Iiwic2V0dGluZ3MiLCJ2YWxpZGF0aW9uIiwibWV0YWRhdGEiLCJjbGFzc05hbWUiLCJlcnJvciIsIm5hbWVzcGFjZSIsIm1vZHVsZU5hbWVzcGFjZSIsImV2ZW50TmFtZXNwYWNlIiwiaW5zdGFuY2UiLCJtb2R1bGUiLCIkbW9kdWxlIiwiZWxlbWVudCIsImZvcm1FcnJvcnMiLCJrZXlIZWxkRG93biIsImluaXRpYWxpemUiLCJnZXQiLCJpbnN0YW50aWF0ZSIsImludm9rZSIsInZlcmJvc2UiLCJiaW5kRXZlbnRzIiwic2V0IiwiZGVmYXVsdHMiLCJkYXRhIiwiZGVzdHJveSIsInJlbW92ZUV2ZW50cyIsInJlbW92ZURhdGEiLCJyZWZyZXNoIiwiZmluZCIsImZpZWxkIiwiZ3JvdXAiLCJtZXNzYWdlIiwicHJvbXB0Iiwic3VibWl0IiwiY2xlYXIiLCJyZXNldCIsImF0dGFjaEV2ZW50cyIsImFjdGlvbiIsIm9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInZhbGlkYXRlIiwiYmx1ciIsImtleWJvYXJkU2hvcnRjdXRzIiwia2V5ZG93biIsIiRpbnB1dCIsInR5cGUiLCJwcm9wIiwiaW5wdXRFdmVudCIsImNoYW5nZUV2ZW50IiwiY2hhbmdlIiwiJGVsZW1lbnQiLCJwYXJlbnQiLCIkZmllbGRHcm91cCIsImNsb3Nlc3QiLCJkZWZhdWx0VmFsdWUiLCJpc0NoZWNrYm94IiwiaXMiLCJ1aUNoZWNrYm94IiwiaXNEcm9wZG93biIsInVpRHJvcGRvd24iLCJpc0Vycm9yZWQiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwicmVtb3ZlIiwiZHJvcGRvd24iLCJ2YWwiLCJicmFja2V0ZWRSdWxlIiwicnVsZSIsIm1hdGNoIiwicmVnRXhwIiwiYnJhY2tldCIsImVtcHR5IiwibGVuZ3RoIiwiYmxhbmsiLCJ0cmltIiwidmFsaWQiLCJhbGxWYWxpZCIsImZpZWxkTmFtZSIsIm9mZiIsImtleSIsIndoaWNoIiwiaXNJbnB1dCIsImlucHV0IiwiY2hlY2tib3giLCJpc0luRHJvcGRvd24iLCJrZXlDb2RlIiwiZW50ZXIiLCJlc2NhcGUiLCJjdHJsS2V5Iiwib25lIiwia2V5dXAiLCJkZWJ1ZyIsInZhbGlkYXRpb25SdWxlcyIsInJldmFsaWRhdGUiLCJjbGVhclRpbWVvdXQiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJkZWxheSIsImFuY2lsbGFyeVZhbHVlIiwidmFsdWUiLCJydWxlTmFtZSIsInJlcGxhY2UiLCJjcmVhdGVFbGVtZW50Iiwib25pbnB1dCIsIm9ucHJvcGVydHljaGFuZ2UiLCIkbGFiZWwiLCJuYW1lIiwiYW5jaWxsYXJ5IiwidGV4dCIsInVuc3BlY2lmaWVkUnVsZSIsInJlcXVpcmVzVmFsdWUiLCJzZWFyY2giLCJyZXF1aXJlc05hbWUiLCJpZGVudGlmaWVyIiwiZXEiLCJ1bnNwZWNpZmllZEZpZWxkIiwiaXNQbGFpbk9iamVjdCIsInJ1bGVLZXlzIiwia2V5cyIsIk9iamVjdCIsImlzTGVnYWN5U2V0dGluZ3MiLCJydWxlcyIsImV4dGVuZCIsIm9sZFN5bnRheCIsImZpZWxkcyIsImlzQXJyYXkiLCJpbmRleCIsInB1c2giLCJmaWx0ZXIiLCIkZmllbGRzIiwiYWRkIiwiZmllbGRWYWxpZGF0aW9uIiwicmVzdWx0cyIsInZhbHVlcyIsImlzUmFkaW8iLCJyYWRpbyIsImlzTXVsdGlwbGUiLCJpbmRleE9mIiwiaXNDaGVja2VkIiwiaGFzIiwiZXJyb3JzIiwiY2hpbGRyZW4iLCJwcm9tcHRFeGlzdHMiLCJhZGRDbGFzcyIsImlubGluZSIsInRlbXBsYXRlcyIsImFwcGVuZFRvIiwiaHRtbCIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsImZhZGVJbiIsImZhZGVPdXQiLCJzdWNjZXNzIiwiaXNFbXB0eU9iamVjdCIsIiRtdWx0aXBsZUZpZWxkIiwiZmllbGRFeGlzdHMiLCJpZ25vcmVDYWxsYmFja3MiLCJvblN1Y2Nlc3MiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJvbkZhaWx1cmUiLCIkZGVwZW5kc0ZpZWxkIiwiZGVwZW5kcyIsImZpZWxkVmFsaWQiLCJmaWVsZEVycm9ycyIsIm9wdGlvbmFsIiwib25WYWxpZCIsImNvbmNhdCIsIm9uSW52YWxpZCIsInJ1bGVGdW5jdGlvbiIsImlzRnVuY3Rpb24iLCJub1J1bGUiLCJzZXR0aW5nIiwiaW50ZXJuYWwiLCJzaWxlbnQiLCJsb2ciLCJwcm90b3R5cGUiLCJiaW5kIiwiY29uc29sZSIsImluZm8iLCJhcHBseSIsImN1cnJlbnRUaW1lIiwiZXhlY3V0aW9uVGltZSIsInByZXZpb3VzVGltZSIsIk5hbWUiLCJBcmd1bWVudHMiLCJFbGVtZW50IiwiRXhlY3V0aW9uIFRpbWUiLCJkaXNwbGF5IiwidGl0bGUiLCJ0b3RhbFRpbWUiLCJ0YWJsZSIsImdyb3VwQ29sbGFwc2VkIiwiZ3JvdXBFbmQiLCJwYXNzZWRBcmd1bWVudHMiLCJjb250ZXh0IiwibWF4RGVwdGgiLCJmb3VuZCIsInJlc3BvbnNlIiwib2JqZWN0Iiwic3BsaXQiLCJkZXB0aCIsImNhbWVsQ2FzZVZhbHVlIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJkZWNpbWFsIiwiZW1haWwiLCJmbGFncyIsImludGVnZXIiLCJudW1iZXIiLCJ1cmwiLCJjaGVja2VkIiwiaXNFeGFjdGx5Iiwibm90Iiwibm90RXhhY3RseSIsImNvbnRhaW4iLCJjb250YWluRXhhY3RseSIsImRvZXNudENvbnRhaW4iLCJkb2VzbnRDb250YWluRXhhY3RseSIsIm1pbkxlbmd0aCIsImV4YWN0TGVuZ3RoIiwibWF4TGVuZ3RoIiwiZGlmZmVyZW50IiwiY3JlZGl0Q2FyZCIsIm1pbkNvdW50IiwiZXhhY3RDb3VudCIsIm1heENvdW50IiwibGFiZWwiLCJwcmVzc2VkIiwibWV0aG9kIiwidGVzdCIsIlJlZ0V4cCIsInJlZ0V4cFBhcnRzIiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJwYXJ0cyIsImludFJlZ0V4cCIsInRvTG93ZXJDYXNlIiwibm90VmFsdWUiLCJjb250YWlucyIsImNvbnRhaW5zRXhhY3RseSIsInJlcXVpcmVkTGVuZ3RoIiwibWF0Y2hpbmdWYWx1ZSIsInRvU3RyaW5nIiwiY2FyZE51bWJlciIsImNhcmRUeXBlcyIsInVuaW9uUGF5IiwiY2FyZHMiLCJ2aXNhIiwicGF0dGVybiIsImFtZXgiLCJtYXN0ZXJjYXJkIiwiZGlzY292ZXIiLCJqY2IiLCJtYWVzdHJvIiwiZGluZXJzQ2x1YiIsImxhc2VyIiwidmlzYUVsZWN0cm9uIiwidmFsaWRDYXJkIiwicmVxdWlyZWRUeXBlcyIsImluQXJyYXkiLCJtdWx0aXBsZSIsInByb2R1Y2VkVmFsdWUiLCJzdW0iLCJwYXJzZUludCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBVUMsU0FBV0EsRUFBR0MsRUFBUUMsRUFBVUMsR0FFakMsWUFFQUYsR0FBMkIsbUJBQVZBLElBQXlCQSxFQUFPRyxNQUFRQSxLQUNyREgsRUFDZ0IsbUJBQVJJLE9BQXVCQSxLQUFLRCxNQUFRQSxLQUMxQ0MsS0FDQUMsU0FBUyxpQkFHZk4sRUFBRU8sR0FBR0MsS0FBTyxTQUFTQyxHQUNuQixHQVdFQyxHQVZBQyxFQUFtQlgsRUFBRVksTUFDckJDLEVBQW1CRixFQUFZRyxVQUFZLEdBRTNDQyxHQUFtQixHQUFJQyxPQUFPQyxVQUM5QkMsS0FFQUMsRUFBbUJDLFVB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c0NvbnRlbnQiOlsiLyohXG4gKiAjIFNlbWFudGljIFVJIDIuMi43IC0gRm9ybSBWYWxpZGF0aW9uXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9zZW1hbnRpYy1vcmcvc2VtYW50aWMtdWkvXG4gKlxuICpcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqL1xuXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbndpbmRvdyA9ICh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGgpXG4gID8gd2luZG93XG4gIDogKHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoKVxuICAgID8gc2VsZlxuICAgIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKVxuO1xuXG4kLmZuLmZvcm0gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHZhclxuICAgICRhbGxNb2R1bGVzICAgICAgPSAkKHRoaXMpLFxuICAgIG1vZHVsZVNlbGVjdG9yICAgPSAkYWxsTW9kdWxlcy5zZWxlY3RvciB8fCAnJyxcblxuICAgIHRpbWUgICAgICAgICAgICAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICBwZXJmb3JtYW5jZSAgICAgID0gW10sXG5cbiAgICBxdWVyeSAgICAgICAgICAgID0gYXJndW1lbnRzWzBdLFxuICAgIGxlZ2FjeVBhcmFtZXRlcnMgPSBhcmd1bWVudHNbMV0sXG4gICAgbWV0aG9kSW52b2tlZCAgICA9ICh0eXBlb2YgcXVlcnkgPT0gJ3N0cmluZycpLFxuICAgIHF1ZXJ5QXJndW1lbnRzICAgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksXG4gICAgcmV0dXJuZWRWYWx1ZVxuICA7XG4gICRhbGxNb2R1bGVzXG4gICAgLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXJcbiAgICAgICAgJG1vZHVsZSAgICAgPSAkKHRoaXMpLFxuICAgICAgICBlbGVtZW50ICAgICA9IHRoaXMsXG5cbiAgICAgICAgZm9ybUVycm9ycyAgPSBbXSxcbiAgICAgICAga2V5SGVsZERvd24gPSBmYWxzZSxcblxuICAgICAgICAvLyBzZXQgYXQgcnVuLXRpbWVcbiAgICAgICAgJGZpZWxkLFxuICAgICAgICAkZ3JvdXAsXG4gICAgICAgICRtZXNzYWdlLFxuICAgICAgICAkcHJvbXB0LFxuICAgICAgICAkc3VibWl0LFxuICAgICAgICAkY2xlYXIsXG4gICAgICAgICRyZXNldCxcblxuICAgICAgICBzZXR0aW5ncyxcbiAgICAgICAgdmFsaWRhdGlvbixcblxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgc2VsZWN0b3IsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgZXJyb3IsXG5cbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBtb2R1bGVOYW1lc3BhY2UsXG4gICAgICAgIGV2ZW50TmFtZXNwYWNlLFxuXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBtb2R1bGVcbiAgICAgIDtcblxuICAgICAgbW9kdWxlICAgICAgPSB7XG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAvLyBzZXR0aW5ncyBncmFiYmVkIGF0IHJ1biB0aW1lXG4gICAgICAgICAgbW9kdWxlLmdldC5zZXR0aW5ncygpO1xuICAgICAgICAgIGlmKG1ldGhvZEludm9rZWQpIHtcbiAgICAgICAgICAgIGlmKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2R1bGUuaW52b2tlKHF1ZXJ5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZihpbnN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGluc3RhbmNlLmludm9rZSgnZGVzdHJveScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ0luaXRpYWxpemluZyBmb3JtIHZhbGlkYXRpb24nLCAkbW9kdWxlLCBzZXR0aW5ncyk7XG4gICAgICAgICAgICBtb2R1bGUuYmluZEV2ZW50cygpO1xuICAgICAgICAgICAgbW9kdWxlLnNldC5kZWZhdWx0cygpO1xuICAgICAgICAgICAgbW9kdWxlLmluc3RhbnRpYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGluc3RhbnRpYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnU3RvcmluZyBpbnN0YW5jZSBvZiBtb2R1bGUnLCBtb2R1bGUpO1xuICAgICAgICAgIGluc3RhbmNlID0gbW9kdWxlO1xuICAgICAgICAgICRtb2R1bGVcbiAgICAgICAgICAgIC5kYXRhKG1vZHVsZU5hbWVzcGFjZSwgbW9kdWxlKVxuICAgICAgICAgIDtcbiAgICAgICAgfSxcblxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnRGVzdHJveWluZyBwcmV2aW91cyBtb2R1bGUnLCBpbnN0YW5jZSk7XG4gICAgICAgICAgbW9kdWxlLnJlbW92ZUV2ZW50cygpO1xuICAgICAgICAgICRtb2R1bGVcbiAgICAgICAgICAgIC5yZW1vdmVEYXRhKG1vZHVsZU5hbWVzcGFjZSlcbiAgICAgICAgICA7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVmcmVzaDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1JlZnJlc2hpbmcgc2VsZWN0b3IgY2FjaGUnKTtcbiAgICAgICAgICAkZmllbGQgICAgICA9ICRtb2R1bGUuZmluZChzZWxlY3Rvci5maWVsZCk7XG4gICAgICAgICAgJGdyb3VwICAgICAgPSAkbW9kdWxlLmZpbmQoc2VsZWN0b3IuZ3JvdXApO1xuICAgICAgICAgICRtZXNzYWdlICAgID0gJG1vZHVsZS5maW5kKHNlbGVjdG9yLm1lc3NhZ2UpO1xuICAgICAgICAgICRwcm9tcHQgICAgID0gJG1vZHVsZS5maW5kKHNlbGVjdG9yLnByb21wdCk7XG5cbiAgICAgICAgICAkc3VibWl0ICAgICA9ICRtb2R1bGUuZmluZChzZWxlY3Rvci5zdWJtaXQpO1xuICAgICAgICAgICRjbGVhciAgICAgID0gJG1vZHVsZS5maW5kKHNlbGVjdG9yLmNsZWFyKTtcbiAgICAgICAgICAkcmVzZXQgICAgICA9ICRtb2R1bGUuZmluZChzZWxlY3Rvci5yZXNldCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3VibWl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnU3VibWl0dGluZyBmb3JtJywgJG1vZHVsZSk7XG4gICAgICAgICAgJG1vZHVsZVxuICAgICAgICAgICAgLnN1Ym1pdCgpXG4gICAgICAgICAgO1xuICAgICAgICB9LFxuXG4gICAgICAgIGF0dGFjaEV2ZW50czogZnVuY3Rpb24oc2VsZWN0b3IsIGFjdGlvbikge1xuICAgICAgICAgIGFjdGlvbiA9IGFjdGlvbiB8fCAnc3VibWl0JztcbiAgICAgICAgICAkKHNlbGVjdG9yKVxuICAgICAgICAgICAgLm9uKCdjbGljaycgKyBldmVudE5hbWVzcGFjZSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgbW9kdWxlW2FjdGlvbl0oKTtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgO1xuICAgICAgICB9LFxuXG4gICAgICAgIGJpbmRFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdBdHRhY2hpbmcgZm9ybSBldmVudHMnKTtcbiAgICAgICAgICAkbW9kdWxlXG4gICAgICAgICAgICAub24oJ3N1Ym1pdCcgKyBldmVudE5hbWVzcGFjZSwgbW9kdWxlLnZhbGlkYXRlLmZvcm0pXG4gICAgICAgICAgICAub24oJ2JsdXInICAgKyBldmVudE5hbWVzcGFjZSwgc2VsZWN0b3IuZmllbGQsIG1vZHVsZS5ldmVudC5maWVsZC5ibHVyKVxuICAgICAgICAgICAgLm9uKCdjbGljaycgICsgZXZlbnROYW1lc3BhY2UsIHNlbGVjdG9yLnN1Ym1pdCwgbW9kdWxlLnN1Ym1pdClcbiAgICAgICAgICAgIC5vbignY2xpY2snICArIGV2ZW50TmFtZXNwYWNlLCBzZWxlY3Rvci5yZXNldCwgbW9kdWxlLnJlc2V0KVxuICAgICAgICAgICAgLm9uKCdjbGljaycgICsgZXZlbnROYW1lc3BhY2UsIHNlbGVjdG9yLmNsZWFyLCBtb2R1bGUuY2xlYXIpXG4gICAgICAgICAgO1xuICAgICAgICAgIGlmKHNldHRpbmdzLmtleWJvYXJkU2hvcnRjdXRzKSB7XG4gICAgICAgICAgICAkbW9kdWxlXG4gICAgICAgICAgICAgIC5vbigna2V5ZG93bicgKyBldmVudE5hbWVzcGFjZSwgc2VsZWN0b3IuZmllbGQsIG1vZHVsZS5ldmVudC5maWVsZC5rZXlkb3duKVxuICAgICAgICAgICAgO1xuICAgICAgICAgIH1cbiAgICAgICAgICAkZmllbGRcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAkaW5wdXQgICAgID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICB0eXBlICAgICAgID0gJGlucHV0LnByb3AoJ3R5cGUnKSxcbiAgICAgICAgICAgICAgICBpbnB1dEV2ZW50ID0gbW9kdWxlLmdldC5jaGFuZ2VFdmVudCh0eXBlLCAkaW5wdXQpXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgJCh0aGlzKVxuICAgICAgICAgICAgICAgIC5vbihpbnB1dEV2ZW50ICsgZXZlbnROYW1lc3BhY2UsIG1vZHVsZS5ldmVudC5maWVsZC5jaGFuZ2UpXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkZmllbGRcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgJGZpZWxkICAgICAgID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAkZWxlbWVudCAgICAgPSAkZmllbGQucGFyZW50KCksXG4gICAgICAgICAgICAgICAgJGZpZWxkR3JvdXAgID0gJGZpZWxkLmNsb3Nlc3QoJGdyb3VwKSxcbiAgICAgICAgICAgICAgICAkcHJvbXB0ICAgICAgPSAkZmllbGRHcm91cC5maW5kKHNlbGVjdG9yLnByb21wdCksXG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gJGZpZWxkLmRhdGEobWV0YWRhdGEuZGVmYXVsdFZhbHVlKSB8fCAnJyxcbiAgICAgICAgICAgICAgICBpc0NoZWNrYm94ICAgPSAkZWxlbWVudC5pcyhzZWxlY3Rvci51aUNoZWNrYm94KSxcbiAgICAgICAgICAgICAgICBpc0Ryb3Bkb3duICAgPSAkZWxlbWVudC5pcyhzZWxlY3Rvci51aURyb3Bkb3duKSxcbiAgICAgICAgICAgICAgICBpc0Vycm9yZWQgICAgPSAkZmllbGRHcm91cC5oYXNDbGFzcyhjbGFzc05hbWUuZXJyb3IpXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgaWYoaXNFcnJvcmVkKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1Jlc2V0dGluZyBlcnJvciBvbiBmaWVsZCcsICRmaWVsZEdyb3VwKTtcbiAgICAgICAgICAgICAgICAkZmllbGRHcm91cC5yZW1vdmVDbGFzcyhjbGFzc05hbWUuZXJyb3IpO1xuICAgICAgICAgICAgICAgICRwcm9tcHQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYoaXNEcm9wZG93bikge1xuICAgICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdSZXNldHRpbmcgZHJvcGRvd24gdmFsdWUnLCAkZWxlbWVudCwgZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5kcm9wZG93bignY2xlYXInKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmKGlzQ2hlY2tib3gpIHtcbiAgICAgICAgICAgICAgICAkZmllbGQucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnUmVzZXR0aW5nIGZpZWxkIHZhbHVlJywgJGZpZWxkLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgICAgICRmaWVsZC52YWwoJycpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDtcbiAgICAgICAgfSxcblxuICAgICAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJGZpZWxkXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICRmaWVsZCAgICAgICA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQgICAgID0gJGZpZWxkLnBhcmVudCgpLFxuICAgICAgICAgICAgICAgICRmaWVsZEdyb3VwICA9ICRmaWVsZC5jbG9zZXN0KCRncm91cCksXG4gICAgICAgICAgICAgICAgJHByb21wdCAgICAgID0gJGZpZWxkR3JvdXAuZmluZChzZWxlY3Rvci5wcm9tcHQpLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9ICRmaWVsZC5kYXRhKG1ldGFkYXRhLmRlZmF1bHRWYWx1ZSksXG4gICAgICAgICAgICAgICAgaXNDaGVja2JveCAgID0gJGVsZW1lbnQuaXMoc2VsZWN0b3IudWlDaGVja2JveCksXG4gICAgICAgICAgICAgICAgaXNEcm9wZG93biAgID0gJGVsZW1lbnQuaXMoc2VsZWN0b3IudWlEcm9wZG93biksXG4gICAgICAgICAgICAgICAgaXNFcnJvcmVkICAgID0gJGZpZWxkR3JvdXAuaGFzQ2xhc3MoY2xhc3NOYW1lLmVycm9yKVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgIGlmKGRlZmF1bHRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmKGlzRXJyb3JlZCkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdSZXNldHRpbmcgZXJyb3Igb24gZmllbGQnLCAkZmllbGRHcm91cCk7XG4gICAgICAgICAgICAgICAgJGZpZWxkR3JvdXAucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lLmVycm9yKTtcbiAgICAgICAgICAgICAgICAkcHJvbXB0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmKGlzRHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnUmVzZXR0aW5nIGRyb3Bkb3duIHZhbHVlJywgJGVsZW1lbnQsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQuZHJvcGRvd24oJ3Jlc3RvcmUgZGVmYXVsdHMnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmKGlzQ2hlY2tib3gpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnUmVzZXR0aW5nIGNoZWNrYm94IHZhbHVlJywgJGVsZW1lbnQsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgJGZpZWxkLnByb3AoJ2NoZWNrZWQnLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdSZXNldHRpbmcgZmllbGQgdmFsdWUnLCAkZmllbGQsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgJGZpZWxkLnZhbChkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDtcbiAgICAgICAgfSxcblxuICAgICAgICBpczoge1xuICAgICAgICAgIGJyYWNrZXRlZFJ1bGU6IGZ1bmN0aW9uKHJ1bGUpIHtcbiAgICAgICAgICAgIHJldHVybiAocnVsZS50eXBlICYmIHJ1bGUudHlwZS5tYXRjaChzZXR0aW5ncy5yZWdFeHAuYnJhY2tldCkpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZW1wdHk6IGZ1bmN0aW9uKCRmaWVsZCkge1xuICAgICAgICAgICAgaWYoISRmaWVsZCB8fCAkZmllbGQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZigkZmllbGQuaXMoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpKSB7XG4gICAgICAgICAgICAgIHJldHVybiAhJGZpZWxkLmlzKCc6Y2hlY2tlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBtb2R1bGUuaXMuYmxhbmsoJGZpZWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJsYW5rOiBmdW5jdGlvbigkZmllbGQpIHtcbiAgICAgICAgICAgIHJldHVybiAkLnRyaW0oJGZpZWxkLnZhbCgpKSA9PT0gJyc7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB2YWxpZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgYWxsVmFsaWQgPSB0cnVlXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnQ2hlY2tpbmcgaWYgZm9ybSBpcyB2YWxpZCcpO1xuICAgICAgICAgICAgJC5lYWNoKHZhbGlkYXRpb24sIGZ1bmN0aW9uKGZpZWxkTmFtZSwgZmllbGQpIHtcbiAgICAgICAgICAgICAgaWYoICEoIG1vZHVsZS52YWxpZGF0ZS5maWVsZChmaWVsZCwgZmllbGROYW1lKSApICkge1xuICAgICAgICAgICAgICAgIGFsbFZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGFsbFZhbGlkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZW1vdmVFdmVudHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRtb2R1bGVcbiAgICAgICAgICAgIC5vZmYoZXZlbnROYW1lc3BhY2UpXG4gICAgICAgICAgO1xuICAgICAgICAgICRmaWVsZFxuICAgICAgICAgICAgLm9mZihldmVudE5hbWVzcGFjZSlcbiAgICAgICAgICA7XG4gICAgICAgICAgJHN1Ym1pdFxuICAgICAgICAgICAgLm9mZihldmVudE5hbWVzcGFjZSlcbiAgICAgICAgICA7XG4gICAgICAgICAgJGZpZWxkXG4gICAgICAgICAgICAub2ZmKGV2ZW50TmFtZXNwYWNlKVxuICAgICAgICAgIDtcbiAgICAgICAgfSxcblxuICAgICAgICBldmVudDoge1xuICAgICAgICAgIGZpZWxkOiB7XG4gICAgICAgICAgICBrZXlkb3duOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAkZmllbGQgICAgICAgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgIGtleSAgICAgICAgICA9IGV2ZW50LndoaWNoLFxuICAgICAgICAgICAgICAgIGlzSW5wdXQgICAgICA9ICRmaWVsZC5pcyhzZWxlY3Rvci5pbnB1dCksXG4gICAgICAgICAgICAgICAgaXNDaGVja2JveCAgID0gJGZpZWxkLmlzKHNlbGVjdG9yLmNoZWNrYm94KSxcbiAgICAgICAgICAgICAgICBpc0luRHJvcGRvd24gPSAoJGZpZWxkLmNsb3Nlc3Qoc2VsZWN0b3IudWlEcm9wZG93bikubGVuZ3RoID4gMCksXG4gICAgICAgICAgICAgICAga2V5Q29kZSAgICAgID0ge1xuICAgICAgICAgICAgICAgICAgZW50ZXIgIDogMTMsXG4gICAgICAgICAgICAgICAgICBlc2NhcGUgOiAyN1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICBpZigga2V5ID09IGtleUNvZGUuZXNjYXBlKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ0VzY2FwZSBrZXkgcHJlc3NlZCBibHVycmluZyBmaWVsZCcpO1xuICAgICAgICAgICAgICAgICRmaWVsZFxuICAgICAgICAgICAgICAgICAgLmJsdXIoKVxuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZighZXZlbnQuY3RybEtleSAmJiBrZXkgPT0ga2V5Q29kZS5lbnRlciAmJiBpc0lucHV0ICYmICFpc0luRHJvcGRvd24gJiYgIWlzQ2hlY2tib3gpIHtcbiAgICAgICAgICAgICAgICBpZigha2V5SGVsZERvd24pIHtcbiAgICAgICAgICAgICAgICAgICRmaWVsZFxuICAgICAgICAgICAgICAgICAgICAub25lKCdrZXl1cCcgKyBldmVudE5hbWVzcGFjZSwgbW9kdWxlLmV2ZW50LmZpZWxkLmtleXVwKVxuICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdFbnRlciBwcmVzc2VkIG9uIGlucHV0IHN1Ym1pdHRpbmcgZm9ybScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBrZXlIZWxkRG93biA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXl1cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGtleUhlbGREb3duID0gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmx1cjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgJGZpZWxkICAgICAgICAgID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAkZmllbGRHcm91cCAgICAgPSAkZmllbGQuY2xvc2VzdCgkZ3JvdXApLFxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SdWxlcyA9IG1vZHVsZS5nZXQudmFsaWRhdGlvbigkZmllbGQpXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgaWYoICRmaWVsZEdyb3VwLmhhc0NsYXNzKGNsYXNzTmFtZS5lcnJvcikgKSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdSZXZhbGlkYXRpbmcgZmllbGQnLCAkZmllbGQsIHZhbGlkYXRpb25SdWxlcyk7XG4gICAgICAgICAgICAgICAgaWYodmFsaWRhdGlvblJ1bGVzKSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUudmFsaWRhdGUuZmllbGQoIHZhbGlkYXRpb25SdWxlcyApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmKHNldHRpbmdzLm9uID09ICdibHVyJyB8fCBzZXR0aW5ncy5vbiA9PSAnY2hhbmdlJykge1xuICAgICAgICAgICAgICAgIGlmKHZhbGlkYXRpb25SdWxlcykge1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLnZhbGlkYXRlLmZpZWxkKCB2YWxpZGF0aW9uUnVsZXMgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICAgICRmaWVsZCAgICAgID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAkZmllbGRHcm91cCA9ICRmaWVsZC5jbG9zZXN0KCRncm91cCksXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJ1bGVzID0gbW9kdWxlLmdldC52YWxpZGF0aW9uKCRmaWVsZClcbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICBpZihzZXR0aW5ncy5vbiA9PSAnY2hhbmdlJyB8fCAoICRmaWVsZEdyb3VwLmhhc0NsYXNzKGNsYXNzTmFtZS5lcnJvcikgJiYgc2V0dGluZ3MucmV2YWxpZGF0ZSkgKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KG1vZHVsZS50aW1lcik7XG4gICAgICAgICAgICAgICAgbW9kdWxlLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnUmV2YWxpZGF0aW5nIGZpZWxkJywgJGZpZWxkLCAgbW9kdWxlLmdldC52YWxpZGF0aW9uKCRmaWVsZCkpO1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLnZhbGlkYXRlLmZpZWxkKCB2YWxpZGF0aW9uUnVsZXMgKTtcbiAgICAgICAgICAgICAgICB9LCBzZXR0aW5ncy5kZWxheSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgfSxcblxuICAgICAgICBnZXQ6IHtcbiAgICAgICAgICBhbmNpbGxhcnlWYWx1ZTogZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgaWYoIXJ1bGUudHlwZSB8fCAoIXJ1bGUudmFsdWUgJiYgIW1vZHVsZS5pcy5icmFja2V0ZWRSdWxlKHJ1bGUpKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKHJ1bGUudmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgPyBydWxlLnZhbHVlXG4gICAgICAgICAgICAgIDogcnVsZS50eXBlLm1hdGNoKHNldHRpbmdzLnJlZ0V4cC5icmFja2V0KVsxXSArICcnXG4gICAgICAgICAgICA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBydWxlTmFtZTogZnVuY3Rpb24ocnVsZSkge1xuICAgICAgICAgICAgaWYoIG1vZHVsZS5pcy5icmFja2V0ZWRSdWxlKHJ1bGUpICkge1xuICAgICAgICAgICAgICByZXR1cm4gcnVsZS50eXBlLnJlcGxhY2UocnVsZS50eXBlLm1hdGNoKHNldHRpbmdzLnJlZ0V4cC5icmFja2V0KVswXSwgJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bGUudHlwZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoYW5nZUV2ZW50OiBmdW5jdGlvbih0eXBlLCAkaW5wdXQpIHtcbiAgICAgICAgICAgIGlmKHR5cGUgPT0gJ2NoZWNrYm94JyB8fCB0eXBlID09ICdyYWRpbycgfHwgdHlwZSA9PSAnaGlkZGVuJyB8fCAkaW5wdXQuaXMoJ3NlbGVjdCcpKSB7XG4gICAgICAgICAgICAgIHJldHVybiAnY2hhbmdlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlLmdldC5pbnB1dEV2ZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbnB1dEV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKS5vbmlucHV0ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgID8gJ2lucHV0J1xuICAgICAgICAgICAgICA6IChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpLm9ucHJvcGVydHljaGFuZ2UgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICA/ICdwcm9wZXJ0eWNoYW5nZSdcbiAgICAgICAgICAgICAgICA6ICdrZXl1cCdcbiAgICAgICAgICAgIDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByb21wdDogZnVuY3Rpb24ocnVsZSwgZmllbGQpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBydWxlTmFtZSAgICAgID0gbW9kdWxlLmdldC5ydWxlTmFtZShydWxlKSxcbiAgICAgICAgICAgICAgYW5jaWxsYXJ5ICAgICA9IG1vZHVsZS5nZXQuYW5jaWxsYXJ5VmFsdWUocnVsZSksXG4gICAgICAgICAgICAgIHByb21wdCAgICAgICAgPSBydWxlLnByb21wdCB8fCBzZXR0aW5ncy5wcm9tcHRbcnVsZU5hbWVdIHx8IHNldHRpbmdzLnRleHQudW5zcGVjaWZpZWRSdWxlLFxuICAgICAgICAgICAgICByZXF1aXJlc1ZhbHVlID0gKHByb21wdC5zZWFyY2goJ3t2YWx1ZX0nKSAhPT0gLTEpLFxuICAgICAgICAgICAgICByZXF1aXJlc05hbWUgID0gKHByb21wdC5zZWFyY2goJ3tuYW1lfScpICE9PSAtMSksXG4gICAgICAgICAgICAgICRsYWJlbCxcbiAgICAgICAgICAgICAgJGZpZWxkLFxuICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBpZihyZXF1aXJlc05hbWUgfHwgcmVxdWlyZXNWYWx1ZSkge1xuICAgICAgICAgICAgICAkZmllbGQgPSBtb2R1bGUuZ2V0LmZpZWxkKGZpZWxkLmlkZW50aWZpZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYocmVxdWlyZXNWYWx1ZSkge1xuICAgICAgICAgICAgICBwcm9tcHQgPSBwcm9tcHQucmVwbGFjZSgne3ZhbHVlfScsICRmaWVsZC52YWwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihyZXF1aXJlc05hbWUpIHtcbiAgICAgICAgICAgICAgJGxhYmVsID0gJGZpZWxkLmNsb3Nlc3Qoc2VsZWN0b3IuZ3JvdXApLmZpbmQoJ2xhYmVsJykuZXEoMCk7XG4gICAgICAgICAgICAgIG5hbWUgPSAoJGxhYmVsLmxlbmd0aCA9PSAxKVxuICAgICAgICAgICAgICAgID8gJGxhYmVsLnRleHQoKVxuICAgICAgICAgICAgICAgIDogJGZpZWxkLnByb3AoJ3BsYWNlaG9sZGVyJykgfHwgc2V0dGluZ3MudGV4dC51bnNwZWNpZmllZEZpZWxkXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgcHJvbXB0ID0gcHJvbXB0LnJlcGxhY2UoJ3tuYW1lfScsIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvbXB0ID0gcHJvbXB0LnJlcGxhY2UoJ3tpZGVudGlmaWVyfScsIGZpZWxkLmlkZW50aWZpZXIpO1xuICAgICAgICAgICAgcHJvbXB0ID0gcHJvbXB0LnJlcGxhY2UoJ3tydWxlVmFsdWV9JywgYW5jaWxsYXJ5KTtcbiAgICAgICAgICAgIGlmKCFydWxlLnByb21wdCkge1xuICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnVXNpbmcgZGVmYXVsdCB2YWxpZGF0aW9uIHByb21wdCBmb3IgdHlwZScsIHByb21wdCwgcnVsZU5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21wdDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldHRpbmdzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmKCQuaXNQbGFpbk9iamVjdChwYXJhbWV0ZXJzKSkge1xuICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBrZXlzICAgICA9IE9iamVjdC5rZXlzKHBhcmFtZXRlcnMpLFxuICAgICAgICAgICAgICAgIGlzTGVnYWN5U2V0dGluZ3MgPSAoa2V5cy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgPyAocGFyYW1ldGVyc1trZXlzWzBdXS5pZGVudGlmaWVyICE9PSB1bmRlZmluZWQgJiYgcGFyYW1ldGVyc1trZXlzWzBdXS5ydWxlcyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBydWxlS2V5c1xuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgIGlmKGlzTGVnYWN5U2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAvLyAxLnggKGR1Y2t0eXBlZClcbiAgICAgICAgICAgICAgICBzZXR0aW5ncyAgID0gJC5leHRlbmQodHJ1ZSwge30sICQuZm4uZm9ybS5zZXR0aW5ncywgbGVnYWN5UGFyYW1ldGVycyk7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbiA9ICQuZXh0ZW5kKHt9LCAkLmZuLmZvcm0uc2V0dGluZ3MuZGVmYXVsdHMsIHBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgICAgIG1vZHVsZS5lcnJvcihzZXR0aW5ncy5lcnJvci5vbGRTeW50YXgsIGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdFeHRlbmRpbmcgc2V0dGluZ3MgZnJvbSBsZWdhY3kgcGFyYW1ldGVycycsIHZhbGlkYXRpb24sIHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyAyLnhcbiAgICAgICAgICAgICAgICBpZihwYXJhbWV0ZXJzLmZpZWxkcykge1xuICAgICAgICAgICAgICAgICAgcnVsZUtleXMgPSBPYmplY3Qua2V5cyhwYXJhbWV0ZXJzLmZpZWxkcyk7XG4gICAgICAgICAgICAgICAgICBpZiggdHlwZW9mIHBhcmFtZXRlcnMuZmllbGRzW3J1bGVLZXlzWzBdXSA9PSAnc3RyaW5nJyB8fCAkLmlzQXJyYXkocGFyYW1ldGVycy5maWVsZHNbcnVsZUtleXNbMF1dKSApIHtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHBhcmFtZXRlcnMuZmllbGRzLCBmdW5jdGlvbihuYW1lLCBydWxlcykge1xuICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBydWxlcyA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZXMgPSBbcnVsZXNdO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzLmZpZWxkc1tuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzOiBbXVxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJ1bGVzLCBmdW5jdGlvbihpbmRleCwgcnVsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVycy5maWVsZHNbbmFtZV0ucnVsZXMucHVzaCh7IHR5cGU6IHJ1bGUgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldHRpbmdzICAgPSAkLmV4dGVuZCh0cnVlLCB7fSwgJC5mbi5mb3JtLnNldHRpbmdzLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uID0gJC5leHRlbmQoe30sICQuZm4uZm9ybS5zZXR0aW5ncy5kZWZhdWx0cywgc2V0dGluZ3MuZmllbGRzKTtcbiAgICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnRXh0ZW5kaW5nIHNldHRpbmdzJywgdmFsaWRhdGlvbiwgc2V0dGluZ3MpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0dGluZ3MgICA9ICQuZm4uZm9ybS5zZXR0aW5ncztcbiAgICAgICAgICAgICAgdmFsaWRhdGlvbiA9ICQuZm4uZm9ybS5zZXR0aW5ncy5kZWZhdWx0cztcbiAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1VzaW5nIGRlZmF1bHQgZm9ybSB2YWxpZGF0aW9uJywgdmFsaWRhdGlvbiwgc2V0dGluZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzaG9ydGhhbmRcbiAgICAgICAgICAgIG5hbWVzcGFjZSAgICAgICA9IHNldHRpbmdzLm5hbWVzcGFjZTtcbiAgICAgICAgICAgIG1ldGFkYXRhICAgICAgICA9IHNldHRpbmdzLm1ldGFkYXRhO1xuICAgICAgICAgICAgc2VsZWN0b3IgICAgICAgID0gc2V0dGluZ3Muc2VsZWN0b3I7XG4gICAgICAgICAgICBjbGFzc05hbWUgICAgICAgPSBzZXR0aW5ncy5jbGFzc05hbWU7XG4gICAgICAgICAgICBlcnJvciAgICAgICAgICAgPSBzZXR0aW5ncy5lcnJvcjtcbiAgICAgICAgICAgIG1vZHVsZU5hbWVzcGFjZSA9ICdtb2R1bGUtJyArIG5hbWVzcGFjZTtcbiAgICAgICAgICAgIGV2ZW50TmFtZXNwYWNlICA9ICcuJyArIG5hbWVzcGFjZTtcblxuICAgICAgICAgICAgLy8gZ3JhYiBpbnN0YW5jZVxuICAgICAgICAgICAgaW5zdGFuY2UgPSAkbW9kdWxlLmRhdGEobW9kdWxlTmFtZXNwYWNlKTtcblxuICAgICAgICAgICAgLy8gcmVmcmVzaCBzZWxlY3RvciBjYWNoZVxuICAgICAgICAgICAgbW9kdWxlLnJlZnJlc2goKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZpZWxkOiBmdW5jdGlvbihpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnRmluZGluZyBmaWVsZCB3aXRoIGlkZW50aWZpZXInLCBpZGVudGlmaWVyKTtcbiAgICAgICAgICAgIGlmKCAkZmllbGQuZmlsdGVyKCcjJyArIGlkZW50aWZpZXIpLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiAkZmllbGQuZmlsdGVyKCcjJyArIGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiggJGZpZWxkLmZpbHRlcignW25hbWU9XCInICsgaWRlbnRpZmllciArJ1wiXScpLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiAkZmllbGQuZmlsdGVyKCdbbmFtZT1cIicgKyBpZGVudGlmaWVyICsnXCJdJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKCAkZmllbGQuZmlsdGVyKCdbbmFtZT1cIicgKyBpZGVudGlmaWVyICsnW11cIl0nKS5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgICByZXR1cm4gJGZpZWxkLmZpbHRlcignW25hbWU9XCInICsgaWRlbnRpZmllciArJ1tdXCJdJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKCAkZmllbGQuZmlsdGVyKCdbZGF0YS0nICsgbWV0YWRhdGEudmFsaWRhdGUgKyAnPVwiJysgaWRlbnRpZmllciArJ1wiXScpLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiAkZmllbGQuZmlsdGVyKCdbZGF0YS0nICsgbWV0YWRhdGEudmFsaWRhdGUgKyAnPVwiJysgaWRlbnRpZmllciArJ1wiXScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICQoJzxpbnB1dC8+Jyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmaWVsZHM6IGZ1bmN0aW9uKGZpZWxkcykge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICRmaWVsZHMgPSAkKClcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgICQuZWFjaChmaWVsZHMsIGZ1bmN0aW9uKGluZGV4LCBuYW1lKSB7XG4gICAgICAgICAgICAgICRmaWVsZHMgPSAkZmllbGRzLmFkZCggbW9kdWxlLmdldC5maWVsZChuYW1lKSApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gJGZpZWxkcztcbiAgICAgICAgICB9LFxuICAgICAgICAgIHZhbGlkYXRpb246IGZ1bmN0aW9uKCRmaWVsZCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgIGZpZWxkVmFsaWRhdGlvbixcbiAgICAgICAgICAgICAgaWRlbnRpZmllclxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYoIXZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJC5lYWNoKHZhbGlkYXRpb24sIGZ1bmN0aW9uKGZpZWxkTmFtZSwgZmllbGQpIHtcbiAgICAgICAgICAgICAgaWRlbnRpZmllciA9IGZpZWxkLmlkZW50aWZpZXIgfHwgZmllbGROYW1lO1xuICAgICAgICAgICAgICBpZiggbW9kdWxlLmdldC5maWVsZChpZGVudGlmaWVyKVswXSA9PSAkZmllbGRbMF0gKSB7XG4gICAgICAgICAgICAgICAgZmllbGQuaWRlbnRpZmllciA9IGlkZW50aWZpZXI7XG4gICAgICAgICAgICAgICAgZmllbGRWYWxpZGF0aW9uID0gZmllbGQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkVmFsaWRhdGlvbiB8fCBmYWxzZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBmaWVsZHMgPSBbXSxcbiAgICAgICAgICAgICAgcmVzdWx0c1xuICAgICAgICAgICAgO1xuICAgICAgICAgICAgZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgICAgICAgcmVzdWx0cyA9IG1vZHVsZS5nZXQudmFsdWVzLmNhbGwoZWxlbWVudCwgZmllbGRzKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzW2ZpZWxkXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHZhbHVlczogZnVuY3Rpb24gKGZpZWxkcykge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICRmaWVsZHMgPSAkLmlzQXJyYXkoZmllbGRzKVxuICAgICAgICAgICAgICAgID8gbW9kdWxlLmdldC5maWVsZHMoZmllbGRzKVxuICAgICAgICAgICAgICAgIDogJGZpZWxkLFxuICAgICAgICAgICAgICB2YWx1ZXMgPSB7fVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgJGZpZWxkcy5lYWNoKGZ1bmN0aW9uKGluZGV4LCBmaWVsZCkge1xuICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAkZmllbGQgICAgID0gJChmaWVsZCksXG4gICAgICAgICAgICAgICAgdHlwZSAgICAgICA9ICRmaWVsZC5wcm9wKCd0eXBlJyksXG4gICAgICAgICAgICAgICAgbmFtZSAgICAgICA9ICRmaWVsZC5wcm9wKCduYW1lJyksXG4gICAgICAgICAgICAgICAgdmFsdWUgICAgICA9ICRmaWVsZC52YWwoKSxcbiAgICAgICAgICAgICAgICBpc0NoZWNrYm94ID0gJGZpZWxkLmlzKHNlbGVjdG9yLmNoZWNrYm94KSxcbiAgICAgICAgICAgICAgICBpc1JhZGlvICAgID0gJGZpZWxkLmlzKHNlbGVjdG9yLnJhZGlvKSxcbiAgICAgICAgICAgICAgICBpc011bHRpcGxlID0gKG5hbWUuaW5kZXhPZignW10nKSAhPT0gLTEpLFxuICAgICAgICAgICAgICAgIGlzQ2hlY2tlZCAgPSAoaXNDaGVja2JveClcbiAgICAgICAgICAgICAgICAgID8gJGZpZWxkLmlzKCc6Y2hlY2tlZCcpXG4gICAgICAgICAgICAgICAgICA6IGZhbHNlXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgaWYobmFtZSkge1xuICAgICAgICAgICAgICAgIGlmKGlzTXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoJ1tdJywgJycpO1xuICAgICAgICAgICAgICAgICAgaWYoIXZhbHVlc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmKGlzQ2hlY2tib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdLnB1c2godmFsdWUgfHwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdLnB1c2goZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGlmKGlzUmFkaW8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYoaXNDaGVja2JveCkge1xuICAgICAgICAgICAgICAgICAgICBpZihpc0NoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXNbbmFtZV0gPSB2YWx1ZSB8fCB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlc1tuYW1lXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGhhczoge1xuXG4gICAgICAgICAgZmllbGQ6IGZ1bmN0aW9uKGlkZW50aWZpZXIpIHtcbiAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdDaGVja2luZyBmb3IgZXhpc3RlbmNlIG9mIGEgZmllbGQgd2l0aCBpZGVudGlmaWVyJywgaWRlbnRpZmllcik7XG4gICAgICAgICAgICBpZih0eXBlb2YgaWRlbnRpZmllciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmVycm9yKGVycm9yLmlkZW50aWZpZXIsIGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoICRmaWVsZC5maWx0ZXIoJyMnICsgaWRlbnRpZmllcikubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKCAkZmllbGQuZmlsdGVyKCdbbmFtZT1cIicgKyBpZGVudGlmaWVyICsnXCJdJykubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKCAkZmllbGQuZmlsdGVyKCdbZGF0YS0nICsgbWV0YWRhdGEudmFsaWRhdGUgKyAnPVwiJysgaWRlbnRpZmllciArJ1wiXScpLmxlbmd0aCA+IDAgKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICB9LFxuXG4gICAgICAgIGFkZDoge1xuICAgICAgICAgIHByb21wdDogZnVuY3Rpb24oaWRlbnRpZmllciwgZXJyb3JzKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgJGZpZWxkICAgICAgID0gbW9kdWxlLmdldC5maWVsZChpZGVudGlmaWVyKSxcbiAgICAgICAgICAgICAgJGZpZWxkR3JvdXAgID0gJGZpZWxkLmNsb3Nlc3QoJGdyb3VwKSxcbiAgICAgICAgICAgICAgJHByb21wdCAgICAgID0gJGZpZWxkR3JvdXAuY2hpbGRyZW4oc2VsZWN0b3IucHJvbXB0KSxcbiAgICAgICAgICAgICAgcHJvbXB0RXhpc3RzID0gKCRwcm9tcHQubGVuZ3RoICE9PSAwKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgZXJyb3JzID0gKHR5cGVvZiBlcnJvcnMgPT0gJ3N0cmluZycpXG4gICAgICAgICAgICAgID8gW2Vycm9yc11cbiAgICAgICAgICAgICAgOiBlcnJvcnNcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdBZGRpbmcgZmllbGQgZXJyb3Igc3RhdGUnLCBpZGVudGlmaWVyKTtcbiAgICAgICAgICAgICRmaWVsZEdyb3VwXG4gICAgICAgICAgICAgIC5hZGRDbGFzcyhjbGFzc05hbWUuZXJyb3IpXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgaWYoIXByb21wdEV4aXN0cykge1xuICAgICAgICAgICAgICAgICRwcm9tcHQgPSBzZXR0aW5ncy50ZW1wbGF0ZXMucHJvbXB0KGVycm9ycyk7XG4gICAgICAgICAgICAgICAgJHByb21wdFxuICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKCRmaWVsZEdyb3VwKVxuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAkcHJvbXB0XG4gICAgICAgICAgICAgICAgLmh0bWwoZXJyb3JzWzBdKVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgIGlmKCFwcm9tcHRFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICBpZihzZXR0aW5ncy50cmFuc2l0aW9uICYmICQuZm4udHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkICYmICRtb2R1bGUudHJhbnNpdGlvbignaXMgc3VwcG9ydGVkJykpIHtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdEaXNwbGF5aW5nIGVycm9yIHdpdGggY3NzIHRyYW5zaXRpb24nLCBzZXR0aW5ncy50cmFuc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICRwcm9tcHQudHJhbnNpdGlvbihzZXR0aW5ncy50cmFuc2l0aW9uICsgJyBpbicsIHNldHRpbmdzLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnRGlzcGxheWluZyBlcnJvciB3aXRoIGZhbGxiYWNrIGphdmFzY3JpcHQgYW5pbWF0aW9uJyk7XG4gICAgICAgICAgICAgICAgICAkcHJvbXB0XG4gICAgICAgICAgICAgICAgICAgIC5mYWRlSW4oc2V0dGluZ3MuZHVyYXRpb24pXG4gICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdJbmxpbmUgZXJyb3JzIGFyZSBkaXNhYmxlZCwgbm8gaW5saW5lIGVycm9yIGFkZGVkJywgaWRlbnRpZmllcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yczogZnVuY3Rpb24oZXJyb3JzKSB7XG4gICAgICAgICAgICBtb2R1bGUuZGVidWcoJ0FkZGluZyBmb3JtIGVycm9yIG1lc3NhZ2VzJywgZXJyb3JzKTtcbiAgICAgICAgICAgIG1vZHVsZS5zZXQuZXJyb3IoKTtcbiAgICAgICAgICAgICRtZXNzYWdlXG4gICAgICAgICAgICAgIC5odG1sKCBzZXR0aW5ncy50ZW1wbGF0ZXMuZXJyb3IoZXJyb3JzKSApXG4gICAgICAgICAgICA7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZToge1xuICAgICAgICAgIHByb21wdDogZnVuY3Rpb24oaWRlbnRpZmllcikge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICRmaWVsZCAgICAgID0gbW9kdWxlLmdldC5maWVsZChpZGVudGlmaWVyKSxcbiAgICAgICAgICAgICAgJGZpZWxkR3JvdXAgPSAkZmllbGQuY2xvc2VzdCgkZ3JvdXApLFxuICAgICAgICAgICAgICAkcHJvbXB0ICAgICA9ICRmaWVsZEdyb3VwLmNoaWxkcmVuKHNlbGVjdG9yLnByb21wdClcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgICRmaWVsZEdyb3VwXG4gICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhjbGFzc05hbWUuZXJyb3IpXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5pbmxpbmUgJiYgJHByb21wdC5pcygnOnZpc2libGUnKSkge1xuICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnUmVtb3ZpbmcgcHJvbXB0IGZvciBmaWVsZCcsIGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgICBpZihzZXR0aW5ncy50cmFuc2l0aW9uICYmICQuZm4udHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkICYmICRtb2R1bGUudHJhbnNpdGlvbignaXMgc3VwcG9ydGVkJykpIHtcbiAgICAgICAgICAgICAgICAkcHJvbXB0LnRyYW5zaXRpb24oc2V0dGluZ3MudHJhbnNpdGlvbiArICcgb3V0Jywgc2V0dGluZ3MuZHVyYXRpb24sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgJHByb21wdC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkcHJvbXB0XG4gICAgICAgICAgICAgICAgICAuZmFkZU91dChzZXR0aW5ncy5kdXJhdGlvbiwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJHByb21wdC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldDoge1xuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJG1vZHVsZVxuICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lLmVycm9yKVxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoY2xhc3NOYW1lLnN1Y2Nlc3MpXG4gICAgICAgICAgICA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkZWZhdWx0czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJGZpZWxkXG4gICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICAgICRmaWVsZCAgICAgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgaXNDaGVja2JveCA9ICgkZmllbGQuZmlsdGVyKHNlbGVjdG9yLmNoZWNrYm94KS5sZW5ndGggPiAwKSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlICAgICAgPSAoaXNDaGVja2JveClcbiAgICAgICAgICAgICAgICAgICAgPyAkZmllbGQuaXMoJzpjaGVja2VkJylcbiAgICAgICAgICAgICAgICAgICAgOiAkZmllbGQudmFsKClcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgJGZpZWxkLmRhdGEobWV0YWRhdGEuZGVmYXVsdFZhbHVlLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkbW9kdWxlXG4gICAgICAgICAgICAgIC5yZW1vdmVDbGFzcyhjbGFzc05hbWUuc3VjY2VzcylcbiAgICAgICAgICAgICAgLmFkZENsYXNzKGNsYXNzTmFtZS5lcnJvcilcbiAgICAgICAgICAgIDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoZmllbGQsIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgZmllbGRzID0ge31cbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGZpZWxkc1tmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGUuc2V0LnZhbHVlcy5jYWxsKGVsZW1lbnQsIGZpZWxkcyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB2YWx1ZXM6IGZ1bmN0aW9uIChmaWVsZHMpIHtcbiAgICAgICAgICAgIGlmKCQuaXNFbXB0eU9iamVjdChmaWVsZHMpKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQuZWFjaChmaWVsZHMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgJGZpZWxkICAgICAgPSBtb2R1bGUuZ2V0LmZpZWxkKGtleSksXG4gICAgICAgICAgICAgICAgJGVsZW1lbnQgICAgPSAkZmllbGQucGFyZW50KCksXG4gICAgICAgICAgICAgICAgaXNNdWx0aXBsZSAgPSAkLmlzQXJyYXkodmFsdWUpLFxuICAgICAgICAgICAgICAgIGlzQ2hlY2tib3ggID0gJGVsZW1lbnQuaXMoc2VsZWN0b3IudWlDaGVja2JveCksXG4gICAgICAgICAgICAgICAgaXNEcm9wZG93biAgPSAkZWxlbWVudC5pcyhzZWxlY3Rvci51aURyb3Bkb3duKSxcbiAgICAgICAgICAgICAgICBpc1JhZGlvICAgICA9ICgkZmllbGQuaXMoc2VsZWN0b3IucmFkaW8pICYmIGlzQ2hlY2tib3gpLFxuICAgICAgICAgICAgICAgIGZpZWxkRXhpc3RzID0gKCRmaWVsZC5sZW5ndGggPiAwKSxcbiAgICAgICAgICAgICAgICAkbXVsdGlwbGVGaWVsZFxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgIGlmKGZpZWxkRXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgaWYoaXNNdWx0aXBsZSAmJiBpc0NoZWNrYm94KSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnU2VsZWN0aW5nIG11bHRpcGxlJywgdmFsdWUsICRmaWVsZCk7XG4gICAgICAgICAgICAgICAgICAkZWxlbWVudC5jaGVja2JveCgndW5jaGVjaycpO1xuICAgICAgICAgICAgICAgICAgJC5lYWNoKHZhbHVlLCBmdW5jdGlvbihpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgJG11bHRpcGxlRmllbGQgPSAkZmllbGQuZmlsdGVyKCdbdmFsdWU9XCInICsgdmFsdWUgKyAnXCJdJyk7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50ICAgICAgID0gJG11bHRpcGxlRmllbGQucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKCRtdWx0aXBsZUZpZWxkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5jaGVja2JveCgnY2hlY2snKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYoaXNSYWRpbykge1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1NlbGVjdGluZyByYWRpbyB2YWx1ZScsIHZhbHVlLCAkZmllbGQpO1xuICAgICAgICAgICAgICAgICAgJGZpZWxkLmZpbHRlcignW3ZhbHVlPVwiJyArIHZhbHVlICsgJ1wiXScpXG4gICAgICAgICAgICAgICAgICAgIC5wYXJlbnQoc2VsZWN0b3IudWlDaGVja2JveClcbiAgICAgICAgICAgICAgICAgICAgICAuY2hlY2tib3goJ2NoZWNrJylcbiAgICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZihpc0NoZWNrYm94KSB7XG4gICAgICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnU2V0dGluZyBjaGVja2JveCB2YWx1ZScsIHZhbHVlLCAkZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICBpZih2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5jaGVja2JveCgnY2hlY2snKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5jaGVja2JveCgndW5jaGVjaycpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmKGlzRHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdTZXR0aW5nIGRyb3Bkb3duIHZhbHVlJywgdmFsdWUsICRlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICRlbGVtZW50LmRyb3Bkb3duKCdzZXQgc2VsZWN0ZWQnLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1NldHRpbmcgZmllbGQgdmFsdWUnLCB2YWx1ZSwgJGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICRmaWVsZC52YWwodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHZhbGlkYXRlOiB7XG5cbiAgICAgICAgICBmb3JtOiBmdW5jdGlvbihldmVudCwgaWdub3JlQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgdmFsdWVzID0gbW9kdWxlLmdldC52YWx1ZXMoKSxcbiAgICAgICAgICAgICAgYXBpUmVxdWVzdFxuICAgICAgICAgICAgO1xuXG4gICAgICAgICAgICAvLyBpbnB1dCBrZXlkb3duIGV2ZW50IHdpbGwgZmlyZSBzdWJtaXQgcmVwZWF0ZWRseSBieSBicm93c2VyIGRlZmF1bHRcbiAgICAgICAgICAgIGlmKGtleUhlbGREb3duKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVzZXQgZXJyb3JzXG4gICAgICAgICAgICBmb3JtRXJyb3JzID0gW107XG4gICAgICAgICAgICBpZiggbW9kdWxlLmlzLnZhbGlkKCkgKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnRm9ybSBoYXMgbm8gdmFsaWRhdGlvbiBlcnJvcnMsIHN1Ym1pdHRpbmcnKTtcbiAgICAgICAgICAgICAgbW9kdWxlLnNldC5zdWNjZXNzKCk7XG4gICAgICAgICAgICAgIGlmKGlnbm9yZUNhbGxiYWNrcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5vblN1Y2Nlc3MuY2FsbChlbGVtZW50LCBldmVudCwgdmFsdWVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnRm9ybSBoYXMgZXJyb3JzJyk7XG4gICAgICAgICAgICAgIG1vZHVsZS5zZXQuZXJyb3IoKTtcbiAgICAgICAgICAgICAgaWYoIXNldHRpbmdzLmlubGluZSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5hZGQuZXJyb3JzKGZvcm1FcnJvcnMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8vIHByZXZlbnQgYWpheCBzdWJtaXRcbiAgICAgICAgICAgICAgaWYoJG1vZHVsZS5kYXRhKCdtb2R1bGVBcGknKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYoaWdub3JlQ2FsbGJhY2tzICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm9uRmFpbHVyZS5jYWxsKGVsZW1lbnQsIGZvcm1FcnJvcnMsIHZhbHVlcyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgLy8gdGFrZXMgYSB2YWxpZGF0aW9uIG9iamVjdCBhbmQgcmV0dXJucyB3aGV0aGVyIGZpZWxkIHBhc3NlcyB2YWxpZGF0aW9uXG4gICAgICAgICAgZmllbGQ6IGZ1bmN0aW9uKGZpZWxkLCBmaWVsZE5hbWUpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBpZGVudGlmaWVyICAgID0gZmllbGQuaWRlbnRpZmllciB8fCBmaWVsZE5hbWUsXG4gICAgICAgICAgICAgICRmaWVsZCAgICAgICAgPSBtb2R1bGUuZ2V0LmZpZWxkKGlkZW50aWZpZXIpLFxuICAgICAgICAgICAgICAkZGVwZW5kc0ZpZWxkID0gKGZpZWxkLmRlcGVuZHMpXG4gICAgICAgICAgICAgICAgPyBtb2R1bGUuZ2V0LmZpZWxkKGZpZWxkLmRlcGVuZHMpXG4gICAgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgICAgZmllbGRWYWxpZCAgPSB0cnVlLFxuICAgICAgICAgICAgICBmaWVsZEVycm9ycyA9IFtdXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBpZighZmllbGQuaWRlbnRpZmllcikge1xuICAgICAgICAgICAgICBtb2R1bGUuZGVidWcoJ1VzaW5nIGZpZWxkIG5hbWUgYXMgaWRlbnRpZmllcicsIGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgICBmaWVsZC5pZGVudGlmaWVyID0gaWRlbnRpZmllcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCRmaWVsZC5wcm9wKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnRmllbGQgaXMgZGlzYWJsZWQuIFNraXBwaW5nJywgaWRlbnRpZmllcik7XG4gICAgICAgICAgICAgIGZpZWxkVmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihmaWVsZC5vcHRpb25hbCAmJiBtb2R1bGUuaXMuYmxhbmsoJGZpZWxkKSl7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnRmllbGQgaXMgb3B0aW9uYWwgYW5kIGJsYW5rLiBTa2lwcGluZycsIGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgICBmaWVsZFZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoZmllbGQuZGVwZW5kcyAmJiBtb2R1bGUuaXMuZW1wdHkoJGRlcGVuZHNGaWVsZCkpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdGaWVsZCBkZXBlbmRzIG9uIGFub3RoZXIgdmFsdWUgdGhhdCBpcyBub3QgcHJlc2VudCBvciBlbXB0eS4gU2tpcHBpbmcnLCAkZGVwZW5kc0ZpZWxkKTtcbiAgICAgICAgICAgICAgZmllbGRWYWxpZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGZpZWxkLnJ1bGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgJC5lYWNoKGZpZWxkLnJ1bGVzLCBmdW5jdGlvbihpbmRleCwgcnVsZSkge1xuICAgICAgICAgICAgICAgIGlmKCBtb2R1bGUuaGFzLmZpZWxkKGlkZW50aWZpZXIpICYmICEoIG1vZHVsZS52YWxpZGF0ZS5ydWxlKGZpZWxkLCBydWxlKSApICkge1xuICAgICAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdGaWVsZCBpcyBpbnZhbGlkJywgaWRlbnRpZmllciwgcnVsZS50eXBlKTtcbiAgICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzLnB1c2gobW9kdWxlLmdldC5wcm9tcHQocnVsZSwgZmllbGQpKTtcbiAgICAgICAgICAgICAgICAgIGZpZWxkVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZmllbGRWYWxpZCkge1xuICAgICAgICAgICAgICBtb2R1bGUucmVtb3ZlLnByb21wdChpZGVudGlmaWVyLCBmaWVsZEVycm9ycyk7XG4gICAgICAgICAgICAgIHNldHRpbmdzLm9uVmFsaWQuY2FsbCgkZmllbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGZvcm1FcnJvcnMgPSBmb3JtRXJyb3JzLmNvbmNhdChmaWVsZEVycm9ycyk7XG4gICAgICAgICAgICAgIG1vZHVsZS5hZGQucHJvbXB0KGlkZW50aWZpZXIsIGZpZWxkRXJyb3JzKTtcbiAgICAgICAgICAgICAgc2V0dGluZ3Mub25JbnZhbGlkLmNhbGwoJGZpZWxkLCBmaWVsZEVycm9ycyk7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvLyB0YWtlcyB2YWxpZGF0aW9uIHJ1bGUgYW5kIHJldHVybnMgd2hldGhlciBmaWVsZCBwYXNzZXMgcnVsZVxuICAgICAgICAgIHJ1bGU6IGZ1bmN0aW9uKGZpZWxkLCBydWxlKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgJGZpZWxkICAgICAgID0gbW9kdWxlLmdldC5maWVsZChmaWVsZC5pZGVudGlmaWVyKSxcbiAgICAgICAgICAgICAgdHlwZSAgICAgICAgID0gcnVsZS50eXBlLFxuICAgICAgICAgICAgICB2YWx1ZSAgICAgICAgPSAkZmllbGQudmFsKCksXG4gICAgICAgICAgICAgIGlzVmFsaWQgICAgICA9IHRydWUsXG4gICAgICAgICAgICAgIGFuY2lsbGFyeSAgICA9IG1vZHVsZS5nZXQuYW5jaWxsYXJ5VmFsdWUocnVsZSksXG4gICAgICAgICAgICAgIHJ1bGVOYW1lICAgICA9IG1vZHVsZS5nZXQucnVsZU5hbWUocnVsZSksXG4gICAgICAgICAgICAgIHJ1bGVGdW5jdGlvbiA9IHNldHRpbmdzLnJ1bGVzW3J1bGVOYW1lXVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYoICEkLmlzRnVuY3Rpb24ocnVsZUZ1bmN0aW9uKSApIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmVycm9yKGVycm9yLm5vUnVsZSwgcnVsZU5hbWUpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjYXN0IHRvIHN0cmluZyBhdm9pZGluZyBlbmNvZGluZyBzcGVjaWFsIHZhbHVlc1xuICAgICAgICAgICAgdmFsdWUgPSAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICAgID8gJydcbiAgICAgICAgICAgICAgOiAkLnRyaW0odmFsdWUgKyAnJylcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIHJldHVybiBydWxlRnVuY3Rpb24uY2FsbCgkZmllbGQsIHZhbHVlLCBhbmNpbGxhcnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzZXR0aW5nOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgIGlmKCAkLmlzUGxhaW5PYmplY3QobmFtZSkgKSB7XG4gICAgICAgICAgICAkLmV4dGVuZCh0cnVlLCBzZXR0aW5ncywgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2V0dGluZ3NbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0dGluZ3NbbmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnRlcm5hbDogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICBpZiggJC5pc1BsYWluT2JqZWN0KG5hbWUpICkge1xuICAgICAgICAgICAgJC5leHRlbmQodHJ1ZSwgbW9kdWxlLCBuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZih2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtb2R1bGVbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlW25hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVidWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKCFzZXR0aW5ncy5zaWxlbnQgJiYgc2V0dGluZ3MuZGVidWcpIHtcbiAgICAgICAgICAgIGlmKHNldHRpbmdzLnBlcmZvcm1hbmNlKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBtb2R1bGUuZGVidWcgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbywgY29uc29sZSwgc2V0dGluZ3MubmFtZSArICc6Jyk7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1Zy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmVyYm9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYoIXNldHRpbmdzLnNpbGVudCAmJiBzZXR0aW5ncy52ZXJib3NlICYmIHNldHRpbmdzLmRlYnVnKSB7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5wZXJmb3JtYW5jZSkge1xuICAgICAgICAgICAgICBtb2R1bGUucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbywgY29uc29sZSwgc2V0dGluZ3MubmFtZSArICc6Jyk7XG4gICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYoIXNldHRpbmdzLnNpbGVudCkge1xuICAgICAgICAgICAgbW9kdWxlLmVycm9yID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLCBjb25zb2xlLCBzZXR0aW5ncy5uYW1lICsgJzonKTtcbiAgICAgICAgICAgIG1vZHVsZS5lcnJvci5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGVyZm9ybWFuY2U6IHtcbiAgICAgICAgICBsb2c6IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgICAgICAgZXhlY3V0aW9uVGltZSxcbiAgICAgICAgICAgICAgcHJldmlvdXNUaW1lXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5wZXJmb3JtYW5jZSkge1xuICAgICAgICAgICAgICBjdXJyZW50VGltZSAgID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgIHByZXZpb3VzVGltZSAgPSB0aW1lIHx8IGN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICBleGVjdXRpb25UaW1lID0gY3VycmVudFRpbWUgLSBwcmV2aW91c1RpbWU7XG4gICAgICAgICAgICAgIHRpbWUgICAgICAgICAgPSBjdXJyZW50VGltZTtcbiAgICAgICAgICAgICAgcGVyZm9ybWFuY2UucHVzaCh7XG4gICAgICAgICAgICAgICAgJ05hbWUnICAgICAgICAgICA6IG1lc3NhZ2VbMF0sXG4gICAgICAgICAgICAgICAgJ0FyZ3VtZW50cycgICAgICA6IFtdLnNsaWNlLmNhbGwobWVzc2FnZSwgMSkgfHwgJycsXG4gICAgICAgICAgICAgICAgJ0VsZW1lbnQnICAgICAgICA6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgJ0V4ZWN1dGlvbiBUaW1lJyA6IGV4ZWN1dGlvblRpbWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQobW9kdWxlLnBlcmZvcm1hbmNlLnRpbWVyKTtcbiAgICAgICAgICAgIG1vZHVsZS5wZXJmb3JtYW5jZS50aW1lciA9IHNldFRpbWVvdXQobW9kdWxlLnBlcmZvcm1hbmNlLmRpc3BsYXksIDUwMCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICB0aXRsZSA9IHNldHRpbmdzLm5hbWUgKyAnOicsXG4gICAgICAgICAgICAgIHRvdGFsVGltZSA9IDBcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIHRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChtb2R1bGUucGVyZm9ybWFuY2UudGltZXIpO1xuICAgICAgICAgICAgJC5lYWNoKHBlcmZvcm1hbmNlLCBmdW5jdGlvbihpbmRleCwgZGF0YSkge1xuICAgICAgICAgICAgICB0b3RhbFRpbWUgKz0gZGF0YVsnRXhlY3V0aW9uIFRpbWUnXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGl0bGUgKz0gJyAnICsgdG90YWxUaW1lICsgJ21zJztcbiAgICAgICAgICAgIGlmKG1vZHVsZVNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgIHRpdGxlICs9ICcgXFwnJyArIG1vZHVsZVNlbGVjdG9yICsgJ1xcJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZigkYWxsTW9kdWxlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIHRpdGxlICs9ICcgJyArICcoJyArICRhbGxNb2R1bGVzLmxlbmd0aCArICcpJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCAoY29uc29sZS5ncm91cCAhPT0gdW5kZWZpbmVkIHx8IGNvbnNvbGUudGFibGUgIT09IHVuZGVmaW5lZCkgJiYgcGVyZm9ybWFuY2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKHRpdGxlKTtcbiAgICAgICAgICAgICAgaWYoY29uc29sZS50YWJsZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUudGFibGUocGVyZm9ybWFuY2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICQuZWFjaChwZXJmb3JtYW5jZSwgZnVuY3Rpb24oaW5kZXgsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGFbJ05hbWUnXSArICc6ICcgKyBkYXRhWydFeGVjdXRpb24gVGltZSddKydtcycpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlcmZvcm1hbmNlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnZva2U6IGZ1bmN0aW9uKHF1ZXJ5LCBwYXNzZWRBcmd1bWVudHMsIGNvbnRleHQpIHtcbiAgICAgICAgICB2YXJcbiAgICAgICAgICAgIG9iamVjdCA9IGluc3RhbmNlLFxuICAgICAgICAgICAgbWF4RGVwdGgsXG4gICAgICAgICAgICBmb3VuZCxcbiAgICAgICAgICAgIHJlc3BvbnNlXG4gICAgICAgICAgO1xuICAgICAgICAgIHBhc3NlZEFyZ3VtZW50cyA9IHBhc3NlZEFyZ3VtZW50cyB8fCBxdWVyeUFyZ3VtZW50cztcbiAgICAgICAgICBjb250ZXh0ICAgICAgICAgPSBlbGVtZW50ICAgICAgICAgfHwgY29udGV4dDtcbiAgICAgICAgICBpZih0eXBlb2YgcXVlcnkgPT0gJ3N0cmluZycgJiYgb2JqZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHF1ZXJ5ICAgID0gcXVlcnkuc3BsaXQoL1tcXC4gXS8pO1xuICAgICAgICAgICAgbWF4RGVwdGggPSBxdWVyeS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgJC5lYWNoKHF1ZXJ5LCBmdW5jdGlvbihkZXB0aCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFyIGNhbWVsQ2FzZVZhbHVlID0gKGRlcHRoICE9IG1heERlcHRoKVxuICAgICAgICAgICAgICAgID8gdmFsdWUgKyBxdWVyeVtkZXB0aCArIDFdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcXVlcnlbZGVwdGggKyAxXS5zbGljZSgxKVxuICAgICAgICAgICAgICAgIDogcXVlcnlcbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICBpZiggJC5pc1BsYWluT2JqZWN0KCBvYmplY3RbY2FtZWxDYXNlVmFsdWVdICkgJiYgKGRlcHRoICE9IG1heERlcHRoKSApIHtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBvYmplY3RbY2FtZWxDYXNlVmFsdWVdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYoIG9iamVjdFtjYW1lbENhc2VWYWx1ZV0gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IG9iamVjdFtjYW1lbENhc2VWYWx1ZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYoICQuaXNQbGFpbk9iamVjdCggb2JqZWN0W3ZhbHVlXSApICYmIChkZXB0aCAhPSBtYXhEZXB0aCkgKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3ZhbHVlXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmKCBvYmplY3RbdmFsdWVdICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBvYmplY3RbdmFsdWVdO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiggJC5pc0Z1bmN0aW9uKCBmb3VuZCApICkge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBmb3VuZC5hcHBseShjb250ZXh0LCBwYXNzZWRBcmd1bWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKGZvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gZm91bmQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKCQuaXNBcnJheShyZXR1cm5lZFZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuZWRWYWx1ZS5wdXNoKHJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZihyZXR1cm5lZFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybmVkVmFsdWUgPSBbcmV0dXJuZWRWYWx1ZSwgcmVzcG9uc2VdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKHJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybmVkVmFsdWUgPSByZXNwb25zZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbW9kdWxlLmluaXRpYWxpemUoKTtcbiAgICB9KVxuICA7XG5cbiAgcmV0dXJuIChyZXR1cm5lZFZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgPyByZXR1cm5lZFZhbHVlXG4gICAgOiB0aGlzXG4gIDtcbn07XG5cbiQuZm4uZm9ybS5zZXR0aW5ncyA9IHtcblxuICBuYW1lICAgICAgICAgICAgICA6ICdGb3JtJyxcbiAgbmFtZXNwYWNlICAgICAgICAgOiAnZm9ybScsXG5cbiAgZGVidWcgICAgICAgICAgICAgOiBmYWxzZSxcbiAgdmVyYm9zZSAgICAgICAgICAgOiBmYWxzZSxcbiAgcGVyZm9ybWFuY2UgICAgICAgOiB0cnVlLFxuXG4gIGZpZWxkcyAgICAgICAgICAgIDogZmFsc2UsXG5cbiAga2V5Ym9hcmRTaG9ydGN1dHMgOiB0cnVlLFxuICBvbiAgICAgICAgICAgICAgICA6ICdzdWJtaXQnLFxuICBpbmxpbmUgICAgICAgICAgICA6IGZhbHNlLFxuXG4gIGRlbGF5ICAgICAgICAgICAgIDogMjAwLFxuICByZXZhbGlkYXRlICAgICAgICA6IHRydWUsXG5cbiAgdHJhbnNpdGlvbiAgICAgICAgOiAnc2NhbGUnLFxuICBkdXJhdGlvbiAgICAgICAgICA6IDIwMCxcblxuICBvblZhbGlkICAgICAgICAgICA6IGZ1bmN0aW9uKCkge30sXG4gIG9uSW52YWxpZCAgICAgICAgIDogZnVuY3Rpb24oKSB7fSxcbiAgb25TdWNjZXNzICAgICAgICAgOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0sXG4gIG9uRmFpbHVyZSAgICAgICAgIDogZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfSxcblxuICBtZXRhZGF0YSA6IHtcbiAgICBkZWZhdWx0VmFsdWUgOiAnZGVmYXVsdCcsXG4gICAgdmFsaWRhdGUgICAgIDogJ3ZhbGlkYXRlJ1xuICB9LFxuXG4gIHJlZ0V4cDoge1xuICAgIGJyYWNrZXQgOiAvXFxbKC4qKVxcXS9pLFxuICAgIGRlY2ltYWwgOiAvXlxcZCooXFwuKVxcZCsvLFxuICAgIGVtYWlsICAgOiAvXlthLXowLTkhIyQlJicqK1xcLz0/Xl9ge3x9fi4tXStAW2EtejAtOV0oW2EtejAtOS1dKlthLXowLTldKT8oXFwuW2EtejAtOV0oW2EtejAtOS1dKlthLXowLTldKT8pKiQvaSxcbiAgICBlc2NhcGUgIDogL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLFxuICAgIGZsYWdzICAgOiAvXlxcLyguKilcXC8oLiopPy8sXG4gICAgaW50ZWdlciA6IC9eXFwtP1xcZCskLyxcbiAgICBudW1iZXIgIDogL15cXC0/XFxkKihcXC5cXGQrKT8kLyxcbiAgICB1cmwgICAgIDogLyhodHRwcz86XFwvXFwvKD86d3d3XFwufCg/IXd3dykpW15cXHNcXC5dK1xcLlteXFxzXXsyLH18d3d3XFwuW15cXHNdK1xcLlteXFxzXXsyLH0pL2lcbiAgfSxcblxuICB0ZXh0OiB7XG4gICAgdW5zcGVjaWZpZWRSdWxlICA6ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCB2YWx1ZScsXG4gICAgdW5zcGVjaWZpZWRGaWVsZCA6ICdUaGlzIGZpZWxkJ1xuICB9LFxuXG4gIHByb21wdDoge1xuICAgIGVtcHR5ICAgICAgICAgICAgICAgIDogJ3tuYW1lfSBtdXN0IGhhdmUgYSB2YWx1ZScsXG4gICAgY2hlY2tlZCAgICAgICAgICAgICAgOiAne25hbWV9IG11c3QgYmUgY2hlY2tlZCcsXG4gICAgZW1haWwgICAgICAgICAgICAgICAgOiAne25hbWV9IG11c3QgYmUgYSB2YWxpZCBlLW1haWwnLFxuICAgIHVybCAgICAgICAgICAgICAgICAgIDogJ3tuYW1lfSBtdXN0IGJlIGEgdmFsaWQgdXJsJyxcbiAgICByZWdFeHAgICAgICAgICAgICAgICA6ICd7bmFtZX0gaXMgbm90IGZvcm1hdHRlZCBjb3JyZWN0bHknLFxuICAgIGludGVnZXIgICAgICAgICAgICAgIDogJ3tuYW1lfSBtdXN0IGJlIGFuIGludGVnZXInLFxuICAgIGRlY2ltYWwgICAgICAgICAgICAgIDogJ3tuYW1lfSBtdXN0IGJlIGEgZGVjaW1hbCBudW1iZXInLFxuICAgIG51bWJlciAgICAgICAgICAgICAgIDogJ3tuYW1lfSBtdXN0IGJlIHNldCB0byBhIG51bWJlcicsXG4gICAgaXMgICAgICAgICAgICAgICAgICAgOiAne25hbWV9IG11c3QgYmUgXCJ7cnVsZVZhbHVlfVwiJyxcbiAgICBpc0V4YWN0bHkgICAgICAgICAgICA6ICd7bmFtZX0gbXVzdCBiZSBleGFjdGx5IFwie3J1bGVWYWx1ZX1cIicsXG4gICAgbm90ICAgICAgICAgICAgICAgICAgOiAne25hbWV9IGNhbm5vdCBiZSBzZXQgdG8gXCJ7cnVsZVZhbHVlfVwiJyxcbiAgICBub3RFeGFjdGx5ICAgICAgICAgICA6ICd7bmFtZX0gY2Fubm90IGJlIHNldCB0byBleGFjdGx5IFwie3J1bGVWYWx1ZX1cIicsXG4gICAgY29udGFpbiAgICAgICAgICAgICAgOiAne25hbWV9IGNhbm5vdCBjb250YWluIFwie3J1bGVWYWx1ZX1cIicsXG4gICAgY29udGFpbkV4YWN0bHkgICAgICAgOiAne25hbWV9IGNhbm5vdCBjb250YWluIGV4YWN0bHkgXCJ7cnVsZVZhbHVlfVwiJyxcbiAgICBkb2VzbnRDb250YWluICAgICAgICA6ICd7bmFtZX0gbXVzdCBjb250YWluICBcIntydWxlVmFsdWV9XCInLFxuICAgIGRvZXNudENvbnRhaW5FeGFjdGx5IDogJ3tuYW1lfSBtdXN0IGNvbnRhaW4gZXhhY3RseSBcIntydWxlVmFsdWV9XCInLFxuICAgIG1pbkxlbmd0aCAgICAgICAgICAgIDogJ3tuYW1lfSBtdXN0IGJlIGF0IGxlYXN0IHtydWxlVmFsdWV9IGNoYXJhY3RlcnMnLFxuICAgIGxlbmd0aCAgICAgICAgICAgICAgIDogJ3tuYW1lfSBtdXN0IGJlIGF0IGxlYXN0IHtydWxlVmFsdWV9IGNoYXJhY3RlcnMnLFxuICAgIGV4YWN0TGVuZ3RoICAgICAgICAgIDogJ3tuYW1lfSBtdXN0IGJlIGV4YWN0bHkge3J1bGVWYWx1ZX0gY2hhcmFjdGVycycsXG4gICAgbWF4TGVuZ3RoICAgICAgICAgICAgOiAne25hbWV9IGNhbm5vdCBiZSBsb25nZXIgdGhhbiB7cnVsZVZhbHVlfSBjaGFyYWN0ZXJzJyxcbiAgICBtYXRjaCAgICAgICAgICAgICAgICA6ICd7bmFtZX0gbXVzdCBtYXRjaCB7cnVsZVZhbHVlfSBmaWVsZCcsXG4gICAgZGlmZmVyZW50ICAgICAgICAgICAgOiAne25hbWV9IG11c3QgaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZSB0aGFuIHtydWxlVmFsdWV9IGZpZWxkJyxcbiAgICBjcmVkaXRDYXJkICAgICAgICAgICA6ICd7bmFtZX0gbXVzdCBiZSBhIHZhbGlkIGNyZWRpdCBjYXJkIG51bWJlcicsXG4gICAgbWluQ291bnQgICAgICAgICAgICAgOiAne25hbWV9IG11c3QgaGF2ZSBhdCBsZWFzdCB7cnVsZVZhbHVlfSBjaG9pY2VzJyxcbiAgICBleGFjdENvdW50ICAgICAgICAgICA6ICd7bmFtZX0gbXVzdCBoYXZlIGV4YWN0bHkge3J1bGVWYWx1ZX0gY2hvaWNlcycsXG4gICAgbWF4Q291bnQgICAgICAgICAgICAgOiAne25hbWV9IG11c3QgaGF2ZSB7cnVsZVZhbHVlfSBvciBsZXNzIGNob2ljZXMnXG4gIH0sXG5cbiAgc2VsZWN0b3IgOiB7XG4gICAgY2hlY2tib3ggICA6ICdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0sIGlucHV0W3R5cGU9XCJyYWRpb1wiXScsXG4gICAgY2xlYXIgICAgICA6ICcuY2xlYXInLFxuICAgIGZpZWxkICAgICAgOiAnaW5wdXQsIHRleHRhcmVhLCBzZWxlY3QnLFxuICAgIGdyb3VwICAgICAgOiAnLmZpZWxkJyxcbiAgICBpbnB1dCAgICAgIDogJ2lucHV0JyxcbiAgICBtZXNzYWdlICAgIDogJy5lcnJvci5tZXNzYWdlJyxcbiAgICBwcm9tcHQgICAgIDogJy5wcm9tcHQubGFiZWwnLFxuICAgIHJhZGlvICAgICAgOiAnaW5wdXRbdHlwZT1cInJhZGlvXCJdJyxcbiAgICByZXNldCAgICAgIDogJy5yZXNldDpub3QoW3R5cGU9XCJyZXNldFwiXSknLFxuICAgIHN1Ym1pdCAgICAgOiAnLnN1Ym1pdDpub3QoW3R5cGU9XCJzdWJtaXRcIl0pJyxcbiAgICB1aUNoZWNrYm94IDogJy51aS5jaGVja2JveCcsXG4gICAgdWlEcm9wZG93biA6ICcudWkuZHJvcGRvd24nXG4gIH0sXG5cbiAgY2xhc3NOYW1lIDoge1xuICAgIGVycm9yICAgOiAnZXJyb3InLFxuICAgIGxhYmVsICAgOiAndWkgcHJvbXB0IGxhYmVsJyxcbiAgICBwcmVzc2VkIDogJ2Rvd24nLFxuICAgIHN1Y2Nlc3MgOiAnc3VjY2VzcydcbiAgfSxcblxuICBlcnJvcjoge1xuICAgIGlkZW50aWZpZXIgOiAnWW91IG11c3Qgc3BlY2lmeSBhIHN0cmluZyBpZGVudGlmaWVyIGZvciBlYWNoIGZpZWxkJyxcbiAgICBtZXRob2QgICAgIDogJ1RoZSBtZXRob2QgeW91IGNhbGxlZCBpcyBub3QgZGVmaW5lZC4nLFxuICAgIG5vUnVsZSAgICAgOiAnVGhlcmUgaXMgbm8gcnVsZSBtYXRjaGluZyB0aGUgb25lIHlvdSBzcGVjaWZpZWQnLFxuICAgIG9sZFN5bnRheCAgOiAnU3RhcnRpbmcgaW4gMi4wIGZvcm1zIG5vdyBvbmx5IHRha2UgYSBzaW5nbGUgc2V0dGluZ3Mgb2JqZWN0LiBWYWxpZGF0aW9uIHNldHRpbmdzIGNvbnZlcnRlZCB0byBuZXcgc3ludGF4IGF1dG9tYXRpY2FsbHkuJ1xuICB9LFxuXG4gIHRlbXBsYXRlczoge1xuXG4gICAgLy8gdGVtcGxhdGUgdGhhdCBwcm9kdWNlcyBlcnJvciBtZXNzYWdlXG4gICAgZXJyb3I6IGZ1bmN0aW9uKGVycm9ycykge1xuICAgICAgdmFyXG4gICAgICAgIGh0bWwgPSAnPHVsIGNsYXNzPVwibGlzdFwiPidcbiAgICAgIDtcbiAgICAgICQuZWFjaChlcnJvcnMsIGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBodG1sICs9ICc8bGk+JyArIHZhbHVlICsgJzwvbGk+JztcbiAgICAgIH0pO1xuICAgICAgaHRtbCArPSAnPC91bD4nO1xuICAgICAgcmV0dXJuICQoaHRtbCk7XG4gICAgfSxcblxuICAgIC8vIHRlbXBsYXRlIHRoYXQgcHJvZHVjZXMgbGFiZWxcbiAgICBwcm9tcHQ6IGZ1bmN0aW9uKGVycm9ycykge1xuICAgICAgcmV0dXJuICQoJzxkaXYvPicpXG4gICAgICAgIC5hZGRDbGFzcygndWkgYmFzaWMgcmVkIHBvaW50aW5nIHByb21wdCBsYWJlbCcpXG4gICAgICAgIC5odG1sKGVycm9yc1swXSlcbiAgICAgIDtcbiAgICB9XG4gIH0sXG5cbiAgcnVsZXM6IHtcblxuICAgIC8vIGlzIG5vdCBlbXB0eSBvciBibGFuayBzdHJpbmdcbiAgICBlbXB0eTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiAhKHZhbHVlID09PSB1bmRlZmluZWQgfHwgJycgPT09IHZhbHVlIHx8ICQuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAwKTtcbiAgICB9LFxuXG4gICAgLy8gY2hlY2tib3ggY2hlY2tlZFxuICAgIGNoZWNrZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICgkKHRoaXMpLmZpbHRlcignOmNoZWNrZWQnKS5sZW5ndGggPiAwKTtcbiAgICB9LFxuXG4gICAgLy8gaXMgbW9zdCBsaWtlbHkgYW4gZW1haWxcbiAgICBlbWFpbDogZnVuY3Rpb24odmFsdWUpe1xuICAgICAgcmV0dXJuICQuZm4uZm9ybS5zZXR0aW5ncy5yZWdFeHAuZW1haWwudGVzdCh2YWx1ZSk7XG4gICAgfSxcblxuICAgIC8vIHZhbHVlIGlzIG1vc3QgbGlrZWx5IHVybFxuICAgIHVybDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiAkLmZuLmZvcm0uc2V0dGluZ3MucmVnRXhwLnVybC50ZXN0KHZhbHVlKTtcbiAgICB9LFxuXG4gICAgLy8gbWF0Y2hlcyBzcGVjaWZpZWQgcmVnRXhwXG4gICAgcmVnRXhwOiBmdW5jdGlvbih2YWx1ZSwgcmVnRXhwKSB7XG4gICAgICBpZihyZWdFeHAgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLm1hdGNoKHJlZ0V4cCk7XG4gICAgICB9XG4gICAgICB2YXJcbiAgICAgICAgcmVnRXhwUGFydHMgPSByZWdFeHAubWF0Y2goJC5mbi5mb3JtLnNldHRpbmdzLnJlZ0V4cC5mbGFncyksXG4gICAgICAgIGZsYWdzXG4gICAgICA7XG4gICAgICAvLyByZWd1bGFyIGV4cHJlc3Npb24gc3BlY2lmaWVkIGFzIC9iYXovZ2kgKGZsYWdzKVxuICAgICAgaWYocmVnRXhwUGFydHMpIHtcbiAgICAgICAgcmVnRXhwID0gKHJlZ0V4cFBhcnRzLmxlbmd0aCA+PSAyKVxuICAgICAgICAgID8gcmVnRXhwUGFydHNbMV1cbiAgICAgICAgICA6IHJlZ0V4cFxuICAgICAgICA7XG4gICAgICAgIGZsYWdzID0gKHJlZ0V4cFBhcnRzLmxlbmd0aCA+PSAzKVxuICAgICAgICAgID8gcmVnRXhwUGFydHNbMl1cbiAgICAgICAgICA6ICcnXG4gICAgICAgIDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZS5tYXRjaCggbmV3IFJlZ0V4cChyZWdFeHAsIGZsYWdzKSApO1xuICAgIH0sXG5cbiAgICAvLyBpcyB2YWxpZCBpbnRlZ2VyIG9yIG1hdGNoZXMgcmFuZ2VcbiAgICBpbnRlZ2VyOiBmdW5jdGlvbih2YWx1ZSwgcmFuZ2UpIHtcbiAgICAgIHZhclxuICAgICAgICBpbnRSZWdFeHAgPSAkLmZuLmZvcm0uc2V0dGluZ3MucmVnRXhwLmludGVnZXIsXG4gICAgICAgIG1pbixcbiAgICAgICAgbWF4LFxuICAgICAgICBwYXJ0c1xuICAgICAgO1xuICAgICAgaWYoICFyYW5nZSB8fCBbJycsICcuLiddLmluZGV4T2YocmFuZ2UpICE9PSAtMSkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICB9XG4gICAgICBlbHNlIGlmKHJhbmdlLmluZGV4T2YoJy4uJykgPT0gLTEpIHtcbiAgICAgICAgaWYoaW50UmVnRXhwLnRlc3QocmFuZ2UpKSB7XG4gICAgICAgICAgbWluID0gbWF4ID0gcmFuZ2UgLSAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcGFydHMgPSByYW5nZS5zcGxpdCgnLi4nLCAyKTtcbiAgICAgICAgaWYoaW50UmVnRXhwLnRlc3QocGFydHNbMF0pKSB7XG4gICAgICAgICAgbWluID0gcGFydHNbMF0gLSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmKGludFJlZ0V4cC50ZXN0KHBhcnRzWzFdKSkge1xuICAgICAgICAgIG1heCA9IHBhcnRzWzFdIC0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgaW50UmVnRXhwLnRlc3QodmFsdWUpICYmXG4gICAgICAgIChtaW4gPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA+PSBtaW4pICYmXG4gICAgICAgIChtYXggPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA8PSBtYXgpXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvLyBpcyB2YWxpZCBudW1iZXIgKHdpdGggZGVjaW1hbClcbiAgICBkZWNpbWFsOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuICQuZm4uZm9ybS5zZXR0aW5ncy5yZWdFeHAuZGVjaW1hbC50ZXN0KHZhbHVlKTtcbiAgICB9LFxuXG4gICAgLy8gaXMgdmFsaWQgbnVtYmVyXG4gICAgbnVtYmVyOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuICQuZm4uZm9ybS5zZXR0aW5ncy5yZWdFeHAubnVtYmVyLnRlc3QodmFsdWUpO1xuICAgIH0sXG5cbiAgICAvLyBpcyB2YWx1ZSAoY2FzZSBpbnNlbnNpdGl2ZSlcbiAgICBpczogZnVuY3Rpb24odmFsdWUsIHRleHQpIHtcbiAgICAgIHRleHQgPSAodHlwZW9mIHRleHQgPT0gJ3N0cmluZycpXG4gICAgICAgID8gdGV4dC50b0xvd2VyQ2FzZSgpXG4gICAgICAgIDogdGV4dFxuICAgICAgO1xuICAgICAgdmFsdWUgPSAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKVxuICAgICAgICA/IHZhbHVlLnRvTG93ZXJDYXNlKClcbiAgICAgICAgOiB2YWx1ZVxuICAgICAgO1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSB0ZXh0KTtcbiAgICB9LFxuXG4gICAgLy8gaXMgdmFsdWVcbiAgICBpc0V4YWN0bHk6IGZ1bmN0aW9uKHZhbHVlLCB0ZXh0KSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09IHRleHQpO1xuICAgIH0sXG5cbiAgICAvLyB2YWx1ZSBpcyBub3QgYW5vdGhlciB2YWx1ZSAoY2FzZSBpbnNlbnNpdGl2ZSlcbiAgICBub3Q6IGZ1bmN0aW9uKHZhbHVlLCBub3RWYWx1ZSkge1xuICAgICAgdmFsdWUgPSAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKVxuICAgICAgICA/IHZhbHVlLnRvTG93ZXJDYXNlKClcbiAgICAgICAgOiB2YWx1ZVxuICAgICAgO1xuICAgICAgbm90VmFsdWUgPSAodHlwZW9mIG5vdFZhbHVlID09ICdzdHJpbmcnKVxuICAgICAgICA/IG5vdFZhbHVlLnRvTG93ZXJDYXNlKClcbiAgICAgICAgOiBub3RWYWx1ZVxuICAgICAgO1xuICAgICAgcmV0dXJuICh2YWx1ZSAhPSBub3RWYWx1ZSk7XG4gICAgfSxcblxuICAgIC8vIHZhbHVlIGlzIG5vdCBhbm90aGVyIHZhbHVlIChjYXNlIHNlbnNpdGl2ZSlcbiAgICBub3RFeGFjdGx5OiBmdW5jdGlvbih2YWx1ZSwgbm90VmFsdWUpIHtcbiAgICAgIHJldHVybiAodmFsdWUgIT0gbm90VmFsdWUpO1xuICAgIH0sXG5cbiAgICAvLyB2YWx1ZSBjb250YWlucyB0ZXh0IChpbnNlbnNpdGl2ZSlcbiAgICBjb250YWluczogZnVuY3Rpb24odmFsdWUsIHRleHQpIHtcbiAgICAgIC8vIGVzY2FwZSByZWdleCBjaGFyYWN0ZXJzXG4gICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKCQuZm4uZm9ybS5zZXR0aW5ncy5yZWdFeHAuZXNjYXBlLCBcIlxcXFwkJlwiKTtcbiAgICAgIHJldHVybiAodmFsdWUuc2VhcmNoKCBuZXcgUmVnRXhwKHRleHQsICdpJykgKSAhPT0gLTEpO1xuICAgIH0sXG5cbiAgICAvLyB2YWx1ZSBjb250YWlucyB0ZXh0IChjYXNlIHNlbnNpdGl2ZSlcbiAgICBjb250YWluc0V4YWN0bHk6IGZ1bmN0aW9uKHZhbHVlLCB0ZXh0KSB7XG4gICAgICAvLyBlc2NhcGUgcmVnZXggY2hhcmFjdGVyc1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgkLmZuLmZvcm0uc2V0dGluZ3MucmVnRXhwLmVzY2FwZSwgXCJcXFxcJCZcIik7XG4gICAgICByZXR1cm4gKHZhbHVlLnNlYXJjaCggbmV3IFJlZ0V4cCh0ZXh0KSApICE9PSAtMSk7XG4gICAgfSxcblxuICAgIC8vIHZhbHVlIGNvbnRhaW5zIHRleHQgKGluc2Vuc2l0aXZlKVxuICAgIGRvZXNudENvbnRhaW46IGZ1bmN0aW9uKHZhbHVlLCB0ZXh0KSB7XG4gICAgICAvLyBlc2NhcGUgcmVnZXggY2hhcmFjdGVyc1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgkLmZuLmZvcm0uc2V0dGluZ3MucmVnRXhwLmVzY2FwZSwgXCJcXFxcJCZcIik7XG4gICAgICByZXR1cm4gKHZhbHVlLnNlYXJjaCggbmV3IFJlZ0V4cCh0ZXh0LCAnaScpICkgPT09IC0xKTtcbiAgICB9LFxuXG4gICAgLy8gdmFsdWUgY29udGFpbnMgdGV4dCAoY2FzZSBzZW5zaXRpdmUpXG4gICAgZG9lc250Q29udGFpbkV4YWN0bHk6IGZ1bmN0aW9uKHZhbHVlLCB0ZXh0KSB7XG4gICAgICAvLyBlc2NhcGUgcmVnZXggY2hhcmFjdGVyc1xuICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgkLmZuLmZvcm0uc2V0dGluZ3MucmVnRXhwLmVzY2FwZSwgXCJcXFxcJCZcIik7XG4gICAgICByZXR1cm4gKHZhbHVlLnNlYXJjaCggbmV3IFJlZ0V4cCh0ZXh0KSApID09PSAtMSk7XG4gICAgfSxcblxuICAgIC8vIGlzIGF0IGxlYXN0IHN0cmluZyBsZW5ndGhcbiAgICBtaW5MZW5ndGg6IGZ1bmN0aW9uKHZhbHVlLCByZXF1aXJlZExlbmd0aCkge1xuICAgICAgcmV0dXJuICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICA/ICh2YWx1ZS5sZW5ndGggPj0gcmVxdWlyZWRMZW5ndGgpXG4gICAgICAgIDogZmFsc2VcbiAgICAgIDtcbiAgICB9LFxuXG4gICAgLy8gc2VlIHJscyBub3RlcyBmb3IgMi4wLjYgKHRoaXMgaXMgYSBkdXBsaWNhdGUgb2YgbWluTGVuZ3RoKVxuICAgIGxlbmd0aDogZnVuY3Rpb24odmFsdWUsIHJlcXVpcmVkTGVuZ3RoKSB7XG4gICAgICByZXR1cm4gKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICAgID8gKHZhbHVlLmxlbmd0aCA+PSByZXF1aXJlZExlbmd0aClcbiAgICAgICAgOiBmYWxzZVxuICAgICAgO1xuICAgIH0sXG5cbiAgICAvLyBpcyBleGFjdGx5IGxlbmd0aFxuICAgIGV4YWN0TGVuZ3RoOiBmdW5jdGlvbih2YWx1ZSwgcmVxdWlyZWRMZW5ndGgpIHtcbiAgICAgIHJldHVybiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgPyAodmFsdWUubGVuZ3RoID09IHJlcXVpcmVkTGVuZ3RoKVxuICAgICAgICA6IGZhbHNlXG4gICAgICA7XG4gICAgfSxcblxuICAgIC8vIGlzIGxlc3MgdGhhbiBsZW5ndGhcbiAgICBtYXhMZW5ndGg6IGZ1bmN0aW9uKHZhbHVlLCBtYXhMZW5ndGgpIHtcbiAgICAgIHJldHVybiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgPyAodmFsdWUubGVuZ3RoIDw9IG1heExlbmd0aClcbiAgICAgICAgOiBmYWxzZVxuICAgICAgO1xuICAgIH0sXG5cbiAgICAvLyBtYXRjaGVzIGFub3RoZXIgZmllbGRcbiAgICBtYXRjaDogZnVuY3Rpb24odmFsdWUsIGlkZW50aWZpZXIpIHtcbiAgICAgIHZhclxuICAgICAgICAkZm9ybSA9ICQodGhpcyksXG4gICAgICAgIG1hdGNoaW5nVmFsdWVcbiAgICAgIDtcbiAgICAgIGlmKCAkKCdbZGF0YS12YWxpZGF0ZT1cIicrIGlkZW50aWZpZXIgKydcIl0nKS5sZW5ndGggPiAwICkge1xuICAgICAgICBtYXRjaGluZ1ZhbHVlID0gJCgnW2RhdGEtdmFsaWRhdGU9XCInKyBpZGVudGlmaWVyICsnXCJdJykudmFsKCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKCQoJyMnICsgaWRlbnRpZmllcikubGVuZ3RoID4gMCkge1xuICAgICAgICBtYXRjaGluZ1ZhbHVlID0gJCgnIycgKyBpZGVudGlmaWVyKS52YWwoKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYoJCgnW25hbWU9XCInICsgaWRlbnRpZmllciArJ1wiXScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbWF0Y2hpbmdWYWx1ZSA9ICQoJ1tuYW1lPVwiJyArIGlkZW50aWZpZXIgKyAnXCJdJykudmFsKCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKCAkKCdbbmFtZT1cIicgKyBpZGVudGlmaWVyICsnW11cIl0nKS5sZW5ndGggPiAwICkge1xuICAgICAgICBtYXRjaGluZ1ZhbHVlID0gJCgnW25hbWU9XCInICsgaWRlbnRpZmllciArJ1tdXCJdJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKG1hdGNoaW5nVmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgPyAoIHZhbHVlLnRvU3RyaW5nKCkgPT0gbWF0Y2hpbmdWYWx1ZS50b1N0cmluZygpIClcbiAgICAgICAgOiBmYWxzZVxuICAgICAgO1xuICAgIH0sXG5cbiAgICAvLyBkaWZmZXJlbnQgdGhhbiBhbm90aGVyIGZpZWxkXG4gICAgZGlmZmVyZW50OiBmdW5jdGlvbih2YWx1ZSwgaWRlbnRpZmllcikge1xuICAgICAgLy8gdXNlIGVpdGhlciBpZCBvciBuYW1lIG9mIGZpZWxkXG4gICAgICB2YXJcbiAgICAgICAgJGZvcm0gPSAkKHRoaXMpLFxuICAgICAgICBtYXRjaGluZ1ZhbHVlXG4gICAgICA7XG4gICAgICBpZiggJCgnW2RhdGEtdmFsaWRhdGU9XCInKyBpZGVudGlmaWVyICsnXCJdJykubGVuZ3RoID4gMCApIHtcbiAgICAgICAgbWF0Y2hpbmdWYWx1ZSA9ICQoJ1tkYXRhLXZhbGlkYXRlPVwiJysgaWRlbnRpZmllciArJ1wiXScpLnZhbCgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZigkKCcjJyArIGlkZW50aWZpZXIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbWF0Y2hpbmdWYWx1ZSA9ICQoJyMnICsgaWRlbnRpZmllcikudmFsKCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmKCQoJ1tuYW1lPVwiJyArIGlkZW50aWZpZXIgKydcIl0nKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIG1hdGNoaW5nVmFsdWUgPSAkKCdbbmFtZT1cIicgKyBpZGVudGlmaWVyICsgJ1wiXScpLnZhbCgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiggJCgnW25hbWU9XCInICsgaWRlbnRpZmllciArJ1tdXCJdJykubGVuZ3RoID4gMCApIHtcbiAgICAgICAgbWF0Y2hpbmdWYWx1ZSA9ICQoJ1tuYW1lPVwiJyArIGlkZW50aWZpZXIgKydbXVwiXScpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChtYXRjaGluZ1ZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICAgID8gKCB2YWx1ZS50b1N0cmluZygpICE9PSBtYXRjaGluZ1ZhbHVlLnRvU3RyaW5nKCkgKVxuICAgICAgICA6IGZhbHNlXG4gICAgICA7XG4gICAgfSxcblxuICAgIGNyZWRpdENhcmQ6IGZ1bmN0aW9uKGNhcmROdW1iZXIsIGNhcmRUeXBlcykge1xuICAgICAgdmFyXG4gICAgICAgIGNhcmRzID0ge1xuICAgICAgICAgIHZpc2E6IHtcbiAgICAgICAgICAgIHBhdHRlcm4gOiAvXjQvLFxuICAgICAgICAgICAgbGVuZ3RoICA6IFsxNl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGFtZXg6IHtcbiAgICAgICAgICAgIHBhdHRlcm4gOiAvXjNbNDddLyxcbiAgICAgICAgICAgIGxlbmd0aCAgOiBbMTVdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtYXN0ZXJjYXJkOiB7XG4gICAgICAgICAgICBwYXR0ZXJuIDogL141WzEtNV0vLFxuICAgICAgICAgICAgbGVuZ3RoICA6IFsxNl1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGRpc2NvdmVyOiB7XG4gICAgICAgICAgICBwYXR0ZXJuIDogL14oNjAxMXw2MjIoMTJbNi05XXwxWzMtOV1bMC05XXxbMi04XVswLTldezJ9fDlbMC0xXVswLTldfDkyWzAtNV18NjRbNC05XSl8NjUpLyxcbiAgICAgICAgICAgIGxlbmd0aCAgOiBbMTZdXG4gICAgICAgICAgfSxcbiAgICAgICAgICB1bmlvblBheToge1xuICAgICAgICAgICAgcGF0dGVybiA6IC9eKDYyfDg4KS8sXG4gICAgICAgICAgICBsZW5ndGggIDogWzE2LCAxNywgMTgsIDE5XVxuICAgICAgICAgIH0sXG4gICAgICAgICAgamNiOiB7XG4gICAgICAgICAgICBwYXR0ZXJuIDogL14zNSgyWzg5XXxbMy04XVswLTldKS8sXG4gICAgICAgICAgICBsZW5ndGggIDogWzE2XVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWFlc3Rybzoge1xuICAgICAgICAgICAgcGF0dGVybiA6IC9eKDUwMTh8NTAyMHw1MDM4fDYzMDR8Njc1OXw2NzZbMS0zXSkvLFxuICAgICAgICAgICAgbGVuZ3RoICA6IFsxMiwgMTMsIDE0LCAxNSwgMTYsIDE3LCAxOCwgMTldXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkaW5lcnNDbHViOiB7XG4gICAgICAgICAgICBwYXR0ZXJuIDogL14oMzBbMC01XXxeMzYpLyxcbiAgICAgICAgICAgIGxlbmd0aCAgOiBbMTRdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBsYXNlcjoge1xuICAgICAgICAgICAgcGF0dGVybiA6IC9eKDYzMDR8NjcwWzY5XXw2NzcxKS8sXG4gICAgICAgICAgICBsZW5ndGggIDogWzE2LCAxNywgMTgsIDE5XVxuICAgICAgICAgIH0sXG4gICAgICAgICAgdmlzYUVsZWN0cm9uOiB7XG4gICAgICAgICAgICBwYXR0ZXJuIDogL14oNDAyNnw0MTc1MDB8NDUwOHw0ODQ0fDQ5MSgzfDcpKS8sXG4gICAgICAgICAgICBsZW5ndGggIDogWzE2XVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmFsaWQgICAgICAgICA9IHt9LFxuICAgICAgICB2YWxpZENhcmQgICAgID0gZmFsc2UsXG4gICAgICAgIHJlcXVpcmVkVHlwZXMgPSAodHlwZW9mIGNhcmRUeXBlcyA9PSAnc3RyaW5nJylcbiAgICAgICAgICA/IGNhcmRUeXBlcy5zcGxpdCgnLCcpXG4gICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgdW5pb25QYXksXG4gICAgICAgIHZhbGlkYXRpb25cbiAgICAgIDtcblxuICAgICAgaWYodHlwZW9mIGNhcmROdW1iZXIgIT09ICdzdHJpbmcnIHx8IGNhcmROdW1iZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gdmVyaWZ5IGNhcmQgdHlwZXNcbiAgICAgIGlmKHJlcXVpcmVkVHlwZXMpIHtcbiAgICAgICAgJC5lYWNoKHJlcXVpcmVkVHlwZXMsIGZ1bmN0aW9uKGluZGV4LCB0eXBlKXtcbiAgICAgICAgICAvLyB2ZXJpZnkgZWFjaCBjYXJkIHR5cGVcbiAgICAgICAgICB2YWxpZGF0aW9uID0gY2FyZHNbdHlwZV07XG4gICAgICAgICAgaWYodmFsaWRhdGlvbikge1xuICAgICAgICAgICAgdmFsaWQgPSB7XG4gICAgICAgICAgICAgIGxlbmd0aCAgOiAoJC5pbkFycmF5KGNhcmROdW1iZXIubGVuZ3RoLCB2YWxpZGF0aW9uLmxlbmd0aCkgIT09IC0xKSxcbiAgICAgICAgICAgICAgcGF0dGVybiA6IChjYXJkTnVtYmVyLnNlYXJjaCh2YWxpZGF0aW9uLnBhdHRlcm4pICE9PSAtMSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZih2YWxpZC5sZW5ndGggJiYgdmFsaWQucGF0dGVybikge1xuICAgICAgICAgICAgICB2YWxpZENhcmQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYoIXZhbGlkQ2FyZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBza2lwIGx1aG4gZm9yIFVuaW9uUGF5XG4gICAgICB1bmlvblBheSA9IHtcbiAgICAgICAgbnVtYmVyICA6ICgkLmluQXJyYXkoY2FyZE51bWJlci5sZW5ndGgsIGNhcmRzLnVuaW9uUGF5Lmxlbmd0aCkgIT09IC0xKSxcbiAgICAgICAgcGF0dGVybiA6IChjYXJkTnVtYmVyLnNlYXJjaChjYXJkcy51bmlvblBheS5wYXR0ZXJuKSAhPT0gLTEpXG4gICAgICB9O1xuICAgICAgaWYodW5pb25QYXkubnVtYmVyICYmIHVuaW9uUGF5LnBhdHRlcm4pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIHZlcmlmeSBsdWhuLCBhZGFwdGVkIGZyb20gIDxodHRwczovL2dpc3QuZ2l0aHViLmNvbS8yMTM0Mzc2PlxuICAgICAgdmFyXG4gICAgICAgIGxlbmd0aCAgICAgICAgPSBjYXJkTnVtYmVyLmxlbmd0aCxcbiAgICAgICAgbXVsdGlwbGUgICAgICA9IDAsXG4gICAgICAgIHByb2R1Y2VkVmFsdWUgPSBbXG4gICAgICAgICAgWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDldLFxuICAgICAgICAgIFswLCAyLCA0LCA2LCA4LCAxLCAzLCA1LCA3LCA5XVxuICAgICAgICBdLFxuICAgICAgICBzdW0gICAgICAgICAgID0gMFxuICAgICAgO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHN1bSArPSBwcm9kdWNlZFZhbHVlW211bHRpcGxlXVtwYXJzZUludChjYXJkTnVtYmVyLmNoYXJBdChsZW5ndGgpLCAxMCldO1xuICAgICAgICBtdWx0aXBsZSBePSAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzdW0gJSAxMCA9PT0gMCAmJiBzdW0gPiAwKTtcbiAgICB9LFxuXG4gICAgbWluQ291bnQ6IGZ1bmN0aW9uKHZhbHVlLCBtaW5Db3VudCkge1xuICAgICAgaWYobWluQ291bnQgPT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmKG1pbkNvdW50ID09IDEpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAhPT0gJycpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICh2YWx1ZS5zcGxpdCgnLCcpLmxlbmd0aCA+PSBtaW5Db3VudCk7XG4gICAgfSxcblxuICAgIGV4YWN0Q291bnQ6IGZ1bmN0aW9uKHZhbHVlLCBleGFjdENvdW50KSB7XG4gICAgICBpZihleGFjdENvdW50ID09IDApIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSA9PT0gJycpO1xuICAgICAgfVxuICAgICAgaWYoZXhhY3RDb3VudCA9PSAxKSB7XG4gICAgICAgIHJldHVybiAodmFsdWUgIT09ICcnICYmIHZhbHVlLnNlYXJjaCgnLCcpID09PSAtMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKHZhbHVlLnNwbGl0KCcsJykubGVuZ3RoID09IGV4YWN0Q291bnQpO1xuICAgIH0sXG5cbiAgICBtYXhDb3VudDogZnVuY3Rpb24odmFsdWUsIG1heENvdW50KSB7XG4gICAgICBpZihtYXhDb3VudCA9PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmKG1heENvdW50ID09IDEpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZS5zZWFyY2goJywnKSA9PT0gLTEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICh2YWx1ZS5zcGxpdCgnLCcpLmxlbmd0aCA8PSBtYXhDb3VudCk7XG4gICAgfVxuICB9XG5cbn07XG5cbn0pKCBqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQgKTtcbiJdfQ==
