!function(e,t,n,r){"use strict";t="undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"undefined"!=typeof t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();e.fn.progress=function(t){var a,o=e(this),i=o.selector||"",s=(new Date).getTime(),l=[],c=arguments[0],u="string"==typeof c,d=[].slice.call(arguments,1);return o.each(function(){var o,g,p=e.isPlainObject(t)?e.extend(!0,{},e.fn.progress.settings,t):e.extend({},e.fn.progress.settings),v=p.className,f=p.metadata,m=p.namespace,b=p.selector,h=p.error,x="."+m,y="module-"+m,w=e(this),V=e(this).find(b.bar),C=e(this).find(b.progress),E=e(this).find(b.label),P=this,T=w.data(y),M=!1;g={initialize:function(){g.debug("Initializing progress bar",p),g.set.duration(),g.set.transitionEvent(),g.read.metadata(),g.read.settings(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of progress",g),T=g,w.data(y,g)},destroy:function(){g.verbose("Destroying previous progress for",w),clearInterval(T.interval),g.remove.state(),w.removeData(y),T=r},reset:function(){g.remove.nextValue(),g.update.progress(0)},complete:function(){(g.percent===r||g.percent<100)&&(g.remove.progressPoll(),g.set.percent(100))},read:{metadata:function(){var e={percent:w.data(f.percent),total:w.data(f.total),value:w.data(f.value)};e.percent&&(g.debug("Current percent value set from metadata",e.percent),g.set.percent(e.percent)),e.total&&(g.debug("Total value set from metadata",e.total),g.set.total(e.total)),e.value&&(g.debug("Current value set from metadata",e.value),g.set.value(e.value),g.set.progress(e.value))},settings:function(){p.total!==!1&&(g.debug("Current total set in settings",p.total),g.set.total(p.total)),p.value!==!1&&(g.debug("Current value set in settings",p.value),g.set.value(p.value),g.set.progress(g.value)),p.percent!==!1&&(g.debug("Current percent set in settings",p.percent),g.set.percent(p.percent))}},bind:{transitionEnd:function(e){var t=g.get.transitionEnd();V.one(t+x,function(t){clearTimeout(g.failSafeTimer),e.call(this,t)}),g.failSafeTimer=setTimeout(function(){V.triggerHandler(t)},p.duration+p.failSafeDelay),g.verbose("Adding fail safe timer",g.timer)}},increment:function(e){var t,n,r;g.has.total()?(n=g.get.value(),e=e||1,r=n+e):(n=g.get.percent(),e=e||g.get.randomValue(),r=n+e,t=100,g.debug("Incrementing percentage by",n,r)),r=g.get.normalizedValue(r),g.set.progress(r)},decrement:function(e){var t,n,r=g.get.total();r?(t=g.get.value(),e=e||1,n=t-e,g.debug("Decrementing value by",e,t)):(t=g.get.percent(),e=e||g.get.randomValue(),n=t-e,g.debug("Decrementing percentage by",e,t)),n=g.get.normalizedValue(n),g.set.progress(n)},has:{progressPoll:function(){return g.progressPoll},total:function(){return g.get.total()!==!1}},get:{text:function(e){var t=g.value||0,n=g.total||0,r=M?g.get.displayPercent():g.percent||0,a=g.total>0?n-t:100-r;return e=e||"",e=e.replace("{value}",t).replace("{total}",n).replace("{left}",a).replace("{percent}",r),g.verbose("Adding variables to progress bar text",e),e},normalizedValue:function(e){if(e<0)return g.debug("Value cannot decrement below 0"),0;if(g.has.total()){if(e>g.total)return g.debug("Value cannot increment above total",g.total),g.total}else if(e>100)return g.debug("Value cannot increment above 100 percent"),100;return e},updateInterval:function(){return"auto"==p.updateInterval?p.duration:p.updateInterval},randomValue:function(){return g.debug("Generating random increment percentage"),Math.floor(Math.random()*p.random.max+p.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e},transitionEnd:function(){var e,t=n.createElement("element"),a={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in a)if(t.style[e]!==r)return a[e]},displayPercent:function(){var e=V.width(),t=w.width(),n=parseInt(V.css("min-width"),10),r=e>n?e/t*100:g.percent;return p.precision>0?Math.round(r*(10*p.precision))/(10*p.precision):Math.round(r)},percent:function(){return g.percent||0},value:function(){return g.nextValue||g.value||0},total:function(){return g.total||!1}},create:{progressPoll:function(){g.progressPoll=setTimeout(function(){g.update.toNextValue(),g.remove.progressPoll()},g.get.updateInterval())}},is:{complete:function(){return g.is.success()||g.is.warning()||g.is.error()},success:function(){return w.hasClass(v.success)},warning:function(){return w.hasClass(v.warning)},error:function(){return w.hasClass(v.error)},active:function(){return w.hasClass(v.active)},visible:function(){return w.is(":visible")}},remove:{progressPoll:function(){g.verbose("Removing progress poll timer"),g.progressPoll&&(clearTimeout(g.progressPoll),delete g.progressPoll)},nextValue:function(){g.verbose("Removing progress value stored for next update"),delete g.nextValue},state:function(){g.verbose("Removing stored state"),delete g.total,delete g.percent,delete g.value},active:function(){g.verbose("Removing active state"),w.removeClass(v.active)},success:function(){g.verbose("Removing success state"),w.removeClass(v.success)},warning:function(){g.verbose("Removing warning state"),w.removeClass(v.warning)},error:function(){g.verbose("Removing error state"),w.removeClass(v.error)}},set:{barWidth:function(e){e>100?g.error(h.tooHigh,e):e<0?g.error(h.tooLow,e):(V.css("width",e+"%"),w.attr("data-percent",parseInt(e,10)))},duration:function(e){e=e||p.duration,e="number"==typeof e?e+"ms":e,g.verbose("Setting progress bar transition duration",e),V.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=p.precision>0?Math.round(e*(10*p.precision))/(10*p.precision):Math.round(e),g.percent=e,g.has.total()||(g.value=p.precision>0?Math.round(e/100*g.total*(10*p.precision))/(10*p.precision):Math.round(e/100*g.total*10)/10,p.limitValues&&(g.value=g.value>100?100:g.value<0?0:g.value)),g.set.barWidth(e),g.set.labelInterval(),g.set.labels(),p.onChange.call(P,e,g.value,g.total)},labelInterval:function(){var t=function(){g.verbose("Bar finished animating, removing continuous label updates"),clearInterval(g.interval),M=!1,g.set.labels()};clearInterval(g.interval),g.bind.transitionEnd(t),M=!0,g.interval=setInterval(function(){var t=e.contains(n.documentElement,P);t||(clearInterval(g.interval),M=!1),g.set.labels()},p.framerate)},labels:function(){g.verbose("Setting both bar progress and outer label text"),g.set.barLabel(),g.set.state()},label:function(e){e=e||"",e&&(e=g.get.text(e),g.verbose("Setting label to text",e),E.text(e))},state:function(e){e=e!==r?e:g.percent,100===e?p.autoSuccess&&!(g.is.warning()||g.is.error()||g.is.success())?(g.set.success(),g.debug("Automatically triggering success at 100%")):(g.verbose("Reached 100% removing active state"),g.remove.active(),g.remove.progressPoll()):e>0?(g.verbose("Adjusting active progress bar label",e),g.set.active()):(g.remove.active(),g.set.label(p.text.active))},barLabel:function(e){e!==r?C.text(g.get.text(e)):"ratio"==p.label&&g.total?(g.verbose("Adding ratio to bar label"),C.text(g.get.text(p.text.ratio))):"percent"==p.label&&(g.verbose("Adding percentage to bar label"),C.text(g.get.text(p.text.percent)))},active:function(e){e=e||p.text.active,g.debug("Setting active state"),p.showActivity&&!g.is.active()&&w.addClass(v.active),g.remove.warning(),g.remove.error(),g.remove.success(),e=p.onLabelUpdate("active",e,g.value,g.total),e&&g.set.label(e),g.bind.transitionEnd(function(){p.onActive.call(P,g.value,g.total)})},success:function(e){e=e||p.text.success||p.text.active,g.debug("Setting success state"),w.addClass(v.success),g.remove.active(),g.remove.warning(),g.remove.error(),g.complete(),p.text.success?(e=p.onLabelUpdate("success",e,g.value,g.total),g.set.label(e)):(e=p.onLabelUpdate("active",e,g.value,g.total),g.set.label(e)),g.bind.transitionEnd(function(){p.onSuccess.call(P,g.total)})},warning:function(e){e=e||p.text.warning,g.debug("Setting warning state"),w.addClass(v.warning),g.remove.active(),g.remove.success(),g.remove.error(),g.complete(),e=p.onLabelUpdate("warning",e,g.value,g.total),e&&g.set.label(e),g.bind.transitionEnd(function(){p.onWarning.call(P,g.value,g.total)})},error:function(e){e=e||p.text.error,g.debug("Setting error state"),w.addClass(v.error),g.remove.active(),g.remove.success(),g.remove.warning(),g.complete(),e=p.onLabelUpdate("error",e,g.value,g.total),e&&g.set.label(e),g.bind.transitionEnd(function(){p.onError.call(P,g.value,g.total)})},transitionEvent:function(){o=g.get.transitionEnd()},total:function(e){g.total=e},value:function(e){g.value=e},progress:function(e){g.has.progressPoll()?(g.debug("Updated within interval, setting next update to use new value",e),g.set.nextValue(e)):(g.debug("First update in progress update interval, immediately updating",e),g.update.progress(e),g.create.progressPoll())},nextValue:function(e){g.nextValue=e}},update:{toNextValue:function(){var e=g.nextValue;e&&(g.debug("Update interval complete using last updated value",e),g.update.progress(e),g.remove.nextValue())},progress:function(e){var t;e=g.get.numericValue(e),e===!1&&g.error(h.nonNumeric,e),e=g.get.normalizedValue(e),g.has.total()?(g.set.value(e),t=e/g.total*100,g.debug("Calculating percent complete from total",t),g.set.percent(t)):(t=e,g.debug("Setting value to exact percentage value",t),g.set.percent(t))}},setting:function(t,n){if(g.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,p,t);else{if(n===r)return p[t];e.isPlainObject(p[t])?e.extend(!0,p[t],n):p[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(n===r)return g[t];g[t]=n}},debug:function(){!p.silent&&p.debug&&(p.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,p.name+":"),g.debug.apply(console,arguments)))},verbose:function(){!p.silent&&p.verbose&&p.debug&&(p.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),g.verbose.apply(console,arguments)))},error:function(){p.silent||(g.error=Function.prototype.bind.call(console.error,console,p.name+":"),g.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;p.performance&&(t=(new Date).getTime(),r=s||t,n=t-r,s=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:P,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,500)},display:function(){var t=p.name+":",n=0;s=!1,clearTimeout(g.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",i&&(t+=" '"+i+"'"),(console.group!==r||console.table!==r)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,o){var i,s,l,c=T;return n=n||d,o=P||o,"string"==typeof t&&c!==r&&(t=t.split(/[\. ]/),i=t.length-1,e.each(t,function(n,a){var o=n!=i?a+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[o])&&n!=i)c=c[o];else{if(c[o]!==r)return s=c[o],!1;if(!e.isPlainObject(c[a])||n==i)return c[a]!==r?(s=c[a],!1):(g.error(h.method,t),!1);c=c[a]}})),e.isFunction(s)?l=s.apply(o,n):s!==r&&(l=s),e.isArray(a)?a.push(l):a!==r?a=[a,l]:l!==r&&(a=l),s}},u?(T===r&&g.initialize(),g.invoke(c)):(T!==r&&T.invoke("destroy"),g.initialize())}),a!==r?a:this},e.fn.progress.settings={name:"Progress",namespace:"progress",silent:!1,debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,updateInterval:"auto",autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,failSafeDelay:100,onLabelUpdate:function(e,t,n,r){return t},onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9wcm9ncmVzcy5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJNYXRoIiwic2VsZiIsIkZ1bmN0aW9uIiwiZm4iLCJwcm9ncmVzcyIsInBhcmFtZXRlcnMiLCJyZXR1cm5lZFZhbHVlIiwiJGFsbE1vZHVsZXMiLCJ0aGlzIiwibW9kdWxlU2VsZWN0b3IiLCJzZWxlY3RvciIsInRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsInBlcmZvcm1hbmNlIiwicXVlcnkiLCJhcmd1bWVudHMiLCJtZXRob2RJbnZva2VkIiwicXVlcnlBcmd1bWVudHMiLCJzbGljZSIsImNhbGwiLCJlYWNoIiwidHJhbnNpdGlvbkVuZCIsIm1vZHVsZSIsInNldHRpbmdzIiwiaXNQbGFpbk9iamVjdCIsImV4dGVuZCIsImNsYXNzTmFtZSIsIm1ldGFkYXRhIiwibmFtZXNwYWNlIiwiZXJyb3IiLCJldmVudE5hbWVzcGFjZSIsIm1vZHVsZU5hbWVzcGFjZSIsIiRtb2R1bGUiLCIkYmFyIiwiZmluZCIsImJhciIsIiRwcm9ncmVzcyIsIiRsYWJlbCIsImxhYmVsIiwiZWxlbWVudCIsImluc3RhbmNlIiwiZGF0YSIsImFuaW1hdGluZyIsImluaXRpYWxpemUiLCJkZWJ1ZyIsInNldCIsImR1cmF0aW9uIiwidHJhbnNpdGlvbkV2ZW50IiwicmVhZCIsImluc3RhbnRpYXRlIiwidmVyYm9zZSIsImRlc3Ryb3kiLCJjbGVhckludGVydmFsIiwiaW50ZXJ2YWwiLCJyZW1vdmUiLCJzdGF0ZSIsInJlbW92ZURhdGEiLCJyZXNldCIsIm5leHRWYWx1ZSIsInVwZGF0ZSIsImNvbXBsZXRlIiwicGVyY2VudCIsInByb2dyZXNzUG9sbCIsInRvdGFsIiwidmFsdWUiLCJiaW5kIiwiY2FsbGJhY2siLCJnZXQiLCJvbmUiLCJldmVudCIsImNsZWFyVGltZW91dCIsImZhaWxTYWZlVGltZXIiLCJzZXRUaW1lb3V0IiwidHJpZ2dlckhhbmRsZXIiLCJmYWlsU2FmZURlbGF5IiwidGltZXIiLCJpbmNyZW1lbnQiLCJpbmNyZW1lbnRWYWx1ZSIsIm1heFZhbHVlIiwic3RhcnRWYWx1ZSIsIm5ld1ZhbHVlIiwiaGFzIiwicmFuZG9tVmFsdWUiLCJub3JtYWxpemVkVmFsdWUiLCJkZWNyZW1lbnQiLCJkZWNyZW1lbnRWYWx1ZSIsInRleHQiLCJ0ZW1wbGF0ZVRleHQiLCJkaXNwbGF5UGVyY2VudCIsImxlZnQiLCJyZXBsYWNlIiwidXBkYXRlSW50ZXJ2YWwiLCJmbG9vciIsInJhbmRvbSIsIm1heCIsIm1pbiIsIm51bWVyaWNWYWx1ZSIsInRyYW5zaXRpb24iLCJjcmVhdGVFbGVtZW50IiwidHJhbnNpdGlvbnMiLCJPVHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJXZWJraXRUcmFuc2l0aW9uIiwic3R5bGUiLCJiYXJXaWR0aCIsIndpZHRoIiwidG90YWxXaWR0aCIsIm1pbkRpc3BsYXkiLCJwYXJzZUludCIsImNzcyIsInByZWNpc2lvbiIsInJvdW5kIiwiY3JlYXRlIiwidG9OZXh0VmFsdWUiLCJpcyIsInN1Y2Nlc3MiLCJ3YXJuaW5nIiwiaGFzQ2xhc3MiLCJhY3RpdmUiLCJ2aXNpYmxlIiwicmVtb3ZlQ2xhc3MiLCJ0b29IaWdoIiwidG9vTG93IiwiYXR0ciIsInRyYW5zaXRpb24tZHVyYXRpb24iLCJsaW1pdFZhbHVlcyIsImxhYmVsSW50ZXJ2YWwiLCJsYWJlbHMiLCJvbkNoYW5nZSIsImFuaW1hdGlvbkNhbGxiYWNrIiwic2V0SW50ZXJ2YWwiLCJpc0luRE9NIiwiY29udGFpbnMiLCJkb2N1bWVudEVsZW1lbnQiLCJmcmFtZXJhdGUiLCJiYXJMYWJlbCIsImF1dG9TdWNjZXNzIiwicmF0aW8iLCJzaG93QWN0aXZpdHkiLCJhZGRDbGFzcyIsIm9uTGFiZWxVcGRhdGUiLCJvbkFjdGl2ZSIsIm9uU3VjY2VzcyIsIm9uV2FybmluZyIsIm9uRXJyb3IiLCJ0b3RhbFZhbHVlIiwicGVyY2VudENvbXBsZXRlIiwibm9uTnVtZXJpYyIsInNldHRpbmciLCJuYW1lIiwiaW50ZXJuYWwiLCJzaWxlbnQiLCJsb2ciLCJwcm90b3R5cGUiLCJjb25zb2xlIiwiaW5mbyIsImFwcGx5IiwibWVzc2FnZSIsImN1cnJlbnRUaW1lIiwiZXhlY3V0aW9uVGltZSIsInByZXZpb3VzVGltZSIsInB1c2giLCJOYW1lIiwiQXJndW1lbnRzIiwiRWxlbWVudCIsIkV4ZWN1dGlvbiBUaW1lIiwiZGlzcGxheSIsInRpdGxlIiwidG90YWxUaW1lIiwiaW5kZXgiLCJncm91cCIsInRhYmxlIiwibGVuZ3RoIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsImludm9rZSIsInBhc3NlZEFyZ3VtZW50cyIsImNvbnRleHQiLCJtYXhEZXB0aCIsImZvdW5kIiwicmVzcG9uc2UiLCJvYmplY3QiLCJzcGxpdCIsImRlcHRoIiwiY2FtZWxDYXNlVmFsdWUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsIm1ldGhvZCIsImlzRnVuY3Rpb24iLCJpc0FycmF5IiwicmVnRXhwIiwidmFyaWFibGUiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQVVDLFNBQVdBLEVBQUdDLEVBQVFDLEVBQVVDLEdBRWpDLFlBRUFGLEdBQTJCLG1CQUFWQSxJQUF5QkEsRUFBT0csTUFBUUEsS0FDckRILEVBQ2dCLG1CQUFSSSxPQUF1QkEsS0FBS0QsTUFBUUEsS0FDMUNDLEtBQ0FDLFNBQVMsZ0JBSWMsb0JBQVZMLElBQXlCQSxFQUFPRyxNQUFRQSxLQUNyREgsRUFDZ0IsbUJBQVJJLE9BQXVCQSxLQUFLRCxNQUFRQSxLQUMxQ0MsS0FDQUMsU0FBUyxnQkFHakJOLEdBQUVPLEdBQUdDLFNBQVcsU0FBU0MsR0FDdkIsR0FZRUMsR0FYQUMsRUFBaUJYLEVBQUVZLE1BRW5CQyxFQUFpQkYsRUFBWUcsVUFBWSxHQUV6Q0MsR0FBaUIsR0FBSUMsT0FBT0MsVUFDNUJDLEtBRUFDLEVBQWlCQyxVQUFVLEdBQzNCQyxFQUFrQyxnQkFBVEYsR0FDekJHLEtBQW9CQyxNQUFNQyxLQUFLSixVQUFXLEVBK3hCNUMsT0ExeEJBVCxHQUNH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Uy9FLEtBQ3pCOEUsU0FBZ0IsU0FBUzdFLEVBQU9ELEtBQ2hDaUYsUUFBZ0IsU0FBU2hGLEVBQU9ELEtBQ2hDZ0YsVUFBZ0IsU0FBUy9FLEVBQU9ELEtBRWhDbEMsT0FDRThKLE9BQWEsd0NBQ2J4QyxXQUFhLGdDQUNiMUIsUUFBYSxnQ0FDYkMsT0FBYSwrQkFHZm9FLFFBQ0VDLFNBQVUscUJBR1pwSyxVQUNFa0MsUUFBVSxVQUNWRSxNQUFVLFFBQ1ZDLE1BQVUsU0FHWnZELFVBQ0UwQixJQUFXLFNBQ1hHLE1BQVcsV0FDWG5DLFNBQVcsb0JBR2JtRixNQUNFZ0MsUUFBVSxFQUNWekYsT0FBVSxFQUNWc0YsU0FBVSxFQUNWQyxTQUFVLEVBQ1Z2RCxRQUFVLGFBQ1Y0RSxNQUFVLHNCQUdaL0csV0FDRTRGLE9BQVUsU0FDVnpGLE1BQVUsUUFDVnNGLFFBQVUsVUFDVkMsUUFBVSxhQU1WNEUsT0FBUXBNLE9BQVFDIiwiZmlsZSI6InZlbmRvci9wcm9ncmVzcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogIyBTZW1hbnRpYyBVSSAyLjIuNyAtIFByb2dyZXNzXG4gKiBodHRwOi8vZ2l0aHViLmNvbS9zZW1hbnRpYy1vcmcvc2VtYW50aWMtdWkvXG4gKlxuICpcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqL1xuXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbndpbmRvdyA9ICh0eXBlb2Ygd2luZG93ICE9ICd1bmRlZmluZWQnICYmIHdpbmRvdy5NYXRoID09IE1hdGgpXG4gID8gd2luZG93XG4gIDogKHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoKVxuICAgID8gc2VsZlxuICAgIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKVxuO1xuXG52YXJcbiAgZ2xvYmFsID0gKHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aClcbiAgICA/IHdpbmRvd1xuICAgIDogKHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoKVxuICAgICAgPyBzZWxmXG4gICAgICA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKClcbjtcblxuJC5mbi5wcm9ncmVzcyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgdmFyXG4gICAgJGFsbE1vZHVsZXMgICAgPSAkKHRoaXMpLFxuXG4gICAgbW9kdWxlU2VsZWN0b3IgPSAkYWxsTW9kdWxlcy5zZWxlY3RvciB8fCAnJyxcblxuICAgIHRpbWUgICAgICAgICAgID0gbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgcGVyZm9ybWFuY2UgICAgPSBbXSxcblxuICAgIHF1ZXJ5ICAgICAgICAgID0gYXJndW1lbnRzWzBdLFxuICAgIG1ldGhvZEludm9rZWQgID0gKHR5cGVvZiBxdWVyeSA9PSAnc3RyaW5nJyksXG4gICAgcXVlcnlBcmd1bWVudHMgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksXG5cbiAgICByZXR1cm5lZFZhbHVlXG4gIDtcblxuICAkYWxsTW9kdWxlc1xuICAgIC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyXG4gICAgICAgIHNldHRpbmdzICAgICAgICAgID0gKCAkLmlzUGxhaW5PYmplY3QocGFyYW1ldGVycykgKVxuICAgICAgICAgID8gJC5leHRlbmQodHJ1ZSwge30sICQuZm4ucHJvZ3Jlc3Muc2V0dGluZ3MsIHBhcmFtZXRlcnMpXG4gICAgICAgICAgOiAkLmV4dGVuZCh7fSwgJC5mbi5wcm9ncmVzcy5zZXR0aW5ncyksXG5cbiAgICAgICAgY2xhc3NOYW1lICAgICAgID0gc2V0dGluZ3MuY2xhc3NOYW1lLFxuICAgICAgICBtZXRhZGF0YSAgICAgICAgPSBzZXR0aW5ncy5tZXRhZGF0YSxcbiAgICAgICAgbmFtZXNwYWNlICAgICAgID0gc2V0dGluZ3MubmFtZXNwYWNlLFxuICAgICAgICBzZWxlY3RvciAgICAgICAgPSBzZXR0aW5ncy5zZWxlY3RvcixcbiAgICAgICAgZXJyb3IgICAgICAgICAgID0gc2V0dGluZ3MuZXJyb3IsXG5cbiAgICAgICAgZXZlbnROYW1lc3BhY2UgID0gJy4nICsgbmFtZXNwYWNlLFxuICAgICAgICBtb2R1bGVOYW1lc3BhY2UgPSAnbW9kdWxlLScgKyBuYW1lc3BhY2UsXG5cbiAgICAgICAgJG1vZHVsZSAgICAgICAgID0gJCh0aGlzKSxcbiAgICAgICAgJGJhciAgICAgICAgICAgID0gJCh0aGlzKS5maW5kKHNlbGVjdG9yLmJhciksXG4gICAgICAgICRwcm9ncmVzcyAgICAgICA9ICQodGhpcykuZmluZChzZWxlY3Rvci5wcm9ncmVzcyksXG4gICAgICAgICRsYWJlbCAgICAgICAgICA9ICQodGhpcykuZmluZChzZWxlY3Rvci5sYWJlbCksXG5cbiAgICAgICAgZWxlbWVudCAgICAgICAgID0gdGhpcyxcbiAgICAgICAgaW5zdGFuY2UgICAgICAgID0gJG1vZHVsZS5kYXRhKG1vZHVsZU5hbWVzcGFjZSksXG5cbiAgICAgICAgYW5pbWF0aW5nID0gZmFsc2UsXG4gICAgICAgIHRyYW5zaXRpb25FbmQsXG4gICAgICAgIG1vZHVsZVxuICAgICAgO1xuXG4gICAgICBtb2R1bGUgPSB7XG5cbiAgICAgICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbW9kdWxlLmRlYnVnKCdJbml0aWFsaXppbmcgcHJvZ3Jlc3MgYmFyJywgc2V0dGluZ3MpO1xuXG4gICAgICAgICAgbW9kdWxlLnNldC5kdXJhdGlvbigpO1xuICAgICAgICAgIG1vZHVsZS5zZXQudHJhbnNpdGlvbkV2ZW50KCk7XG5cbiAgICAgICAgICBtb2R1bGUucmVhZC5tZXRhZGF0YSgpO1xuICAgICAgICAgIG1vZHVsZS5yZWFkLnNldHRpbmdzKCk7XG5cbiAgICAgICAgICBtb2R1bGUuaW5zdGFudGlhdGUoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbnN0YW50aWF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1N0b3JpbmcgaW5zdGFuY2Ugb2YgcHJvZ3Jlc3MnLCBtb2R1bGUpO1xuICAgICAgICAgIGluc3RhbmNlID0gbW9kdWxlO1xuICAgICAgICAgICRtb2R1bGVcbiAgICAgICAgICAgIC5kYXRhKG1vZHVsZU5hbWVzcGFjZSwgbW9kdWxlKVxuICAgICAgICAgIDtcbiAgICAgICAgfSxcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ0Rlc3Ryb3lpbmcgcHJldmlvdXMgcHJvZ3Jlc3MgZm9yJywgJG1vZHVsZSk7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnN0YW5jZS5pbnRlcnZhbCk7XG4gICAgICAgICAgbW9kdWxlLnJlbW92ZS5zdGF0ZSgpO1xuICAgICAgICAgICRtb2R1bGUucmVtb3ZlRGF0YShtb2R1bGVOYW1lc3BhY2UpO1xuICAgICAgICAgIGluc3RhbmNlID0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBtb2R1bGUucmVtb3ZlLm5leHRWYWx1ZSgpO1xuICAgICAgICAgIG1vZHVsZS51cGRhdGUucHJvZ3Jlc3MoMCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKG1vZHVsZS5wZXJjZW50ID09PSB1bmRlZmluZWQgfHwgbW9kdWxlLnBlcmNlbnQgPCAxMDApIHtcbiAgICAgICAgICAgIG1vZHVsZS5yZW1vdmUucHJvZ3Jlc3NQb2xsKCk7XG4gICAgICAgICAgICBtb2R1bGUuc2V0LnBlcmNlbnQoMTAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVhZDoge1xuICAgICAgICAgIG1ldGFkYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBkYXRhID0ge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQgOiAkbW9kdWxlLmRhdGEobWV0YWRhdGEucGVyY2VudCksXG4gICAgICAgICAgICAgICAgdG90YWwgICA6ICRtb2R1bGUuZGF0YShtZXRhZGF0YS50b3RhbCksXG4gICAgICAgICAgICAgICAgdmFsdWUgICA6ICRtb2R1bGUuZGF0YShtZXRhZGF0YS52YWx1ZSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYoZGF0YS5wZXJjZW50KSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnQ3VycmVudCBwZXJjZW50IHZhbHVlIHNldCBmcm9tIG1ldGFkYXRhJywgZGF0YS5wZXJjZW50KTtcbiAgICAgICAgICAgICAgbW9kdWxlLnNldC5wZXJjZW50KGRhdGEucGVyY2VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihkYXRhLnRvdGFsKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnVG90YWwgdmFsdWUgc2V0IGZyb20gbWV0YWRhdGEnLCBkYXRhLnRvdGFsKTtcbiAgICAgICAgICAgICAgbW9kdWxlLnNldC50b3RhbChkYXRhLnRvdGFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGRhdGEudmFsdWUpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdDdXJyZW50IHZhbHVlIHNldCBmcm9tIG1ldGFkYXRhJywgZGF0YS52YWx1ZSk7XG4gICAgICAgICAgICAgIG1vZHVsZS5zZXQudmFsdWUoZGF0YS52YWx1ZSk7XG4gICAgICAgICAgICAgIG1vZHVsZS5zZXQucHJvZ3Jlc3MoZGF0YS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXR0aW5nczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy50b3RhbCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdDdXJyZW50IHRvdGFsIHNldCBpbiBzZXR0aW5ncycsIHNldHRpbmdzLnRvdGFsKTtcbiAgICAgICAgICAgICAgbW9kdWxlLnNldC50b3RhbChzZXR0aW5ncy50b3RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihzZXR0aW5ncy52YWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdDdXJyZW50IHZhbHVlIHNldCBpbiBzZXR0aW5ncycsIHNldHRpbmdzLnZhbHVlKTtcbiAgICAgICAgICAgICAgbW9kdWxlLnNldC52YWx1ZShzZXR0aW5ncy52YWx1ZSk7XG4gICAgICAgICAgICAgIG1vZHVsZS5zZXQucHJvZ3Jlc3MobW9kdWxlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHNldHRpbmdzLnBlcmNlbnQgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnQ3VycmVudCBwZXJjZW50IHNldCBpbiBzZXR0aW5ncycsIHNldHRpbmdzLnBlcmNlbnQpO1xuICAgICAgICAgICAgICBtb2R1bGUuc2V0LnBlcmNlbnQoc2V0dGluZ3MucGVyY2VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGJpbmQ6IHtcbiAgICAgICAgICB0cmFuc2l0aW9uRW5kOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgIHRyYW5zaXRpb25FbmQgPSBtb2R1bGUuZ2V0LnRyYW5zaXRpb25FbmQoKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgJGJhclxuICAgICAgICAgICAgICAub25lKHRyYW5zaXRpb25FbmQgKyBldmVudE5hbWVzcGFjZSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobW9kdWxlLmZhaWxTYWZlVGltZXIpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgbW9kdWxlLmZhaWxTYWZlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAkYmFyLnRyaWdnZXJIYW5kbGVyKHRyYW5zaXRpb25FbmQpO1xuICAgICAgICAgICAgfSwgc2V0dGluZ3MuZHVyYXRpb24gKyBzZXR0aW5ncy5mYWlsU2FmZURlbGF5KTtcbiAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdBZGRpbmcgZmFpbCBzYWZlIHRpbWVyJywgbW9kdWxlLnRpbWVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaW5jcmVtZW50OiBmdW5jdGlvbihpbmNyZW1lbnRWYWx1ZSkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgbWF4VmFsdWUsXG4gICAgICAgICAgICBzdGFydFZhbHVlLFxuICAgICAgICAgICAgbmV3VmFsdWVcbiAgICAgICAgICA7XG4gICAgICAgICAgaWYoIG1vZHVsZS5oYXMudG90YWwoKSApIHtcbiAgICAgICAgICAgIHN0YXJ0VmFsdWUgICAgID0gbW9kdWxlLmdldC52YWx1ZSgpO1xuICAgICAgICAgICAgaW5jcmVtZW50VmFsdWUgPSBpbmNyZW1lbnRWYWx1ZSB8fCAxO1xuICAgICAgICAgICAgbmV3VmFsdWUgICAgICAgPSBzdGFydFZhbHVlICsgaW5jcmVtZW50VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhcnRWYWx1ZSAgICAgPSBtb2R1bGUuZ2V0LnBlcmNlbnQoKTtcbiAgICAgICAgICAgIGluY3JlbWVudFZhbHVlID0gaW5jcmVtZW50VmFsdWUgfHwgbW9kdWxlLmdldC5yYW5kb21WYWx1ZSgpO1xuXG4gICAgICAgICAgICBuZXdWYWx1ZSAgICAgICA9IHN0YXJ0VmFsdWUgKyBpbmNyZW1lbnRWYWx1ZTtcbiAgICAgICAgICAgIG1heFZhbHVlICAgICAgID0gMTAwO1xuICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdJbmNyZW1lbnRpbmcgcGVyY2VudGFnZSBieScsIHN0YXJ0VmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3VmFsdWUgPSBtb2R1bGUuZ2V0Lm5vcm1hbGl6ZWRWYWx1ZShuZXdWYWx1ZSk7XG4gICAgICAgICAgbW9kdWxlLnNldC5wcm9ncmVzcyhuZXdWYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlY3JlbWVudDogZnVuY3Rpb24oZGVjcmVtZW50VmFsdWUpIHtcbiAgICAgICAgICB2YXJcbiAgICAgICAgICAgIHRvdGFsICAgICA9IG1vZHVsZS5nZXQudG90YWwoKSxcbiAgICAgICAgICAgIHN0YXJ0VmFsdWUsXG4gICAgICAgICAgICBuZXdWYWx1ZVxuICAgICAgICAgIDtcbiAgICAgICAgICBpZih0b3RhbCkge1xuICAgICAgICAgICAgc3RhcnRWYWx1ZSAgICAgPSAgbW9kdWxlLmdldC52YWx1ZSgpO1xuICAgICAgICAgICAgZGVjcmVtZW50VmFsdWUgPSAgZGVjcmVtZW50VmFsdWUgfHwgMTtcbiAgICAgICAgICAgIG5ld1ZhbHVlICAgICAgID0gIHN0YXJ0VmFsdWUgLSBkZWNyZW1lbnRWYWx1ZTtcbiAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnRGVjcmVtZW50aW5nIHZhbHVlIGJ5JywgZGVjcmVtZW50VmFsdWUsIHN0YXJ0VmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0VmFsdWUgICAgID0gIG1vZHVsZS5nZXQucGVyY2VudCgpO1xuICAgICAgICAgICAgZGVjcmVtZW50VmFsdWUgPSAgZGVjcmVtZW50VmFsdWUgfHwgbW9kdWxlLmdldC5yYW5kb21WYWx1ZSgpO1xuICAgICAgICAgICAgbmV3VmFsdWUgICAgICAgPSAgc3RhcnRWYWx1ZSAtIGRlY3JlbWVudFZhbHVlO1xuICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdEZWNyZW1lbnRpbmcgcGVyY2VudGFnZSBieScsIGRlY3JlbWVudFZhbHVlLCBzdGFydFZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3VmFsdWUgPSBtb2R1bGUuZ2V0Lm5vcm1hbGl6ZWRWYWx1ZShuZXdWYWx1ZSk7XG4gICAgICAgICAgbW9kdWxlLnNldC5wcm9ncmVzcyhuZXdWYWx1ZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGFzOiB7XG4gICAgICAgICAgcHJvZ3Jlc3NQb2xsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGUucHJvZ3Jlc3NQb2xsO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG90YWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIChtb2R1bGUuZ2V0LnRvdGFsKCkgIT09IGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgdGV4dDogZnVuY3Rpb24odGVtcGxhdGVUZXh0KSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgdmFsdWUgICA9IG1vZHVsZS52YWx1ZSAgICAgICAgICAgICAgICB8fCAwLFxuICAgICAgICAgICAgICB0b3RhbCAgID0gbW9kdWxlLnRvdGFsICAgICAgICAgICAgICAgIHx8IDAsXG4gICAgICAgICAgICAgIHBlcmNlbnQgPSAoYW5pbWF0aW5nKVxuICAgICAgICAgICAgICAgID8gbW9kdWxlLmdldC5kaXNwbGF5UGVyY2VudCgpXG4gICAgICAgICAgICAgICAgOiBtb2R1bGUucGVyY2VudCB8fCAwLFxuICAgICAgICAgICAgICBsZWZ0ID0gKG1vZHVsZS50b3RhbCA+IDApXG4gICAgICAgICAgICAgICAgPyAodG90YWwgLSB2YWx1ZSlcbiAgICAgICAgICAgICAgICA6ICgxMDAgLSBwZXJjZW50KVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgdGVtcGxhdGVUZXh0ID0gdGVtcGxhdGVUZXh0IHx8ICcnO1xuICAgICAgICAgICAgdGVtcGxhdGVUZXh0ID0gdGVtcGxhdGVUZXh0XG4gICAgICAgICAgICAgIC5yZXBsYWNlKCd7dmFsdWV9JywgdmFsdWUpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCd7dG90YWx9JywgdG90YWwpXG4gICAgICAgICAgICAgIC5yZXBsYWNlKCd7bGVmdH0nLCBsZWZ0KVxuICAgICAgICAgICAgICAucmVwbGFjZSgne3BlcmNlbnR9JywgcGVyY2VudClcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdBZGRpbmcgdmFyaWFibGVzIHRvIHByb2dyZXNzIGJhciB0ZXh0JywgdGVtcGxhdGVUZXh0KTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZVRleHQ7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIG5vcm1hbGl6ZWRWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGlmKHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgICBtb2R1bGUuZGVidWcoJ1ZhbHVlIGNhbm5vdCBkZWNyZW1lbnQgYmVsb3cgMCcpO1xuICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG1vZHVsZS5oYXMudG90YWwoKSkge1xuICAgICAgICAgICAgICBpZih2YWx1ZSA+IG1vZHVsZS50b3RhbCkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnVmFsdWUgY2Fubm90IGluY3JlbWVudCBhYm92ZSB0b3RhbCcsIG1vZHVsZS50b3RhbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZS50b3RhbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZih2YWx1ZSA+IDEwMCApIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdWYWx1ZSBjYW5ub3QgaW5jcmVtZW50IGFib3ZlIDEwMCBwZXJjZW50Jyk7XG4gICAgICAgICAgICAgIHJldHVybiAxMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHVwZGF0ZUludGVydmFsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmKHNldHRpbmdzLnVwZGF0ZUludGVydmFsID09ICdhdXRvJykge1xuICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MuZHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MudXBkYXRlSW50ZXJ2YWw7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIHJhbmRvbVZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnR2VuZXJhdGluZyByYW5kb20gaW5jcmVtZW50IHBlcmNlbnRhZ2UnKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogc2V0dGluZ3MucmFuZG9tLm1heCkgKyBzZXR0aW5ncy5yYW5kb20ubWluKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgbnVtZXJpY1ZhbHVlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICA/ICh2YWx1ZS5yZXBsYWNlKC9bXlxcZC5dL2csICcnKSAhPT0gJycpXG4gICAgICAgICAgICAgICAgPyArKHZhbHVlLnJlcGxhY2UoL1teXFxkLl0vZywgJycpKVxuICAgICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgICAgICAgOiB2YWx1ZVxuICAgICAgICAgICAgO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICB0cmFuc2l0aW9uRW5kOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBlbGVtZW50ICAgICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2VsZW1lbnQnKSxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24nICAgICAgIDondHJhbnNpdGlvbmVuZCcsXG4gICAgICAgICAgICAgICAgJ09UcmFuc2l0aW9uJyAgICAgIDonb1RyYW5zaXRpb25FbmQnLFxuICAgICAgICAgICAgICAgICdNb3pUcmFuc2l0aW9uJyAgICA6J3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgICAgICdXZWJraXRUcmFuc2l0aW9uJyA6J3dlYmtpdFRyYW5zaXRpb25FbmQnXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHRyYW5zaXRpb25cbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGZvcih0cmFuc2l0aW9uIGluIHRyYW5zaXRpb25zKXtcbiAgICAgICAgICAgICAgaWYoIGVsZW1lbnQuc3R5bGVbdHJhbnNpdGlvbl0gIT09IHVuZGVmaW5lZCApe1xuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2l0aW9uc1t0cmFuc2l0aW9uXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvLyBnZXRzIGN1cnJlbnQgZGlzcGxheWVkIHBlcmNlbnRhZ2UgKGlmIGFuaW1hdGluZyB2YWx1ZXMgdGhpcyBpcyB0aGUgaW50ZXJtZWRpYXJ5IHZhbHVlKVxuICAgICAgICAgIGRpc3BsYXlQZXJjZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBiYXJXaWR0aCAgICAgICA9ICRiYXIud2lkdGgoKSxcbiAgICAgICAgICAgICAgdG90YWxXaWR0aCAgICAgPSAkbW9kdWxlLndpZHRoKCksXG4gICAgICAgICAgICAgIG1pbkRpc3BsYXkgICAgID0gcGFyc2VJbnQoJGJhci5jc3MoJ21pbi13aWR0aCcpLCAxMCksXG4gICAgICAgICAgICAgIGRpc3BsYXlQZXJjZW50ID0gKGJhcldpZHRoID4gbWluRGlzcGxheSlcbiAgICAgICAgICAgICAgICA/IChiYXJXaWR0aCAvIHRvdGFsV2lkdGggKiAxMDApXG4gICAgICAgICAgICAgICAgOiBtb2R1bGUucGVyY2VudFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgcmV0dXJuIChzZXR0aW5ncy5wcmVjaXNpb24gPiAwKVxuICAgICAgICAgICAgICA/IE1hdGgucm91bmQoZGlzcGxheVBlcmNlbnQgKiAoMTAgKiBzZXR0aW5ncy5wcmVjaXNpb24pKSAvICgxMCAqIHNldHRpbmdzLnByZWNpc2lvbilcbiAgICAgICAgICAgICAgOiBNYXRoLnJvdW5kKGRpc3BsYXlQZXJjZW50KVxuICAgICAgICAgICAgO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICBwZXJjZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGUucGVyY2VudCB8fCAwO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZS5uZXh0VmFsdWUgfHwgbW9kdWxlLnZhbHVlIHx8IDA7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0b3RhbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlLnRvdGFsIHx8IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBjcmVhdGU6IHtcbiAgICAgICAgICBwcm9ncmVzc1BvbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbW9kdWxlLnByb2dyZXNzUG9sbCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS51cGRhdGUudG9OZXh0VmFsdWUoKTtcbiAgICAgICAgICAgICAgbW9kdWxlLnJlbW92ZS5wcm9ncmVzc1BvbGwoKTtcbiAgICAgICAgICAgIH0sIG1vZHVsZS5nZXQudXBkYXRlSW50ZXJ2YWwoKSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICBpczoge1xuICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGUuaXMuc3VjY2VzcygpIHx8IG1vZHVsZS5pcy53YXJuaW5nKCkgfHwgbW9kdWxlLmlzLmVycm9yKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAkbW9kdWxlLmhhc0NsYXNzKGNsYXNzTmFtZS5zdWNjZXNzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHdhcm5pbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRtb2R1bGUuaGFzQ2xhc3MoY2xhc3NOYW1lLndhcm5pbmcpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRtb2R1bGUuaGFzQ2xhc3MoY2xhc3NOYW1lLmVycm9yKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gJG1vZHVsZS5oYXNDbGFzcyhjbGFzc05hbWUuYWN0aXZlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHZpc2libGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuICRtb2R1bGUuaXMoJzp2aXNpYmxlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHJlbW92ZToge1xuICAgICAgICAgIHByb2dyZXNzUG9sbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnUmVtb3ZpbmcgcHJvZ3Jlc3MgcG9sbCB0aW1lcicpO1xuICAgICAgICAgICAgaWYobW9kdWxlLnByb2dyZXNzUG9sbCkge1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobW9kdWxlLnByb2dyZXNzUG9sbCk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBtb2R1bGUucHJvZ3Jlc3NQb2xsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmV4dFZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdSZW1vdmluZyBwcm9ncmVzcyB2YWx1ZSBzdG9yZWQgZm9yIG5leHQgdXBkYXRlJyk7XG4gICAgICAgICAgICBkZWxldGUgbW9kdWxlLm5leHRWYWx1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdSZW1vdmluZyBzdG9yZWQgc3RhdGUnKTtcbiAgICAgICAgICAgIGRlbGV0ZSBtb2R1bGUudG90YWw7XG4gICAgICAgICAgICBkZWxldGUgbW9kdWxlLnBlcmNlbnQ7XG4gICAgICAgICAgICBkZWxldGUgbW9kdWxlLnZhbHVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdSZW1vdmluZyBhY3RpdmUgc3RhdGUnKTtcbiAgICAgICAgICAgICRtb2R1bGUucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lLmFjdGl2ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdSZW1vdmluZyBzdWNjZXNzIHN0YXRlJyk7XG4gICAgICAgICAgICAkbW9kdWxlLnJlbW92ZUNsYXNzKGNsYXNzTmFtZS5zdWNjZXNzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHdhcm5pbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1JlbW92aW5nIHdhcm5pbmcgc3RhdGUnKTtcbiAgICAgICAgICAgICRtb2R1bGUucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lLndhcm5pbmcpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1JlbW92aW5nIGVycm9yIHN0YXRlJyk7XG4gICAgICAgICAgICAkbW9kdWxlLnJlbW92ZUNsYXNzKGNsYXNzTmFtZS5lcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldDoge1xuICAgICAgICAgIGJhcldpZHRoOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYodmFsdWUgPiAxMDApIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmVycm9yKGVycm9yLnRvb0hpZ2gsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgICBtb2R1bGUuZXJyb3IoZXJyb3IudG9vTG93LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgJGJhclxuICAgICAgICAgICAgICAgIC5jc3MoJ3dpZHRoJywgdmFsdWUgKyAnJScpXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgJG1vZHVsZVxuICAgICAgICAgICAgICAgIC5hdHRyKCdkYXRhLXBlcmNlbnQnLCBwYXJzZUludCh2YWx1ZSwgMTApKVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkdXJhdGlvbjogZnVuY3Rpb24oZHVyYXRpb24pIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gZHVyYXRpb24gfHwgc2V0dGluZ3MuZHVyYXRpb247XG4gICAgICAgICAgICBkdXJhdGlvbiA9ICh0eXBlb2YgZHVyYXRpb24gPT0gJ251bWJlcicpXG4gICAgICAgICAgICAgID8gZHVyYXRpb24gKyAnbXMnXG4gICAgICAgICAgICAgIDogZHVyYXRpb25cbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdTZXR0aW5nIHByb2dyZXNzIGJhciB0cmFuc2l0aW9uIGR1cmF0aW9uJywgZHVyYXRpb24pO1xuICAgICAgICAgICAgJGJhclxuICAgICAgICAgICAgICAuY3NzKHtcbiAgICAgICAgICAgICAgICAndHJhbnNpdGlvbi1kdXJhdGlvbic6ICBkdXJhdGlvblxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgcGVyY2VudDogZnVuY3Rpb24ocGVyY2VudCkge1xuICAgICAgICAgICAgcGVyY2VudCA9ICh0eXBlb2YgcGVyY2VudCA9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgPyArKHBlcmNlbnQucmVwbGFjZSgnJScsICcnKSlcbiAgICAgICAgICAgICAgOiBwZXJjZW50XG4gICAgICAgICAgICA7XG4gICAgICAgICAgICAvLyByb3VuZCBkaXNwbGF5IHBlcmNlbnRhZ2VcbiAgICAgICAgICAgIHBlcmNlbnQgPSAoc2V0dGluZ3MucHJlY2lzaW9uID4gMClcbiAgICAgICAgICAgICAgPyBNYXRoLnJvdW5kKHBlcmNlbnQgKiAoMTAgKiBzZXR0aW5ncy5wcmVjaXNpb24pKSAvICgxMCAqIHNldHRpbmdzLnByZWNpc2lvbilcbiAgICAgICAgICAgICAgOiBNYXRoLnJvdW5kKHBlcmNlbnQpXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBtb2R1bGUucGVyY2VudCA9IHBlcmNlbnQ7XG4gICAgICAgICAgICBpZiggIW1vZHVsZS5oYXMudG90YWwoKSApIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnZhbHVlID0gKHNldHRpbmdzLnByZWNpc2lvbiA+IDApXG4gICAgICAgICAgICAgICAgPyBNYXRoLnJvdW5kKCAocGVyY2VudCAvIDEwMCkgKiBtb2R1bGUudG90YWwgKiAoMTAgKiBzZXR0aW5ncy5wcmVjaXNpb24pKSAvICgxMCAqIHNldHRpbmdzLnByZWNpc2lvbilcbiAgICAgICAgICAgICAgICA6IE1hdGgucm91bmQoIChwZXJjZW50IC8gMTAwKSAqIG1vZHVsZS50b3RhbCAqIDEwKSAvIDEwXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgaWYoc2V0dGluZ3MubGltaXRWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUudmFsdWUgPSAobW9kdWxlLnZhbHVlID4gMTAwKVxuICAgICAgICAgICAgICAgICAgPyAxMDBcbiAgICAgICAgICAgICAgICAgIDogKG1vZHVsZS52YWx1ZSA8IDApXG4gICAgICAgICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICAgICAgICA6IG1vZHVsZS52YWx1ZVxuICAgICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kdWxlLnNldC5iYXJXaWR0aChwZXJjZW50KTtcbiAgICAgICAgICAgIG1vZHVsZS5zZXQubGFiZWxJbnRlcnZhbCgpO1xuICAgICAgICAgICAgbW9kdWxlLnNldC5sYWJlbHMoKTtcbiAgICAgICAgICAgIHNldHRpbmdzLm9uQ2hhbmdlLmNhbGwoZWxlbWVudCwgcGVyY2VudCwgbW9kdWxlLnZhbHVlLCBtb2R1bGUudG90YWwpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGFiZWxJbnRlcnZhbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgYW5pbWF0aW9uQ2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnQmFyIGZpbmlzaGVkIGFuaW1hdGluZywgcmVtb3ZpbmcgY29udGludW91cyBsYWJlbCB1cGRhdGVzJyk7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChtb2R1bGUuaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgIGFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG1vZHVsZS5zZXQubGFiZWxzKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobW9kdWxlLmludGVydmFsKTtcbiAgICAgICAgICAgIG1vZHVsZS5iaW5kLnRyYW5zaXRpb25FbmQoYW5pbWF0aW9uQ2FsbGJhY2spO1xuICAgICAgICAgICAgYW5pbWF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIG1vZHVsZS5pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgICBpc0luRE9NID0gJC5jb250YWlucyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGVsZW1lbnQpXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgaWYoIWlzSW5ET00pIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG1vZHVsZS5pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbW9kdWxlLnNldC5sYWJlbHMoKTtcbiAgICAgICAgICAgIH0sIHNldHRpbmdzLmZyYW1lcmF0ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBsYWJlbHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1NldHRpbmcgYm90aCBiYXIgcHJvZ3Jlc3MgYW5kIG91dGVyIGxhYmVsIHRleHQnKTtcbiAgICAgICAgICAgIG1vZHVsZS5zZXQuYmFyTGFiZWwoKTtcbiAgICAgICAgICAgIG1vZHVsZS5zZXQuc3RhdGUoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxhYmVsOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dCB8fCAnJztcbiAgICAgICAgICAgIGlmKHRleHQpIHtcbiAgICAgICAgICAgICAgdGV4dCA9IG1vZHVsZS5nZXQudGV4dCh0ZXh0KTtcbiAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UoJ1NldHRpbmcgbGFiZWwgdG8gdGV4dCcsIHRleHQpO1xuICAgICAgICAgICAgICAkbGFiZWwudGV4dCh0ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0YXRlOiBmdW5jdGlvbihwZXJjZW50KSB7XG4gICAgICAgICAgICBwZXJjZW50ID0gKHBlcmNlbnQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgPyBwZXJjZW50XG4gICAgICAgICAgICAgIDogbW9kdWxlLnBlcmNlbnRcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGlmKHBlcmNlbnQgPT09IDEwMCkge1xuICAgICAgICAgICAgICBpZihzZXR0aW5ncy5hdXRvU3VjY2VzcyAmJiAhKG1vZHVsZS5pcy53YXJuaW5nKCkgfHwgbW9kdWxlLmlzLmVycm9yKCkgfHwgbW9kdWxlLmlzLnN1Y2Nlc3MoKSkpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUuc2V0LnN1Y2Nlc3MoKTtcbiAgICAgICAgICAgICAgICBtb2R1bGUuZGVidWcoJ0F1dG9tYXRpY2FsbHkgdHJpZ2dlcmluZyBzdWNjZXNzIGF0IDEwMCUnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnUmVhY2hlZCAxMDAlIHJlbW92aW5nIGFjdGl2ZSBzdGF0ZScpO1xuICAgICAgICAgICAgICAgIG1vZHVsZS5yZW1vdmUuYWN0aXZlKCk7XG4gICAgICAgICAgICAgICAgbW9kdWxlLnJlbW92ZS5wcm9ncmVzc1BvbGwoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihwZXJjZW50ID4gMCkge1xuICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnQWRqdXN0aW5nIGFjdGl2ZSBwcm9ncmVzcyBiYXIgbGFiZWwnLCBwZXJjZW50KTtcbiAgICAgICAgICAgICAgbW9kdWxlLnNldC5hY3RpdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBtb2R1bGUucmVtb3ZlLmFjdGl2ZSgpO1xuICAgICAgICAgICAgICBtb2R1bGUuc2V0LmxhYmVsKHNldHRpbmdzLnRleHQuYWN0aXZlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGJhckxhYmVsOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICBpZih0ZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgJHByb2dyZXNzLnRleHQoIG1vZHVsZS5nZXQudGV4dCh0ZXh0KSApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihzZXR0aW5ncy5sYWJlbCA9PSAncmF0aW8nICYmIG1vZHVsZS50b3RhbCkge1xuICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnQWRkaW5nIHJhdGlvIHRvIGJhciBsYWJlbCcpO1xuICAgICAgICAgICAgICAkcHJvZ3Jlc3MudGV4dCggbW9kdWxlLmdldC50ZXh0KHNldHRpbmdzLnRleHQucmF0aW8pICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKHNldHRpbmdzLmxhYmVsID09ICdwZXJjZW50Jykge1xuICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnQWRkaW5nIHBlcmNlbnRhZ2UgdG8gYmFyIGxhYmVsJyk7XG4gICAgICAgICAgICAgICRwcm9ncmVzcy50ZXh0KCBtb2R1bGUuZ2V0LnRleHQoc2V0dGluZ3MudGV4dC5wZXJjZW50KSApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYWN0aXZlOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dCB8fCBzZXR0aW5ncy50ZXh0LmFjdGl2ZTtcbiAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnU2V0dGluZyBhY3RpdmUgc3RhdGUnKTtcbiAgICAgICAgICAgIGlmKHNldHRpbmdzLnNob3dBY3Rpdml0eSAmJiAhbW9kdWxlLmlzLmFjdGl2ZSgpICkge1xuICAgICAgICAgICAgICAkbW9kdWxlLmFkZENsYXNzKGNsYXNzTmFtZS5hY3RpdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kdWxlLnJlbW92ZS53YXJuaW5nKCk7XG4gICAgICAgICAgICBtb2R1bGUucmVtb3ZlLmVycm9yKCk7XG4gICAgICAgICAgICBtb2R1bGUucmVtb3ZlLnN1Y2Nlc3MoKTtcbiAgICAgICAgICAgIHRleHQgPSBzZXR0aW5ncy5vbkxhYmVsVXBkYXRlKCdhY3RpdmUnLCB0ZXh0LCBtb2R1bGUudmFsdWUsIG1vZHVsZS50b3RhbCk7XG4gICAgICAgICAgICBpZih0ZXh0KSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5zZXQubGFiZWwodGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2R1bGUuYmluZC50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZXR0aW5ncy5vbkFjdGl2ZS5jYWxsKGVsZW1lbnQsIG1vZHVsZS52YWx1ZSwgbW9kdWxlLnRvdGFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0IHx8IHNldHRpbmdzLnRleHQuc3VjY2VzcyB8fCBzZXR0aW5ncy50ZXh0LmFjdGl2ZTtcbiAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnU2V0dGluZyBzdWNjZXNzIHN0YXRlJyk7XG4gICAgICAgICAgICAkbW9kdWxlLmFkZENsYXNzKGNsYXNzTmFtZS5zdWNjZXNzKTtcbiAgICAgICAgICAgIG1vZHVsZS5yZW1vdmUuYWN0aXZlKCk7XG4gICAgICAgICAgICBtb2R1bGUucmVtb3ZlLndhcm5pbmcoKTtcbiAgICAgICAgICAgIG1vZHVsZS5yZW1vdmUuZXJyb3IoKTtcbiAgICAgICAgICAgIG1vZHVsZS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgaWYoc2V0dGluZ3MudGV4dC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgIHRleHQgPSBzZXR0aW5ncy5vbkxhYmVsVXBkYXRlKCdzdWNjZXNzJywgdGV4dCwgbW9kdWxlLnZhbHVlLCBtb2R1bGUudG90YWwpO1xuICAgICAgICAgICAgICBtb2R1bGUuc2V0LmxhYmVsKHRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHRleHQgPSBzZXR0aW5ncy5vbkxhYmVsVXBkYXRlKCdhY3RpdmUnLCB0ZXh0LCBtb2R1bGUudmFsdWUsIG1vZHVsZS50b3RhbCk7XG4gICAgICAgICAgICAgIG1vZHVsZS5zZXQubGFiZWwodGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2R1bGUuYmluZC50cmFuc2l0aW9uRW5kKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzZXR0aW5ncy5vblN1Y2Nlc3MuY2FsbChlbGVtZW50LCBtb2R1bGUudG90YWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB3YXJuaW5nIDogZnVuY3Rpb24odGV4dCkge1xuICAgICAgICAgICAgdGV4dCA9IHRleHQgfHwgc2V0dGluZ3MudGV4dC53YXJuaW5nO1xuICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdTZXR0aW5nIHdhcm5pbmcgc3RhdGUnKTtcbiAgICAgICAgICAgICRtb2R1bGUuYWRkQ2xhc3MoY2xhc3NOYW1lLndhcm5pbmcpO1xuICAgICAgICAgICAgbW9kdWxlLnJlbW92ZS5hY3RpdmUoKTtcbiAgICAgICAgICAgIG1vZHVsZS5yZW1vdmUuc3VjY2VzcygpO1xuICAgICAgICAgICAgbW9kdWxlLnJlbW92ZS5lcnJvcigpO1xuICAgICAgICAgICAgbW9kdWxlLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB0ZXh0ID0gc2V0dGluZ3Mub25MYWJlbFVwZGF0ZSgnd2FybmluZycsIHRleHQsIG1vZHVsZS52YWx1ZSwgbW9kdWxlLnRvdGFsKTtcbiAgICAgICAgICAgIGlmKHRleHQpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnNldC5sYWJlbCh0ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vZHVsZS5iaW5kLnRyYW5zaXRpb25FbmQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHNldHRpbmdzLm9uV2FybmluZy5jYWxsKGVsZW1lbnQsIG1vZHVsZS52YWx1ZSwgbW9kdWxlLnRvdGFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3IgOiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dCB8fCBzZXR0aW5ncy50ZXh0LmVycm9yO1xuICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdTZXR0aW5nIGVycm9yIHN0YXRlJyk7XG4gICAgICAgICAgICAkbW9kdWxlLmFkZENsYXNzKGNsYXNzTmFtZS5lcnJvcik7XG4gICAgICAgICAgICBtb2R1bGUucmVtb3ZlLmFjdGl2ZSgpO1xuICAgICAgICAgICAgbW9kdWxlLnJlbW92ZS5zdWNjZXNzKCk7XG4gICAgICAgICAgICBtb2R1bGUucmVtb3ZlLndhcm5pbmcoKTtcbiAgICAgICAgICAgIG1vZHVsZS5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgdGV4dCA9IHNldHRpbmdzLm9uTGFiZWxVcGRhdGUoJ2Vycm9yJywgdGV4dCwgbW9kdWxlLnZhbHVlLCBtb2R1bGUudG90YWwpO1xuICAgICAgICAgICAgaWYodGV4dCkge1xuICAgICAgICAgICAgICBtb2R1bGUuc2V0LmxhYmVsKHRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kdWxlLmJpbmQudHJhbnNpdGlvbkVuZChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgc2V0dGluZ3Mub25FcnJvci5jYWxsKGVsZW1lbnQsIG1vZHVsZS52YWx1ZSwgbW9kdWxlLnRvdGFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJhbnNpdGlvbkV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRyYW5zaXRpb25FbmQgPSBtb2R1bGUuZ2V0LnRyYW5zaXRpb25FbmQoKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvdGFsOiBmdW5jdGlvbih0b3RhbFZhbHVlKSB7XG4gICAgICAgICAgICBtb2R1bGUudG90YWwgPSB0b3RhbFZhbHVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBtb2R1bGUudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByb2dyZXNzOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYoIW1vZHVsZS5oYXMucHJvZ3Jlc3NQb2xsKCkpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdGaXJzdCB1cGRhdGUgaW4gcHJvZ3Jlc3MgdXBkYXRlIGludGVydmFsLCBpbW1lZGlhdGVseSB1cGRhdGluZycsIHZhbHVlKTtcbiAgICAgICAgICAgICAgbW9kdWxlLnVwZGF0ZS5wcm9ncmVzcyh2YWx1ZSk7XG4gICAgICAgICAgICAgIG1vZHVsZS5jcmVhdGUucHJvZ3Jlc3NQb2xsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdVcGRhdGVkIHdpdGhpbiBpbnRlcnZhbCwgc2V0dGluZyBuZXh0IHVwZGF0ZSB0byB1c2UgbmV3IHZhbHVlJywgdmFsdWUpO1xuICAgICAgICAgICAgICBtb2R1bGUuc2V0Lm5leHRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBuZXh0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBtb2R1bGUubmV4dFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHVwZGF0ZToge1xuICAgICAgICAgIHRvTmV4dFZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBuZXh0VmFsdWUgPSBtb2R1bGUubmV4dFZhbHVlXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBpZihuZXh0VmFsdWUpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdVcGRhdGUgaW50ZXJ2YWwgY29tcGxldGUgdXNpbmcgbGFzdCB1cGRhdGVkIHZhbHVlJywgbmV4dFZhbHVlKTtcbiAgICAgICAgICAgICAgbW9kdWxlLnVwZGF0ZS5wcm9ncmVzcyhuZXh0VmFsdWUpO1xuICAgICAgICAgICAgICBtb2R1bGUucmVtb3ZlLm5leHRWYWx1ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcHJvZ3Jlc3M6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgcGVyY2VudENvbXBsZXRlXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICB2YWx1ZSA9IG1vZHVsZS5nZXQubnVtZXJpY1ZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIGlmKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICBtb2R1bGUuZXJyb3IoZXJyb3Iubm9uTnVtZXJpYywgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSBtb2R1bGUuZ2V0Lm5vcm1hbGl6ZWRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICBpZiggbW9kdWxlLmhhcy50b3RhbCgpICkge1xuICAgICAgICAgICAgICBtb2R1bGUuc2V0LnZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgcGVyY2VudENvbXBsZXRlID0gKHZhbHVlIC8gbW9kdWxlLnRvdGFsKSAqIDEwMDtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdDYWxjdWxhdGluZyBwZXJjZW50IGNvbXBsZXRlIGZyb20gdG90YWwnLCBwZXJjZW50Q29tcGxldGUpO1xuICAgICAgICAgICAgICBtb2R1bGUuc2V0LnBlcmNlbnQoIHBlcmNlbnRDb21wbGV0ZSApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHBlcmNlbnRDb21wbGV0ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICBtb2R1bGUuZGVidWcoJ1NldHRpbmcgdmFsdWUgdG8gZXhhY3QgcGVyY2VudGFnZSB2YWx1ZScsIHBlcmNlbnRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgIG1vZHVsZS5zZXQucGVyY2VudCggcGVyY2VudENvbXBsZXRlICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldHRpbmc6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgbW9kdWxlLmRlYnVnKCdDaGFuZ2luZyBzZXR0aW5nJywgbmFtZSwgdmFsdWUpO1xuICAgICAgICAgIGlmKCAkLmlzUGxhaW5PYmplY3QobmFtZSkgKSB7XG4gICAgICAgICAgICAkLmV4dGVuZCh0cnVlLCBzZXR0aW5ncywgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYoJC5pc1BsYWluT2JqZWN0KHNldHRpbmdzW25hbWVdKSkge1xuICAgICAgICAgICAgICAkLmV4dGVuZCh0cnVlLCBzZXR0aW5nc1tuYW1lXSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHNldHRpbmdzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzW25hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW50ZXJuYWw6IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgaWYoICQuaXNQbGFpbk9iamVjdChuYW1lKSApIHtcbiAgICAgICAgICAgICQuZXh0ZW5kKHRydWUsIG1vZHVsZSwgbmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbW9kdWxlW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVtuYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRlYnVnOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZighc2V0dGluZ3Muc2lsZW50ICYmIHNldHRpbmdzLmRlYnVnKSB7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5wZXJmb3JtYW5jZSkge1xuICAgICAgICAgICAgICBtb2R1bGUucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sIGNvbnNvbGUsIHNldHRpbmdzLm5hbWUgKyAnOicpO1xuICAgICAgICAgICAgICBtb2R1bGUuZGVidWcuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZlcmJvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKCFzZXR0aW5ncy5zaWxlbnQgJiYgc2V0dGluZ3MudmVyYm9zZSAmJiBzZXR0aW5ncy5kZWJ1Zykge1xuICAgICAgICAgICAgaWYoc2V0dGluZ3MucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnBlcmZvcm1hbmNlLmxvZyhhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmluZm8sIGNvbnNvbGUsIHNldHRpbmdzLm5hbWUgKyAnOicpO1xuICAgICAgICAgICAgICBtb2R1bGUudmVyYm9zZS5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKCFzZXR0aW5ncy5zaWxlbnQpIHtcbiAgICAgICAgICAgIG1vZHVsZS5lcnJvciA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwoY29uc29sZS5lcnJvciwgY29uc29sZSwgc2V0dGluZ3MubmFtZSArICc6Jyk7XG4gICAgICAgICAgICBtb2R1bGUuZXJyb3IuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHBlcmZvcm1hbmNlOiB7XG4gICAgICAgICAgbG9nOiBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgY3VycmVudFRpbWUsXG4gICAgICAgICAgICAgIGV4ZWN1dGlvblRpbWUsXG4gICAgICAgICAgICAgIHByZXZpb3VzVGltZVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYoc2V0dGluZ3MucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgICAgICAgY3VycmVudFRpbWUgICA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICBwcmV2aW91c1RpbWUgID0gdGltZSB8fCBjdXJyZW50VGltZTtcbiAgICAgICAgICAgICAgZXhlY3V0aW9uVGltZSA9IGN1cnJlbnRUaW1lIC0gcHJldmlvdXNUaW1lO1xuICAgICAgICAgICAgICB0aW1lICAgICAgICAgID0gY3VycmVudFRpbWU7XG4gICAgICAgICAgICAgIHBlcmZvcm1hbmNlLnB1c2goe1xuICAgICAgICAgICAgICAgICdOYW1lJyAgICAgICAgICAgOiBtZXNzYWdlWzBdLFxuICAgICAgICAgICAgICAgICdBcmd1bWVudHMnICAgICAgOiBbXS5zbGljZS5jYWxsKG1lc3NhZ2UsIDEpIHx8ICcnLFxuICAgICAgICAgICAgICAgICdFbGVtZW50JyAgICAgICAgOiBlbGVtZW50LFxuICAgICAgICAgICAgICAgICdFeGVjdXRpb24gVGltZScgOiBleGVjdXRpb25UaW1lXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KG1vZHVsZS5wZXJmb3JtYW5jZS50aW1lcik7XG4gICAgICAgICAgICBtb2R1bGUucGVyZm9ybWFuY2UudGltZXIgPSBzZXRUaW1lb3V0KG1vZHVsZS5wZXJmb3JtYW5jZS5kaXNwbGF5LCA1MDApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZGlzcGxheTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgdGl0bGUgPSBzZXR0aW5ncy5uYW1lICsgJzonLFxuICAgICAgICAgICAgICB0b3RhbFRpbWUgPSAwXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICB0aW1lID0gZmFsc2U7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQobW9kdWxlLnBlcmZvcm1hbmNlLnRpbWVyKTtcbiAgICAgICAgICAgICQuZWFjaChwZXJmb3JtYW5jZSwgZnVuY3Rpb24oaW5kZXgsIGRhdGEpIHtcbiAgICAgICAgICAgICAgdG90YWxUaW1lICs9IGRhdGFbJ0V4ZWN1dGlvbiBUaW1lJ107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRpdGxlICs9ICcgJyArIHRvdGFsVGltZSArICdtcyc7XG4gICAgICAgICAgICBpZihtb2R1bGVTZWxlY3Rvcikge1xuICAgICAgICAgICAgICB0aXRsZSArPSAnIFxcJycgKyBtb2R1bGVTZWxlY3RvciArICdcXCcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoIChjb25zb2xlLmdyb3VwICE9PSB1bmRlZmluZWQgfHwgY29uc29sZS50YWJsZSAhPT0gdW5kZWZpbmVkKSAmJiBwZXJmb3JtYW5jZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQodGl0bGUpO1xuICAgICAgICAgICAgICBpZihjb25zb2xlLnRhYmxlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS50YWJsZShwZXJmb3JtYW5jZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJC5lYWNoKHBlcmZvcm1hbmNlLCBmdW5jdGlvbihpbmRleCwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YVsnTmFtZSddICsgJzogJyArIGRhdGFbJ0V4ZWN1dGlvbiBUaW1lJ10rJ21zJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVyZm9ybWFuY2UgPSBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGludm9rZTogZnVuY3Rpb24ocXVlcnksIHBhc3NlZEFyZ3VtZW50cywgY29udGV4dCkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgb2JqZWN0ID0gaW5zdGFuY2UsXG4gICAgICAgICAgICBtYXhEZXB0aCxcbiAgICAgICAgICAgIGZvdW5kLFxuICAgICAgICAgICAgcmVzcG9uc2VcbiAgICAgICAgICA7XG4gICAgICAgICAgcGFzc2VkQXJndW1lbnRzID0gcGFzc2VkQXJndW1lbnRzIHx8IHF1ZXJ5QXJndW1lbnRzO1xuICAgICAgICAgIGNvbnRleHQgICAgICAgICA9IGVsZW1lbnQgICAgICAgICB8fCBjb250ZXh0O1xuICAgICAgICAgIGlmKHR5cGVvZiBxdWVyeSA9PSAnc3RyaW5nJyAmJiBvYmplY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnkgICAgPSBxdWVyeS5zcGxpdCgvW1xcLiBdLyk7XG4gICAgICAgICAgICBtYXhEZXB0aCA9IHF1ZXJ5Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAkLmVhY2gocXVlcnksIGZ1bmN0aW9uKGRlcHRoLCB2YWx1ZSkge1xuICAgICAgICAgICAgICB2YXIgY2FtZWxDYXNlVmFsdWUgPSAoZGVwdGggIT0gbWF4RGVwdGgpXG4gICAgICAgICAgICAgICAgPyB2YWx1ZSArIHF1ZXJ5W2RlcHRoICsgMV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBxdWVyeVtkZXB0aCArIDFdLnNsaWNlKDEpXG4gICAgICAgICAgICAgICAgOiBxdWVyeVxuICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgIGlmKCAkLmlzUGxhaW5PYmplY3QoIG9iamVjdFtjYW1lbENhc2VWYWx1ZV0gKSAmJiAoZGVwdGggIT0gbWF4RGVwdGgpICkge1xuICAgICAgICAgICAgICAgIG9iamVjdCA9IG9iamVjdFtjYW1lbENhc2VWYWx1ZV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiggb2JqZWN0W2NhbWVsQ2FzZVZhbHVlXSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gb2JqZWN0W2NhbWVsQ2FzZVZhbHVlXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiggJC5pc1BsYWluT2JqZWN0KCBvYmplY3RbdmFsdWVdICkgJiYgKGRlcHRoICE9IG1heERlcHRoKSApIHtcbiAgICAgICAgICAgICAgICBvYmplY3QgPSBvYmplY3RbdmFsdWVdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYoIG9iamVjdFt2YWx1ZV0gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICAgICBmb3VuZCA9IG9iamVjdFt2YWx1ZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5lcnJvcihlcnJvci5tZXRob2QsIHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoICQuaXNGdW5jdGlvbiggZm91bmQgKSApIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gZm91bmQuYXBwbHkoY29udGV4dCwgcGFzc2VkQXJndW1lbnRzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZihmb3VuZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IGZvdW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZigkLmlzQXJyYXkocmV0dXJuZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybmVkVmFsdWUucHVzaChyZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYocmV0dXJuZWRWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm5lZFZhbHVlID0gW3JldHVybmVkVmFsdWUsIHJlc3BvbnNlXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZihyZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm5lZFZhbHVlID0gcmVzcG9uc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYobWV0aG9kSW52b2tlZCkge1xuICAgICAgICBpZihpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbW9kdWxlLmluaXRpYWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgICBtb2R1bGUuaW52b2tlKHF1ZXJ5KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZihpbnN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5zdGFuY2UuaW52b2tlKCdkZXN0cm95Jyk7XG4gICAgICAgIH1cbiAgICAgICAgbW9kdWxlLmluaXRpYWxpemUoKTtcbiAgICAgIH1cbiAgICB9KVxuICA7XG5cbiAgcmV0dXJuIChyZXR1cm5lZFZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgPyByZXR1cm5lZFZhbHVlXG4gICAgOiB0aGlzXG4gIDtcbn07XG5cbiQuZm4ucHJvZ3Jlc3Muc2V0dGluZ3MgPSB7XG5cbiAgbmFtZSAgICAgICAgIDogJ1Byb2dyZXNzJyxcbiAgbmFtZXNwYWNlICAgIDogJ3Byb2dyZXNzJyxcblxuICBzaWxlbnQgICAgICAgOiBmYWxzZSxcbiAgZGVidWcgICAgICAgIDogZmFsc2UsXG4gIHZlcmJvc2UgICAgICA6IGZhbHNlLFxuICBwZXJmb3JtYW5jZSAgOiB0cnVlLFxuXG4gIHJhbmRvbSAgICAgICA6IHtcbiAgICBtaW4gOiAyLFxuICAgIG1heCA6IDVcbiAgfSxcblxuICBkdXJhdGlvbiAgICAgICA6IDMwMCxcblxuICB1cGRhdGVJbnRlcnZhbCA6ICdhdXRvJyxcblxuICBhdXRvU3VjY2VzcyAgICA6IHRydWUsXG4gIHNob3dBY3Rpdml0eSAgIDogdHJ1ZSxcbiAgbGltaXRWYWx1ZXMgICAgOiB0cnVlLFxuXG4gIGxhYmVsICAgICAgICAgIDogJ3BlcmNlbnQnLFxuICBwcmVjaXNpb24gICAgICA6IDAsXG4gIGZyYW1lcmF0ZSAgICAgIDogKDEwMDAgLyAzMCksIC8vLyAzMCBmcHNcblxuICBwZXJjZW50ICAgICAgICA6IGZhbHNlLFxuICB0b3RhbCAgICAgICAgICA6IGZhbHNlLFxuICB2YWx1ZSAgICAgICAgICA6IGZhbHNlLFxuXG4gIC8vIGRlbGF5IGluIG1zIGZvciBmYWlsIHNhZmUgYW5pbWF0aW9uIGNhbGxiYWNrXG4gIGZhaWxTYWZlRGVsYXkgOiAxMDAsXG5cbiAgb25MYWJlbFVwZGF0ZSA6IGZ1bmN0aW9uKHN0YXRlLCB0ZXh0LCB2YWx1ZSwgdG90YWwpe1xuICAgIHJldHVybiB0ZXh0O1xuICB9LFxuICBvbkNoYW5nZSAgICAgIDogZnVuY3Rpb24ocGVyY2VudCwgdmFsdWUsIHRvdGFsKXt9LFxuICBvblN1Y2Nlc3MgICAgIDogZnVuY3Rpb24odG90YWwpe30sXG4gIG9uQWN0aXZlICAgICAgOiBmdW5jdGlvbih2YWx1ZSwgdG90YWwpe30sXG4gIG9uRXJyb3IgICAgICAgOiBmdW5jdGlvbih2YWx1ZSwgdG90YWwpe30sXG4gIG9uV2FybmluZyAgICAgOiBmdW5jdGlvbih2YWx1ZSwgdG90YWwpe30sXG5cbiAgZXJyb3IgICAgOiB7XG4gICAgbWV0aG9kICAgICA6ICdUaGUgbWV0aG9kIHlvdSBjYWxsZWQgaXMgbm90IGRlZmluZWQuJyxcbiAgICBub25OdW1lcmljIDogJ1Byb2dyZXNzIHZhbHVlIGlzIG5vbiBudW1lcmljJyxcbiAgICB0b29IaWdoICAgIDogJ1ZhbHVlIHNwZWNpZmllZCBpcyBhYm92ZSAxMDAlJyxcbiAgICB0b29Mb3cgICAgIDogJ1ZhbHVlIHNwZWNpZmllZCBpcyBiZWxvdyAwJSdcbiAgfSxcblxuICByZWdFeHA6IHtcbiAgICB2YXJpYWJsZTogL1xce1xcJCpbQS16MC05XStcXH0vZ1xuICB9LFxuXG4gIG1ldGFkYXRhOiB7XG4gICAgcGVyY2VudCA6ICdwZXJjZW50JyxcbiAgICB0b3RhbCAgIDogJ3RvdGFsJyxcbiAgICB2YWx1ZSAgIDogJ3ZhbHVlJ1xuICB9LFxuXG4gIHNlbGVjdG9yIDoge1xuICAgIGJhciAgICAgIDogJz4gLmJhcicsXG4gICAgbGFiZWwgICAgOiAnPiAubGFiZWwnLFxuICAgIHByb2dyZXNzIDogJy5iYXIgPiAucHJvZ3Jlc3MnXG4gIH0sXG5cbiAgdGV4dCA6IHtcbiAgICBhY3RpdmUgIDogZmFsc2UsXG4gICAgZXJyb3IgICA6IGZhbHNlLFxuICAgIHN1Y2Nlc3MgOiBmYWxzZSxcbiAgICB3YXJuaW5nIDogZmFsc2UsXG4gICAgcGVyY2VudCA6ICd7cGVyY2VudH0lJyxcbiAgICByYXRpbyAgIDogJ3t2YWx1ZX0gb2Yge3RvdGFsfSdcbiAgfSxcblxuICBjbGFzc05hbWUgOiB7XG4gICAgYWN0aXZlICA6ICdhY3RpdmUnLFxuICAgIGVycm9yICAgOiAnZXJyb3InLFxuICAgIHN1Y2Nlc3MgOiAnc3VjY2VzcycsXG4gICAgd2FybmluZyA6ICd3YXJuaW5nJ1xuICB9XG5cbn07XG5cblxufSkoIGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCApO1xuIl19
