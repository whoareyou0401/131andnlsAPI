!function(e,o,t,n){"use strict";o="undefined"!=typeof o&&o.Math==Math?o:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.nag=function(t){var i,s=e(this),a=s.selector||"",r=(new Date).getTime(),l=[],c=arguments[0],g="string"==typeof c,u=[].slice.call(arguments,1);return s.each(function(){var s,d=e.isPlainObject(t)?e.extend(!0,{},e.fn.nag.settings,t):e.extend({},e.fn.nag.settings),m=(d.className,d.selector),f=d.error,p=d.namespace,h="."+p,b=p+"-module",v=e(this),y=(v.find(m.close),e(d.context?d.context:"body")),k=this,S=v.data(b);o.requestAnimationFrame||o.mozRequestAnimationFrame||o.webkitRequestAnimationFrame||o.msRequestAnimationFrame||function(e){setTimeout(e,0)};s={initialize:function(){s.verbose("Initializing element"),v.on("click"+h,m.close,s.dismiss).data(b,s),d.detachable&&v.parent()[0]!==y[0]&&v.detach().prependTo(y),d.displayTime>0&&setTimeout(s.hide,d.displayTime),s.show()},destroy:function(){s.verbose("Destroying instance"),v.removeData(b).off(h)},show:function(){s.should.show()&&!v.is(":visible")&&(s.debug("Showing nag",d.animation.show),"fade"==d.animation.show?v.fadeIn(d.duration,d.easing):v.slideDown(d.duration,d.easing))},hide:function(){s.debug("Showing nag",d.animation.hide),"fade"==d.animation.show?v.fadeIn(d.duration,d.easing):v.slideUp(d.duration,d.easing)},onHide:function(){s.debug("Removing nag",d.animation.hide),v.remove(),d.onHide&&d.onHide()},dismiss:function(e){d.storageMethod&&s.storage.set(d.key,d.value),s.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return d.persist?(s.debug("Persistent nag is set, can show nag"),!0):s.storage.get(d.key)!=d.value.toString()?(s.debug("Stored value is not set, can show nag",s.storage.get(d.key)),!0):(s.debug("Stored value is set, cannot show nag",s.storage.get(d.key)),!1)}},get:{storageOptions:function(){var e={};return d.expires&&(e.expires=d.expires),d.domain&&(e.domain=d.domain),d.path&&(e.path=d.path),e}},clear:function(){s.storage.remove(d.key)},storage:{set:function(t,i){var a=s.get.storageOptions();if("localstorage"==d.storageMethod&&o.localStorage!==n)o.localStorage.setItem(t,i),s.debug("Value stored using local storage",t,i);else if("sessionstorage"==d.storageMethod&&o.sessionStorage!==n)o.sessionStorage.setItem(t,i),s.debug("Value stored using session storage",t,i);else{if(e.cookie===n)return void s.error(f.noCookieStorage);e.cookie(t,i,a),s.debug("Value stored using cookie",t,i,a)}},get:function(t,i){var a;return"localstorage"==d.storageMethod&&o.localStorage!==n?a=o.localStorage.getItem(t):"sessionstorage"==d.storageMethod&&o.sessionStorage!==n?a=o.sessionStorage.getItem(t):e.cookie!==n?a=e.cookie(t):s.error(f.noCookieStorage),"undefined"!=a&&"null"!=a&&a!==n&&null!==a||(a=n),a},remove:function(t){var i=s.get.storageOptions();"localstorage"==d.storageMethod&&o.localStorage!==n?o.localStorage.removeItem(t):"sessionstorage"==d.storageMethod&&o.sessionStorage!==n?o.sessionStorage.removeItem(t):e.cookie!==n?e.removeCookie(t,i):s.error(f.noStorage)}},setting:function(o,t){if(s.debug("Changing setting",o,t),e.isPlainObject(o))e.extend(!0,d,o);else{if(t===n)return d[o];e.isPlainObject(d[o])?e.extend(!0,d[o],t):d[o]=t}},internal:function(o,t){if(e.isPlainObject(o))e.extend(!0,s,o);else{if(t===n)return s[o];s[o]=t}},debug:function(){!d.silent&&d.debug&&(d.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,d.name+":"),s.debug.apply(console,arguments)))},verbose:function(){!d.silent&&d.verbose&&d.debug&&(d.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),s.verbose.apply(console,arguments)))},error:function(){d.silent||(s.error=Function.prototype.bind.call(console.error,console,d.name+":"),s.error.apply(console,arguments))},performance:{log:function(e){var o,t,n;d.performance&&(o=(new Date).getTime(),n=r||o,t=o-n,r=o,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:k,"Execution Time":t})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var o=d.name+":",t=0;r=!1,clearTimeout(s.performance.timer),e.each(l,function(e,o){t+=o["Execution Time"]}),o+=" "+t+"ms",a&&(o+=" '"+a+"'"),(console.group!==n||console.table!==n)&&l.length>0&&(console.groupCollapsed(o),console.table?console.table(l):e.each(l,function(e,o){console.log(o.Name+": "+o["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(o,t,a){var r,l,c,g=S;return t=t||u,a=k||a,"string"==typeof o&&g!==n&&(o=o.split(/[\. ]/),r=o.length-1,e.each(o,function(t,i){var a=t!=r?i+o[t+1].charAt(0).toUpperCase()+o[t+1].slice(1):o;if(e.isPlainObject(g[a])&&t!=r)g=g[a];else{if(g[a]!==n)return l=g[a],!1;if(!e.isPlainObject(g[i])||t==r)return g[i]!==n?(l=g[i],!1):(s.error(f.method,o),!1);g=g[i]}})),e.isFunction(l)?c=l.apply(a,t):l!==n&&(c=l),e.isArray(i)?i.push(c):i!==n?i=[i,c]:c!==n&&(i=c),l}},g?(S===n&&s.initialize(),s.invoke(c)):(S!==n&&S.invoke("destroy"),s.initialize())}),i!==n?i:this},e.fn.nag.settings={name:"Nag",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},e.extend(e.easing,{easeOutQuad:function(e,o,t,n,i){return-n*(o/=i)*(o-2)+t}})}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlbmRvci9uYWcuanMiXSwibmFtZXMiOlsiJCIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwiTWF0aCIsInNlbGYiLCJGdW5jdGlvbiIsImZuIiwibmFnIiwicGFyYW1ldGVycyIsInJldHVybmVkVmFsdWUiLCIkYWxsTW9kdWxlcyIsInRoaXMiLCJtb2R1bGVTZWxlY3RvciIsInNlbGVjdG9yIiwidGltZSIsIkRhdGUiLCJnZXRUaW1lIiwicGVyZm9ybWFuY2UiLCJxdWVyeSIsImFyZ3VtZW50cyIsIm1ldGhvZEludm9rZWQiLCJxdWVyeUFyZ3VtZW50cyIsInNsaWNlIiwiY2FsbCIsImVhY2giLCJtb2R1bGUiLCJzZXR0aW5ncyIsImlzUGxhaW5PYmplY3QiLCJleHRlbmQiLCJjbGFzc05hbWUiLCJlcnJvciIsIm5hbWVzcGFjZSIsImV2ZW50TmFtZXNwYWNlIiwibW9kdWxlTmFtZXNwYWNlIiwiJG1vZHVsZSIsIiRjb250ZXh0IiwiZmluZCIsImNsb3NlIiwiY29udGV4dCIsImVsZW1lbnQiLCJpbnN0YW5jZSIsImRhdGEiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtc1JlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbGxiYWNrIiwic2V0VGltZW91dCIsImluaXRpYWxpemUiLCJ2ZXJib3NlIiwib24iLCJkaXNtaXNzIiwiZGV0YWNoYWJsZSIsInBhcmVudCIsImRldGFjaCIsInByZXBlbmRUbyIsImRpc3BsYXlUaW1lIiwiaGlkZSIsInNob3ciLCJkZXN0cm95IiwicmVtb3ZlRGF0YSIsIm9mZiIsInNob3VsZCIsImlzIiwiZGVidWciLCJhbmltYXRpb24iLCJmYWRlSW4iLCJkdXJhdGlvbiIsImVhc2luZyIsInNsaWRlRG93biIsInNsaWRlVXAiLCJvbkhpZGUiLCJyZW1vdmUiLCJldmVudCIsInN0b3JhZ2VNZXRob2QiLCJzdG9yYWdlIiwic2V0Iiwia2V5IiwidmFsdWUiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsInBlcnNpc3QiLCJnZXQiLCJ0b1N0cmluZyIsInN0b3JhZ2VPcHRpb25zIiwib3B0aW9ucyIsImV4cGlyZXMiLCJkb21haW4iLCJwYXRoIiwiY2xlYXIiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwic2Vzc2lvblN0b3JhZ2UiLCJjb29raWUiLCJub0Nvb2tpZVN0b3JhZ2UiLCJzdG9yZWRWYWx1ZSIsImdldEl0ZW0iLCJyZW1vdmVJdGVtIiwicmVtb3ZlQ29va2llIiwibm9TdG9yYWdlIiwic2V0dGluZyIsIm5hbWUiLCJpbnRlcm5hbCIsInNpbGVudCIsImxvZyIsInByb3RvdHlwZSIsImJpbmQiLCJjb25zb2xlIiwiaW5mbyIsImFwcGx5IiwibWVzc2FnZSIsImN1cnJlbnRUaW1lIiwiZXhlY3V0aW9uVGltZSIsInByZXZpb3VzVGltZSIsInB1c2giLCJOYW1lIiwiQXJndW1lbnRzIiwiRWxlbWVudCIsIkV4ZWN1dGlvbiBUaW1lIiwiY2xlYXJUaW1lb3V0IiwidGltZXIiLCJkaXNwbGF5IiwidGl0bGUiLCJ0b3RhbFRpbWUiLCJpbmRleCIsImdyb3VwIiwidGFibGUiLCJsZW5ndGgiLCJncm91cENvbGxhcHNlZCIsImdyb3VwRW5kIiwiaW52b2tlIiwicGFzc2VkQXJndW1lbnRzIiwibWF4RGVwdGgiLCJmb3VuZCIsInJlc3BvbnNlIiwib2JqZWN0Iiwic3BsaXQiLCJkZXB0aCIsImNhbWVsQ2FzZVZhbHVlIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJtZXRob2QiLCJpc0Z1bmN0aW9uIiwiaXNBcnJheSIsImJvdHRvbSIsImZpeGVkIiwic3BlZWQiLCJlYXNlT3V0UXVhZCIsIngiLCJ0IiwiYiIsImMiLCJkIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FVQyxTQUFXQSxFQUFHQyxFQUFRQyxFQUFVQyxHQUVqQyxZQUVBRixHQUEyQixtQkFBVkEsSUFBeUJBLEVBQU9H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QyxPQUFRRCxHQUFJRixHQUFHRyxJQUFJSCxFQUFFLEdBQUtDLE1BSTFCRyxPQUFRekosT0FBUUMiLCJmaWxlIjoidmVuZG9yL25hZy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogIyBTZW1hbnRpYyBVSSAyLjIuNyAtIE5hZ1xuICogaHR0cDovL2dpdGh1Yi5jb20vc2VtYW50aWMtb3JnL3NlbWFudGljLXVpL1xuICpcbiAqXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKi9cblxuOyhmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG53aW5kb3cgPSAodHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoKVxuICA/IHdpbmRvd1xuICA6ICh0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmLk1hdGggPT0gTWF0aClcbiAgICA/IHNlbGZcbiAgICA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKClcbjtcblxuJC5mbi5uYWcgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHZhclxuICAgICRhbGxNb2R1bGVzICAgID0gJCh0aGlzKSxcbiAgICBtb2R1bGVTZWxlY3RvciA9ICRhbGxNb2R1bGVzLnNlbGVjdG9yIHx8ICcnLFxuXG4gICAgdGltZSAgICAgICAgICAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICBwZXJmb3JtYW5jZSAgICA9IFtdLFxuXG4gICAgcXVlcnkgICAgICAgICAgPSBhcmd1bWVudHNbMF0sXG4gICAgbWV0aG9kSW52b2tlZCAgPSAodHlwZW9mIHF1ZXJ5ID09ICdzdHJpbmcnKSxcbiAgICBxdWVyeUFyZ3VtZW50cyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSxcbiAgICByZXR1cm5lZFZhbHVlXG4gIDtcbiAgJGFsbE1vZHVsZXNcbiAgICAuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHZhclxuICAgICAgICBzZXR0aW5ncyAgICAgICAgICA9ICggJC5pc1BsYWluT2JqZWN0KHBhcmFtZXRlcnMpIClcbiAgICAgICAgICA/ICQuZXh0ZW5kKHRydWUsIHt9LCAkLmZuLm5hZy5zZXR0aW5ncywgcGFyYW1ldGVycylcbiAgICAgICAgICA6ICQuZXh0ZW5kKHt9LCAkLmZuLm5hZy5zZXR0aW5ncyksXG5cbiAgICAgICAgY2xhc3NOYW1lICAgICAgID0gc2V0dGluZ3MuY2xhc3NOYW1lLFxuICAgICAgICBzZWxlY3RvciAgICAgICAgPSBzZXR0aW5ncy5zZWxlY3RvcixcbiAgICAgICAgZXJyb3IgICAgICAgICAgID0gc2V0dGluZ3MuZXJyb3IsXG4gICAgICAgIG5hbWVzcGFjZSAgICAgICA9IHNldHRpbmdzLm5hbWVzcGFjZSxcblxuICAgICAgICBldmVudE5hbWVzcGFjZSAgPSAnLicgKyBuYW1lc3BhY2UsXG4gICAgICAgIG1vZHVsZU5hbWVzcGFjZSA9IG5hbWVzcGFjZSArICctbW9kdWxlJyxcblxuICAgICAgICAkbW9kdWxlICAgICAgICAgPSAkKHRoaXMpLFxuXG4gICAgICAgICRjbG9zZSAgICAgICAgICA9ICRtb2R1bGUuZmluZChzZWxlY3Rvci5jbG9zZSksXG4gICAgICAgICRjb250ZXh0ICAgICAgICA9IChzZXR0aW5ncy5jb250ZXh0KVxuICAgICAgICAgID8gJChzZXR0aW5ncy5jb250ZXh0KVxuICAgICAgICAgIDogJCgnYm9keScpLFxuXG4gICAgICAgIGVsZW1lbnQgICAgICAgICA9IHRoaXMsXG4gICAgICAgIGluc3RhbmNlICAgICAgICA9ICRtb2R1bGUuZGF0YShtb2R1bGVOYW1lc3BhY2UpLFxuXG4gICAgICAgIG1vZHVsZU9mZnNldCxcbiAgICAgICAgbW9kdWxlSGVpZ2h0LFxuXG4gICAgICAgIGNvbnRleHRXaWR0aCxcbiAgICAgICAgY29udGV4dEhlaWdodCxcbiAgICAgICAgY29udGV4dE9mZnNldCxcblxuICAgICAgICB5T2Zmc2V0LFxuICAgICAgICB5UG9zaXRpb24sXG5cbiAgICAgICAgdGltZXIsXG4gICAgICAgIG1vZHVsZSxcblxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgICAgICAgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgICAgIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICB8fCB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICB8fCBmdW5jdGlvbihjYWxsYmFjaykgeyBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTsgfVxuICAgICAgO1xuICAgICAgbW9kdWxlID0ge1xuXG4gICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG1vZHVsZS52ZXJib3NlKCdJbml0aWFsaXppbmcgZWxlbWVudCcpO1xuXG4gICAgICAgICAgJG1vZHVsZVxuICAgICAgICAgICAgLm9uKCdjbGljaycgKyBldmVudE5hbWVzcGFjZSwgc2VsZWN0b3IuY2xvc2UsIG1vZHVsZS5kaXNtaXNzKVxuICAgICAgICAgICAgLmRhdGEobW9kdWxlTmFtZXNwYWNlLCBtb2R1bGUpXG4gICAgICAgICAgO1xuXG4gICAgICAgICAgaWYoc2V0dGluZ3MuZGV0YWNoYWJsZSAmJiAkbW9kdWxlLnBhcmVudCgpWzBdICE9PSAkY29udGV4dFswXSkge1xuICAgICAgICAgICAgJG1vZHVsZVxuICAgICAgICAgICAgICAuZGV0YWNoKClcbiAgICAgICAgICAgICAgLnByZXBlbmRUbygkY29udGV4dClcbiAgICAgICAgICAgIDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZihzZXR0aW5ncy5kaXNwbGF5VGltZSA+IDApIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQobW9kdWxlLmhpZGUsIHNldHRpbmdzLmRpc3BsYXlUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kdWxlLnNob3coKTtcbiAgICAgICAgfSxcblxuICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBtb2R1bGUudmVyYm9zZSgnRGVzdHJveWluZyBpbnN0YW5jZScpO1xuICAgICAgICAgICRtb2R1bGVcbiAgICAgICAgICAgIC5yZW1vdmVEYXRhKG1vZHVsZU5hbWVzcGFjZSlcbiAgICAgICAgICAgIC5vZmYoZXZlbnROYW1lc3BhY2UpXG4gICAgICAgICAgO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKCBtb2R1bGUuc2hvdWxkLnNob3coKSAmJiAhJG1vZHVsZS5pcygnOnZpc2libGUnKSApIHtcbiAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnU2hvd2luZyBuYWcnLCBzZXR0aW5ncy5hbmltYXRpb24uc2hvdyk7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5hbmltYXRpb24uc2hvdyA9PSAnZmFkZScpIHtcbiAgICAgICAgICAgICAgJG1vZHVsZVxuICAgICAgICAgICAgICAgIC5mYWRlSW4oc2V0dGluZ3MuZHVyYXRpb24sIHNldHRpbmdzLmVhc2luZylcbiAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICRtb2R1bGVcbiAgICAgICAgICAgICAgICAuc2xpZGVEb3duKHNldHRpbmdzLmR1cmF0aW9uLCBzZXR0aW5ncy5lYXNpbmcpXG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgbW9kdWxlLmRlYnVnKCdTaG93aW5nIG5hZycsIHNldHRpbmdzLmFuaW1hdGlvbi5oaWRlKTtcbiAgICAgICAgICBpZihzZXR0aW5ncy5hbmltYXRpb24uc2hvdyA9PSAnZmFkZScpIHtcbiAgICAgICAgICAgICRtb2R1bGVcbiAgICAgICAgICAgICAgLmZhZGVJbihzZXR0aW5ncy5kdXJhdGlvbiwgc2V0dGluZ3MuZWFzaW5nKVxuICAgICAgICAgICAgO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICRtb2R1bGVcbiAgICAgICAgICAgICAgLnNsaWRlVXAoc2V0dGluZ3MuZHVyYXRpb24sIHNldHRpbmdzLmVhc2luZylcbiAgICAgICAgICAgIDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgb25IaWRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBtb2R1bGUuZGVidWcoJ1JlbW92aW5nIG5hZycsIHNldHRpbmdzLmFuaW1hdGlvbi5oaWRlKTtcbiAgICAgICAgICAkbW9kdWxlLnJlbW92ZSgpO1xuICAgICAgICAgIGlmIChzZXR0aW5ncy5vbkhpZGUpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLm9uSGlkZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBkaXNtaXNzOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgIGlmKHNldHRpbmdzLnN0b3JhZ2VNZXRob2QpIHtcbiAgICAgICAgICAgIG1vZHVsZS5zdG9yYWdlLnNldChzZXR0aW5ncy5rZXksIHNldHRpbmdzLnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kdWxlLmhpZGUoKTtcbiAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNob3VsZDoge1xuICAgICAgICAgIHNob3c6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYoc2V0dGluZ3MucGVyc2lzdCkge1xuICAgICAgICAgICAgICBtb2R1bGUuZGVidWcoJ1BlcnNpc3RlbnQgbmFnIGlzIHNldCwgY2FuIHNob3cgbmFnJyk7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoIG1vZHVsZS5zdG9yYWdlLmdldChzZXR0aW5ncy5rZXkpICE9IHNldHRpbmdzLnZhbHVlLnRvU3RyaW5nKCkgKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnU3RvcmVkIHZhbHVlIGlzIG5vdCBzZXQsIGNhbiBzaG93IG5hZycsIG1vZHVsZS5zdG9yYWdlLmdldChzZXR0aW5ncy5rZXkpKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2R1bGUuZGVidWcoJ1N0b3JlZCB2YWx1ZSBpcyBzZXQsIGNhbm5vdCBzaG93IG5hZycsIG1vZHVsZS5zdG9yYWdlLmdldChzZXR0aW5ncy5rZXkpKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgc3RvcmFnZU9wdGlvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgIG9wdGlvbnMgPSB7fVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYoc2V0dGluZ3MuZXhwaXJlcykge1xuICAgICAgICAgICAgICBvcHRpb25zLmV4cGlyZXMgPSBzZXR0aW5ncy5leHBpcmVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoc2V0dGluZ3MuZG9tYWluKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMuZG9tYWluID0gc2V0dGluZ3MuZG9tYWluO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoc2V0dGluZ3MucGF0aCkge1xuICAgICAgICAgICAgICBvcHRpb25zLnBhdGggPSBzZXR0aW5ncy5wYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBtb2R1bGUuc3RvcmFnZS5yZW1vdmUoc2V0dGluZ3Mua2V5KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzdG9yYWdlOiB7XG4gICAgICAgICAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgb3B0aW9ucyA9IG1vZHVsZS5nZXQuc3RvcmFnZU9wdGlvbnMoKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYoc2V0dGluZ3Muc3RvcmFnZU1ldGhvZCA9PSAnbG9jYWxzdG9yYWdlJyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICBtb2R1bGUuZGVidWcoJ1ZhbHVlIHN0b3JlZCB1c2luZyBsb2NhbCBzdG9yYWdlJywga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKHNldHRpbmdzLnN0b3JhZ2VNZXRob2QgPT0gJ3Nlc3Npb25zdG9yYWdlJyAmJiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgbW9kdWxlLmRlYnVnKCdWYWx1ZSBzdG9yZWQgdXNpbmcgc2Vzc2lvbiBzdG9yYWdlJywga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKCQuY29va2llICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgJC5jb29raWUoa2V5LCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1ZygnVmFsdWUgc3RvcmVkIHVzaW5nIGNvb2tpZScsIGtleSwgdmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5lcnJvcihlcnJvci5ub0Nvb2tpZVN0b3JhZ2UpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBzdG9yZWRWYWx1ZVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYoc2V0dGluZ3Muc3RvcmFnZU1ldGhvZCA9PSAnbG9jYWxzdG9yYWdlJyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgc3RvcmVkVmFsdWUgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYoc2V0dGluZ3Muc3RvcmFnZU1ldGhvZCA9PSAnc2Vzc2lvbnN0b3JhZ2UnICYmIHdpbmRvdy5zZXNzaW9uU3RvcmFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHN0b3JlZFZhbHVlID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGdldCBieSBjb29raWVcbiAgICAgICAgICAgIGVsc2UgaWYoJC5jb29raWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBzdG9yZWRWYWx1ZSA9ICQuY29va2llKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kdWxlLmVycm9yKGVycm9yLm5vQ29va2llU3RvcmFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihzdG9yZWRWYWx1ZSA9PSAndW5kZWZpbmVkJyB8fCBzdG9yZWRWYWx1ZSA9PSAnbnVsbCcgfHwgc3RvcmVkVmFsdWUgPT09IHVuZGVmaW5lZCB8fCBzdG9yZWRWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBzdG9yZWRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdG9yZWRWYWx1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICB2YXJcbiAgICAgICAgICAgICAgb3B0aW9ucyA9IG1vZHVsZS5nZXQuc3RvcmFnZU9wdGlvbnMoKVxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgaWYoc2V0dGluZ3Muc3RvcmFnZU1ldGhvZCA9PSAnbG9jYWxzdG9yYWdlJyAmJiB3aW5kb3cubG9jYWxTdG9yYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKHNldHRpbmdzLnN0b3JhZ2VNZXRob2QgPT0gJ3Nlc3Npb25zdG9yYWdlJyAmJiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc3RvcmUgYnkgY29va2llXG4gICAgICAgICAgICBlbHNlIGlmKCQuY29va2llICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgJC5yZW1vdmVDb29raWUoa2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBtb2R1bGUuZXJyb3IoZXJyb3Iubm9TdG9yYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0dGluZzogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICBtb2R1bGUuZGVidWcoJ0NoYW5naW5nIHNldHRpbmcnLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgaWYoICQuaXNQbGFpbk9iamVjdChuYW1lKSApIHtcbiAgICAgICAgICAgICQuZXh0ZW5kKHRydWUsIHNldHRpbmdzLCBuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZih2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZigkLmlzUGxhaW5PYmplY3Qoc2V0dGluZ3NbbmFtZV0pKSB7XG4gICAgICAgICAgICAgICQuZXh0ZW5kKHRydWUsIHNldHRpbmdzW25hbWVdLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgc2V0dGluZ3NbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0dGluZ3NbbmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnRlcm5hbDogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICBpZiggJC5pc1BsYWluT2JqZWN0KG5hbWUpICkge1xuICAgICAgICAgICAgJC5leHRlbmQodHJ1ZSwgbW9kdWxlLCBuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZih2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBtb2R1bGVbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbW9kdWxlW25hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVidWc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmKCFzZXR0aW5ncy5zaWxlbnQgJiYgc2V0dGluZ3MuZGVidWcpIHtcbiAgICAgICAgICAgIGlmKHNldHRpbmdzLnBlcmZvcm1hbmNlKSB7XG4gICAgICAgICAgICAgIG1vZHVsZS5wZXJmb3JtYW5jZS5sb2coYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBtb2R1bGUuZGVidWcgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbywgY29uc29sZSwgc2V0dGluZ3MubmFtZSArICc6Jyk7XG4gICAgICAgICAgICAgIG1vZHVsZS5kZWJ1Zy5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmVyYm9zZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYoIXNldHRpbmdzLnNpbGVudCAmJiBzZXR0aW5ncy52ZXJib3NlICYmIHNldHRpbmdzLmRlYnVnKSB7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5wZXJmb3JtYW5jZSkge1xuICAgICAgICAgICAgICBtb2R1bGUucGVyZm9ybWFuY2UubG9nKGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgbW9kdWxlLnZlcmJvc2UgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKGNvbnNvbGUuaW5mbywgY29uc29sZSwgc2V0dGluZ3MubmFtZSArICc6Jyk7XG4gICAgICAgICAgICAgIG1vZHVsZS52ZXJib3NlLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYoIXNldHRpbmdzLnNpbGVudCkge1xuICAgICAgICAgICAgbW9kdWxlLmVycm9yID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmVycm9yLCBjb25zb2xlLCBzZXR0aW5ncy5uYW1lICsgJzonKTtcbiAgICAgICAgICAgIG1vZHVsZS5lcnJvci5hcHBseShjb25zb2xlLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGVyZm9ybWFuY2U6IHtcbiAgICAgICAgICBsb2c6IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgICAgICAgZXhlY3V0aW9uVGltZSxcbiAgICAgICAgICAgICAgcHJldmlvdXNUaW1lXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBpZihzZXR0aW5ncy5wZXJmb3JtYW5jZSkge1xuICAgICAgICAgICAgICBjdXJyZW50VGltZSAgID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgIHByZXZpb3VzVGltZSAgPSB0aW1lIHx8IGN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICBleGVjdXRpb25UaW1lID0gY3VycmVudFRpbWUgLSBwcmV2aW91c1RpbWU7XG4gICAgICAgICAgICAgIHRpbWUgICAgICAgICAgPSBjdXJyZW50VGltZTtcbiAgICAgICAgICAgICAgcGVyZm9ybWFuY2UucHVzaCh7XG4gICAgICAgICAgICAgICAgJ05hbWUnICAgICAgICAgICA6IG1lc3NhZ2VbMF0sXG4gICAgICAgICAgICAgICAgJ0FyZ3VtZW50cycgICAgICA6IFtdLnNsaWNlLmNhbGwobWVzc2FnZSwgMSkgfHwgJycsXG4gICAgICAgICAgICAgICAgJ0VsZW1lbnQnICAgICAgICA6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgJ0V4ZWN1dGlvbiBUaW1lJyA6IGV4ZWN1dGlvblRpbWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQobW9kdWxlLnBlcmZvcm1hbmNlLnRpbWVyKTtcbiAgICAgICAgICAgIG1vZHVsZS5wZXJmb3JtYW5jZS50aW1lciA9IHNldFRpbWVvdXQobW9kdWxlLnBlcmZvcm1hbmNlLmRpc3BsYXksIDUwMCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhclxuICAgICAgICAgICAgICB0aXRsZSA9IHNldHRpbmdzLm5hbWUgKyAnOicsXG4gICAgICAgICAgICAgIHRvdGFsVGltZSA9IDBcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIHRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChtb2R1bGUucGVyZm9ybWFuY2UudGltZXIpO1xuICAgICAgICAgICAgJC5lYWNoKHBlcmZvcm1hbmNlLCBmdW5jdGlvbihpbmRleCwgZGF0YSkge1xuICAgICAgICAgICAgICB0b3RhbFRpbWUgKz0gZGF0YVsnRXhlY3V0aW9uIFRpbWUnXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGl0bGUgKz0gJyAnICsgdG90YWxUaW1lICsgJ21zJztcbiAgICAgICAgICAgIGlmKG1vZHVsZVNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgIHRpdGxlICs9ICcgXFwnJyArIG1vZHVsZVNlbGVjdG9yICsgJ1xcJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiggKGNvbnNvbGUuZ3JvdXAgIT09IHVuZGVmaW5lZCB8fCBjb25zb2xlLnRhYmxlICE9PSB1bmRlZmluZWQpICYmIHBlcmZvcm1hbmNlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZCh0aXRsZSk7XG4gICAgICAgICAgICAgIGlmKGNvbnNvbGUudGFibGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLnRhYmxlKHBlcmZvcm1hbmNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLmVhY2gocGVyZm9ybWFuY2UsIGZ1bmN0aW9uKGluZGV4LCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhWydOYW1lJ10gKyAnOiAnICsgZGF0YVsnRXhlY3V0aW9uIFRpbWUnXSsnbXMnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZXJmb3JtYW5jZSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW52b2tlOiBmdW5jdGlvbihxdWVyeSwgcGFzc2VkQXJndW1lbnRzLCBjb250ZXh0KSB7XG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICBvYmplY3QgPSBpbnN0YW5jZSxcbiAgICAgICAgICAgIG1heERlcHRoLFxuICAgICAgICAgICAgZm91bmQsXG4gICAgICAgICAgICByZXNwb25zZVxuICAgICAgICAgIDtcbiAgICAgICAgICBwYXNzZWRBcmd1bWVudHMgPSBwYXNzZWRBcmd1bWVudHMgfHwgcXVlcnlBcmd1bWVudHM7XG4gICAgICAgICAgY29udGV4dCAgICAgICAgID0gZWxlbWVudCAgICAgICAgIHx8IGNvbnRleHQ7XG4gICAgICAgICAgaWYodHlwZW9mIHF1ZXJ5ID09ICdzdHJpbmcnICYmIG9iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBxdWVyeSAgICA9IHF1ZXJ5LnNwbGl0KC9bXFwuIF0vKTtcbiAgICAgICAgICAgIG1heERlcHRoID0gcXVlcnkubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICQuZWFjaChxdWVyeSwgZnVuY3Rpb24oZGVwdGgsIHZhbHVlKSB7XG4gICAgICAgICAgICAgIHZhciBjYW1lbENhc2VWYWx1ZSA9IChkZXB0aCAhPSBtYXhEZXB0aClcbiAgICAgICAgICAgICAgICA/IHZhbHVlICsgcXVlcnlbZGVwdGggKyAxXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHF1ZXJ5W2RlcHRoICsgMV0uc2xpY2UoMSlcbiAgICAgICAgICAgICAgICA6IHF1ZXJ5XG4gICAgICAgICAgICAgIDtcbiAgICAgICAgICAgICAgaWYoICQuaXNQbGFpbk9iamVjdCggb2JqZWN0W2NhbWVsQ2FzZVZhbHVlXSApICYmIChkZXB0aCAhPSBtYXhEZXB0aCkgKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2NhbWVsQ2FzZVZhbHVlXTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmKCBvYmplY3RbY2FtZWxDYXNlVmFsdWVdICE9PSB1bmRlZmluZWQgKSB7XG4gICAgICAgICAgICAgICAgZm91bmQgPSBvYmplY3RbY2FtZWxDYXNlVmFsdWVdO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbHNlIGlmKCAkLmlzUGxhaW5PYmplY3QoIG9iamVjdFt2YWx1ZV0gKSAmJiAoZGVwdGggIT0gbWF4RGVwdGgpICkge1xuICAgICAgICAgICAgICAgIG9iamVjdCA9IG9iamVjdFt2YWx1ZV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSBpZiggb2JqZWN0W3ZhbHVlXSAhPT0gdW5kZWZpbmVkICkge1xuICAgICAgICAgICAgICAgIGZvdW5kID0gb2JqZWN0W3ZhbHVlXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kdWxlLmVycm9yKGVycm9yLm1ldGhvZCwgcXVlcnkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICggJC5pc0Z1bmN0aW9uKCBmb3VuZCApICkge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBmb3VuZC5hcHBseShjb250ZXh0LCBwYXNzZWRBcmd1bWVudHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKGZvdW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gZm91bmQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKCQuaXNBcnJheShyZXR1cm5lZFZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuZWRWYWx1ZS5wdXNoKHJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZihyZXR1cm5lZFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybmVkVmFsdWUgPSBbcmV0dXJuZWRWYWx1ZSwgcmVzcG9uc2VdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmKHJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybmVkVmFsdWUgPSByZXNwb25zZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZihtZXRob2RJbnZva2VkKSB7XG4gICAgICAgIGlmKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBtb2R1bGUuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIG1vZHVsZS5pbnZva2UocXVlcnkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmKGluc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpbnN0YW5jZS5pbnZva2UoJ2Rlc3Ryb3knKTtcbiAgICAgICAgfVxuICAgICAgICBtb2R1bGUuaW5pdGlhbGl6ZSgpO1xuICAgICAgfVxuICAgIH0pXG4gIDtcblxuICByZXR1cm4gKHJldHVybmVkVmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICA/IHJldHVybmVkVmFsdWVcbiAgICA6IHRoaXNcbiAgO1xufTtcblxuJC5mbi5uYWcuc2V0dGluZ3MgPSB7XG5cbiAgbmFtZSAgICAgICAgOiAnTmFnJyxcblxuICBzaWxlbnQgICAgICA6IGZhbHNlLFxuICBkZWJ1ZyAgICAgICA6IGZhbHNlLFxuICB2ZXJib3NlICAgICA6IGZhbHNlLFxuICBwZXJmb3JtYW5jZSA6IHRydWUsXG5cbiAgbmFtZXNwYWNlICAgOiAnTmFnJyxcblxuICAvLyBhbGxvd3MgY29va2llIHRvIGJlIG92ZXJyaWRkZW5cbiAgcGVyc2lzdCAgICAgOiBmYWxzZSxcblxuICAvLyBzZXQgdG8gemVybyB0byByZXF1aXJlIG1hbnVhbGx5IGRpc21pc3NhbCwgb3RoZXJ3aXNlIGhpZGVzIG9uIGl0cyBvd25cbiAgZGlzcGxheVRpbWUgOiAwLFxuXG4gIGFuaW1hdGlvbiAgIDoge1xuICAgIHNob3cgOiAnc2xpZGUnLFxuICAgIGhpZGUgOiAnc2xpZGUnXG4gIH0sXG5cbiAgY29udGV4dCAgICAgICA6IGZhbHNlLFxuICBkZXRhY2hhYmxlICAgIDogZmFsc2UsXG5cbiAgZXhwaXJlcyAgICAgICA6IDMwLFxuICBkb21haW4gICAgICAgIDogZmFsc2UsXG4gIHBhdGggICAgICAgICAgOiAnLycsXG5cbiAgLy8gdHlwZSBvZiBzdG9yYWdlIHRvIHVzZVxuICBzdG9yYWdlTWV0aG9kIDogJ2Nvb2tpZScsXG5cbiAgLy8gdmFsdWUgdG8gc3RvcmUgaW4gZGlzbWlzc2VkIGxvY2Fsc3RvcmFnZS9jb29raWVcbiAga2V5ICAgICAgICAgICA6ICduYWcnLFxuICB2YWx1ZSAgICAgICAgIDogJ2Rpc21pc3MnLFxuXG4gIGVycm9yOiB7XG4gICAgbm9Db29raWVTdG9yYWdlIDogJyQuY29va2llIGlzIG5vdCBpbmNsdWRlZC4gQSBzdG9yYWdlIHNvbHV0aW9uIGlzIHJlcXVpcmVkLicsXG4gICAgbm9TdG9yYWdlICAgICAgIDogJ05laXRoZXIgJC5jb29raWUgb3Igc3RvcmUgaXMgZGVmaW5lZC4gQSBzdG9yYWdlIHNvbHV0aW9uIGlzIHJlcXVpcmVkIGZvciBzdG9yaW5nIHN0YXRlJyxcbiAgICBtZXRob2QgICAgICAgICAgOiAnVGhlIG1ldGhvZCB5b3UgY2FsbGVkIGlzIG5vdCBkZWZpbmVkLidcbiAgfSxcblxuICBjbGFzc05hbWUgICAgIDoge1xuICAgIGJvdHRvbSA6ICdib3R0b20nLFxuICAgIGZpeGVkICA6ICdmaXhlZCdcbiAgfSxcblxuICBzZWxlY3RvciAgICAgIDoge1xuICAgIGNsb3NlIDogJy5jbG9zZS5pY29uJ1xuICB9LFxuXG4gIHNwZWVkICAgICAgICAgOiA1MDAsXG4gIGVhc2luZyAgICAgICAgOiAnZWFzZU91dFF1YWQnLFxuXG4gIG9uSGlkZTogZnVuY3Rpb24oKSB7fVxuXG59O1xuXG4vLyBBZGRzIGVhc2luZ1xuJC5leHRlbmQoICQuZWFzaW5nLCB7XG4gIGVhc2VPdXRRdWFkOiBmdW5jdGlvbiAoeCwgdCwgYiwgYywgZCkge1xuICAgIHJldHVybiAtYyAqKHQvPWQpKih0LTIpICsgYjtcbiAgfVxufSk7XG5cbn0pKCBqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQgKTtcbiJdfQ==
