function getItemInfo(e){var t=$(".prompt").val();$.ajax({url:"/analytics/api/v1/std-items",data:{arg:t,page:e},type:"GET",success:function(e){if(console.log(e),$("tbody").children().remove(),$(".page-num").remove(),$(".nums").html(0),1==e.success){for(var t,a=0;a<e.results.length;a++){var r=$('<td><a target="_blank" href="/analytics/merchandise-search-item?item='+e.results[a].id+'" class="header">'+e.results[a].name+"</a></td>"),n=$("<td>"+e.results[a].barcode+"</td>");t=null===e.results[a].image?$("<td>无图片</td>"):$('<td><a  target="_blank" href="/analytics/merchandise-search-item?item='+e.results[a].id+'" class="header">查看图片</a></td>');var s=$("<tr></tr>");s.append(r).append(n).append(t),$("tbody").append(s)}for(var l=1;l<=e.total;l++)$(".next").before('<a class="item page-num">'+l+"</a>");currentPage=e.page,total=e.total,$(".nums").html(e.nums),$("a.page-num").eq(e.page-1).addClass("active").siblings("a.page-num").removeClass("active")}else $("tbody").children().remove(),$("tbody").append("<tr><td>没有匹配结果</td></tr>")}})}var currentPage,total;$(document).ajaxSuccess(function(){$("a.page-num").click(function(){$("html,body").scrollTop(0),getItemInfo($(this).html())}),currentPage<=1?$("a.pre").addClass("disabled"):$("a.pre").removeClass("disabled"),currentPage>=total?$("a.next").addClass("disabled"):$("a.next").removeClass("disabled")}),$(document).ready(function(){$(".prompt").keydown(function(e){13==e.keyCode&&getItemInfo()}),$(".next").click(function(){$("html,body").scrollTop(0),currentPage++,currentPage>=total&&(currentPage=total),getItemInfo(currentPage)}),$(".pre").click(function(){$("html,body").scrollTop(0),currentPage--,currentPage<=1&&(currentPage=1),getItemInfo(currentPage)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuYWx5dGljcy9tZXJjaGFuZGlzZV9zZWFyY2guanMiXSwibmFtZXMiOlsiZ2V0SXRlbUluZm8iLCJwYWdlIiwidmFsdWUiLCIkIiwidmFsIiwiYWpheCIsInVybCIsImRhdGEiLCJhcmciLCJ0eXBlIiwic3VjY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJjaGlsZHJlbiIsInJlbW92ZSIsImh0bWwiLCJpbWFnZUV4aXN0IiwiaSIsInJlc3VsdHMiLCJsZW5ndGgiLCJpdGVtTmFtZSIsImlkIiwibmFtZSIsIml0ZW1CYXJjb2RlIiwiYmFyY29kZSIsImltYWdlIiwiaXRlbVRyIiwiYXBwZW5kIiwiaiIsInRvdGFsIiwiYmVmb3JlIiwiY3VycmVudFBhZ2UiLCJudW1zIiwiZXEiLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJkb2N1bWVudCIsImFqYXhTdWNjZXNzIiwiY2xpY2siLCJzY3JvbGxUb3AiLCJ0aGlzIiwicmVhZHkiLCJrZXlkb3duIiwiZXZlbnQiLCJrZXlDb2RlIl0sIm1hcHBpbmdzIjoiQUFFQSxRQUFTQSxhQUFZQyxHQUNqQixHQUFJQyxHQUFRQyxFQUFFLFdBQVdDLEtBQ3pCRCxHQUFFRSxNQUNFQyxJQUFLLDhCQUNMQyxNQUFPQyxJQUFPTixFQUFPRCxLQUFRQSxHQUM3QlEsS0FBTSxNQUNOQyxRQUFTLFNBQVNILEdBS2QsR0FKQUksUUFBUUMsSUFBSUwsR0FDWkosRUFBRSxTQUFTVSxXQUFXQyxTQUN0QlgsRUFBRSxhQUFhVyxTQUNmWCxFQUFFLFNBQVNZLEtBQUssR0FDSSxHQUFoQlIsRUFBS0csUUFBYyxDQUVuQixJQUFLLEdBRERNLEdBQ0tDLEVBQUksRUFBR0EsRUFBSVYsRUFBS1csUUFBUUMsT0FBUUYsSUFBSyxDQUMxQyxHQUFJRyxHQUFXakIsRUFBRSx3RUFBeUVJLEVBQUtXLFFBQVFELEdBQUdJLEdBQUksb0JBQXFCZCxFQUFLVyxRQUFRRCxHQUFHSyxLQUFNLGFBQ3JKQyxFQUFjcEIsRUFBRSxPQUFRSSxFQUFLVyxRQUFRRCxHQUFHTyxRQUFTLFFBRWpEUixHQUQwQixPQUExQlQsRUFBS1csUUFBUUQsR0FBR1EsTUFDSHRCLEVBQUUsZ0JBRUZBLEVBQUUseUVBQTBFSSxFQUFLVyxRQUFRRCxHQUFHSSxHQUFJLGlDQUVqSCxJQUFJSyxHQUFTdkIsRUFBRSxZQUNmdUIsR0FBT0MsT0FBT1AsR0FBVU8sT0FBT0osR0FBYUksT0FBT1gsR0FDbkRiLEVBQUUsU0FBU3dCLE9BQU9ELEdBR3RCLElBQUssR0FBSUUsR0FBSSxFQUFHQSxHQUFLckIsRUFBS3NCLE1BQU9ELElBQzdCekIsRUFBRSxTQUFTMkIsT0FBTyw0QkFBNkJGLEVBQUcsT0FHdERHLGFBQWN4QixFQUFLTixLQUNuQjRCLE1BQVF0QixFQUFLc0IsTUFDYjFCLEVBQUUsU0FBU1ksS0FBS1IsRUFBS3lCLE1BQ3JCN0IsRUFBRSxjQUFjOEIsR0FBRzFCLEVBQUtOLEtBQUssR0FBR2lDLFNBQVMsVUFBVUMsU0FBUyxjQUFjQyxZQUFZLGNBRXRGakMsR0FBRSxTQUFTVSxXQUFXQyxTQUN0QlgsRUFBRSxTQUFTd0IsT0FBTywrQkF0Q2xDLEdBQUlJLGFBQ0FGLEtBMkNKMUIsR0FBRWtDLFVBQVVDLFlBQVksV0FDcEJuQyxFQUFFLGNBQWNvQyxNQUFNLFdBQ2xCcEMsRUFBRSxhQUFhcUMsVUFBVSxHQUN6QnhDLFlBQVlHLEVBQUVzQyxNQUFNMUIsVUFHcEJnQixhQUFlLEVBQ2Y1QixFQUFFLFNBQVMrQixTQUFTLFlBRXBCL0IsRUFBRSxTQUFTaUMsWUFBWSxZQUd2QkwsYUFBZUYsTUFDZjFCLEVBQUUsVUFBVStCLFNBQVMsWUFFckIvQixFQUFFLFVBQVVpQyxZQUFZLGNBSWhDakMsRUFBRWtDLFVBQVVLLE1BQU0sV0FDZHZDLEVBQUUsV0FBV3dDLFFBQVEsU0FBU0MsR0FDTCxJQUFqQkEsRUFBTUMsU0FDTjdDLGdCQUlSRyxFQUFFLFNBQVNvQyxNQUFNLFdBQ2JwQyxFQUFFLGFBQWFxQyxVQUFVLEdBQ3pCVCxjQUNJQSxhQUFlRixRQUNmRSxZQUFjRixPQUVsQjdCLFlBQVkrQixlQUdoQjVCLEVBQUUsUUFBUW9DLE1BQU0sV0FDWnBDLEVBQUUsYUFBYXFDLFVBQVUsR0FDekJULGNBQ0lBLGFBQWUsSUFDZkEsWUFBYyxHQUVsQi9CLFlBQVkrQiIsImZpbGUiOiJhbmFseXRpY3MvbWVyY2hhbmRpc2Vfc2VhcmNoLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGN1cnJlbnRQYWdlO1xudmFyIHRvdGFsO1xuZnVuY3Rpb24gZ2V0SXRlbUluZm8ocGFnZSkge1xuICAgIHZhciB2YWx1ZSA9ICQoJy5wcm9tcHQnKS52YWwoKTtcbiAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6ICcvYW5hbHl0aWNzL2FwaS92MS9zdGQtaXRlbXMnLFxuICAgICAgICBkYXRhOiB7J2FyZyc6IHZhbHVlLCAncGFnZSc6IHBhZ2V9LFxuICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSlcbiAgICAgICAgICAgICQoJ3Rib2R5JykuY2hpbGRyZW4oKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICQoJy5wYWdlLW51bScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJCgnLm51bXMnKS5odG1sKDApO1xuICAgICAgICAgICAgaWYgKGRhdGEuc3VjY2VzcyA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGltYWdlRXhpc3Q7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1OYW1lID0gJCgnPHRkPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIvYW5hbHl0aWNzL21lcmNoYW5kaXNlLXNlYXJjaC1pdGVtP2l0ZW09JysgZGF0YS5yZXN1bHRzW2ldLmlkICsnXCIgY2xhc3M9XCJoZWFkZXJcIj4nKyBkYXRhLnJlc3VsdHNbaV0ubmFtZSArJzwvYT48L3RkPicpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbUJhcmNvZGUgPSAkKCc8dGQ+JysgZGF0YS5yZXN1bHRzW2ldLmJhcmNvZGUgKyc8L3RkPicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5yZXN1bHRzW2ldLmltYWdlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUV4aXN0ID0gJCgnPHRkPuaXoOWbvueJhzwvdGQ+Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRXhpc3QgPSAkKCc8dGQ+PGEgIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIvYW5hbHl0aWNzL21lcmNoYW5kaXNlLXNlYXJjaC1pdGVtP2l0ZW09JysgZGF0YS5yZXN1bHRzW2ldLmlkICsnXCIgY2xhc3M9XCJoZWFkZXJcIj7mn6XnnIvlm77niYc8L2E+PC90ZD4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbVRyID0gJCgnPHRyPjwvdHI+Jyk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Uci5hcHBlbmQoaXRlbU5hbWUpLmFwcGVuZChpdGVtQmFyY29kZSkuYXBwZW5kKGltYWdlRXhpc3QpO1xuICAgICAgICAgICAgICAgICAgICAkKCd0Ym9keScpLmFwcGVuZChpdGVtVHIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDw9IGRhdGEudG90YWw7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAkKCcubmV4dCcpLmJlZm9yZSgnPGEgY2xhc3M9XCJpdGVtIHBhZ2UtbnVtXCI+JysgaiArJzwvYT4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IGRhdGEucGFnZTtcbiAgICAgICAgICAgICAgICB0b3RhbCA9IGRhdGEudG90YWw7XG4gICAgICAgICAgICAgICAgJCgnLm51bXMnKS5odG1sKGRhdGEubnVtcyk7XG4gICAgICAgICAgICAgICAgJCgnYS5wYWdlLW51bScpLmVxKGRhdGEucGFnZS0xKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoJ2EucGFnZS1udW0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgndGJvZHknKS5jaGlsZHJlbigpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICQoJ3Rib2R5JykuYXBwZW5kKCc8dHI+PHRkPuayoeacieWMuemFjee7k+aenDwvdGQ+PC90cj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4kKGRvY3VtZW50KS5hamF4U3VjY2VzcyhmdW5jdGlvbigpe1xuICAgICQoJ2EucGFnZS1udW0nKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAkKCdodG1sLGJvZHknKS5zY3JvbGxUb3AoMCk7XG4gICAgICAgIGdldEl0ZW1JbmZvKCQodGhpcykuaHRtbCgpKTtcbiAgICB9KTtcblxuICAgIGlmIChjdXJyZW50UGFnZSA8PSAxKSB7XG4gICAgICAgICQoJ2EucHJlJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgfWVsc2Uge1xuICAgICAgICAkKCdhLnByZScpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIGlmIChjdXJyZW50UGFnZSA+PSB0b3RhbCkge1xuICAgICAgICAkKCdhLm5leHQnKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICB9ZWxzZSB7XG4gICAgICAgICQoJ2EubmV4dCcpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgIH1cbn0pO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgJCgnLnByb21wdCcpLmtleWRvd24oZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgZ2V0SXRlbUluZm8oKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLm5leHQnKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAkKCdodG1sLGJvZHknKS5zY3JvbGxUb3AoMCk7XG4gICAgICAgIGN1cnJlbnRQYWdlICsrO1xuICAgICAgICBpZiAoY3VycmVudFBhZ2UgPj0gdG90YWwpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gdG90YWw7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0SXRlbUluZm8oY3VycmVudFBhZ2UpO1xuICAgIH0pO1xuXG4gICAgJCgnLnByZScpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICQoJ2h0bWwsYm9keScpLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgY3VycmVudFBhZ2UgLS07XG4gICAgICAgIGlmIChjdXJyZW50UGFnZSA8PSAxKSB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0SXRlbUluZm8oY3VycmVudFBhZ2UpO1xuICAgIH0pO1xufSk7Il19
