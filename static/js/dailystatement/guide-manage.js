function fillData(){var a=$(".search input").val(),t=$("th .ascending").parent().attr("value")||$("th .descending").parent().attr("value"),e=$(".ascending").attr("class")||$(".descending").attr("class"),i=$(".select-page").val()||1;$.ajax({url:"/api/v1.0/dailystatement/guide",data:{page:i,arg:a,sort:t,order:e,type:type},type:"GET",success:function(a){if(1==a.success){$(".pagination p span").eq(0).text(a.data.pages),$(".pagination p span").eq(1).text(a.data.count),$(".select-page option").remove();for(var t=1;t<=a.data.pages;t++)$(".select-page").append("<option value="+t+">第"+num2Chinese(t)+"页</option>");$(".select-page").val(i);var e="<tr><td></td><td></td><td></td><td></td><td></td><td></td></tr>";$("table tbody tr").remove();for(var d=0;d<a.data.data.length;d++){$("table tbody").append(e),ii=d+1;var l=a.data.data[d].name||"无",n=a.data.data[d].telephone||"无",c=a.data.data[d].store_name||"无",s=a.data.data[d].update_time||"",o=a.data.data[d].status||0;0==o&&(o="长促"),1==o&&(o="休假"),2==o&&(o="离职"),3==o&&(o="短促"),$("table tr:eq("+ii+")").attr("value",a.data.data[d].id),$("table tr:eq("+ii+") td:eq(0)").html('<input class="checkbox" type="checkbox">'),$("table tr:eq("+ii+") td:eq(1)").text(c),$("table tr:eq("+ii+") td:eq(2)").text(l),$("table tr:eq("+ii+") td:eq(3)").text(n),$("table tr:eq("+ii+") td:eq(4)").text(o),$("table tr:eq("+ii+") td:eq(5)").text(s)}}else location.href="/logout"}})}function addOption(){$(".menu").html(""),$("#store_id").html(""),$.ajax({url:"/api/v1.0/dailystatement/store",type:"GET",success:function(a){for(var t in a.data)$(".menu").append("<div class='item' data-value='"+a.data[t].store_name+"'>"+a.data[t].store_name+"</div>")}})}function clear(){$("#guide_id").val(""),$("#name").val(""),$("#telephone").val(""),$("#basic_salary").val(""),$("#store_name").text(""),$("#store_id").val(""),$(".add-guide").hide(),$(".table-wrap").show(),$(".pagination-wrap").show()}var type="";$(document).ready(function(){function a(a){var t=$(".checkbox:checked"),e=[];$(t).each(function(){id=$(this).parent().parent().attr("value"),e.push(id)}),e=JSON.stringify(e),$.ajax({type:"DELETE",url:"/api/v1.0/dailystatement/"+a,data:{ids:e},dataType:"json",success:function(a){0==a.code&&$(t).each(function(){$(this).parent().parent().remove()})}})}setupCSRF(),$(".ui.radio.checkbox").checkbox(),$("#selection").dropdown(),$(".ui.radio.checkbox").click(function(){type=$('input[type="radio"]:checked').attr("id"),fillData()}),$(".sidebar li").eq(3).addClass("active").siblings().removeClass("active"),fillData(),$(".select-page").change(function(){fillData()}),$(".page-turing.prev").click(function(){1!=$(".select-page").val()&&($(".select-page").val($(".select-page").val()-1),fillData())}),$(".page-turing.next").click(function(){$(".select-page").val()!=$(".select-page option").length&&($(".select-page").val(Number($(".select-page").val())+1),fillData())}),$(".search i").click(function(){""!==$.trim($(".search input").val())&&fillData()}),$(".search input").keydown(function(a){13==a.which&&fillData()}),$(".checkbox_all").click(function(){$(this).is(":checked")?$(".checkbox").prop("checked",!0):$(".checkbox").prop("checked",!1)}),$("#delete").click(function(){a("guide")}),$("tbody").on("dblclick","tr",function(){addOption();var a=$(this).children("td"),t=a.eq(2).text(),e=a.eq(3).text(),i=a.eq(1).text(),d=a.eq(5).text();$("#name").val(t),$("#telephone").val(e),$("#basic_salary").val(0),$("#store_name").text(i),$("#store_id").val(i),"长促"==d&&$("#status").val(0),"短促"==d&&$("#status").val(3),$("#guide_id").val($(this).attr("value")),$(".add-guide").show(),$(".table-wrap").hide(),$(".pagination-wrap").hide()}),$("#add").click(function(){addOption(),$(".add-guide").show(),$(".table-wrap").hide(),$(".pagination-wrap").hide()}),$("#add-guide").click(function(){var a=$("#guide_id").val(),t=$("#name").val(),e=$("#telephone").val(),i=$("#basic_salary").val()||0,d=$("#store_id").val(),l=$("#status").val();$.ajax({url:"/api/v1.0/dailystatement/guide",data:{guide_id:a,name:t,telephone:e,basic_salary:i,store_id:d,status:l},type:"POST",success:function(a){1==a.code&&alert(a.error_msg),clear()}})}),$("#cancel").click(function(){clear()})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhaWx5c3RhdGVtZW50L2d1aWRlLW1hbmFnZS5qcyJdLCJuYW1lcyI6WyJmaWxsRGF0YSIsImFyZyIsIiQiLCJ2YWwiLCJzb3J0IiwicGFyZW50IiwiYXR0ciIsIm9yZGVyIiwicGFnZSIsImFqYXgiLCJ1cmwiLCJkYXRhIiwidHlwZSIsInN1Y2Nlc3MiLCJlcSIsInRleHQiLCJwYWdlcyIsImNvdW50IiwicmVtb3ZlIiwiaiIsImFwcGVuZCIsIm51bTJDaGluZXNlIiwibmV3Um93IiwiaSIsImxlbmd0aCIsImlpIiwibmFtZSIsInRlbGVwaG9uZSIsInN0b3JlX25hbWUiLCJ1cGRhdGVfdGltZSIsInN0YXR1cyIsImlkIiwiaHRtbCIsImxvY2F0aW9uIiwiaHJlZiIsImFkZE9wdGlvbiIsImNsZWFyIiwiaGlkZSIsInNob3ciLCJkb2N1bWVudCIsInJlYWR5IiwiZGVsX3RhYmxlIiwiY2hlY2tib3giLCJjaGVja2JveF9saXN0IiwiZWFjaCIsInRoaXMiLCJwdXNoIiwiSlNPTiIsInN0cmluZ2lmeSIsImlkcyIsImRhdGFUeXBlIiwiY29kZSIsInNldHVwQ1NSRiIsImRyb3Bkb3duIiwiY2xpY2siLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJjaGFuZ2UiLCJOdW1iZXIiLCJ0cmltIiwia2V5ZG93biIsImV2ZW50Iiwid2hpY2giLCJpcyIsInByb3AiLCJvbiIsInRkIiwiY2hpbGRyZW4iLCJzdG9yZSIsImd1aWRlX2lkIiwiYmFzaWNfc2FsYXJ5Iiwic3RvcmVfaWQiLCJhbGVydCIsImVycm9yX21zZyJdLCJtYXBwaW5ncyI6IkFBQ0EsUUFBU0EsWUFDTCxHQUFJQyxHQUFNQyxFQUFFLGlCQUFpQkMsTUFDekJDLEVBQU9GLEVBQUUsaUJBQWlCRyxTQUFTQyxLQUFLLFVBQVlKLEVBQUUsa0JBQWtCRyxTQUFTQyxLQUFLLFNBQ3RGQyxFQUFRTCxFQUFFLGNBQWNJLEtBQUssVUFBWUosRUFBRSxlQUFlSSxLQUFLLFNBQy9ERSxFQUFPTixFQUFFLGdCQUFnQkMsT0FBUyxDQUV0Q0QsR0FBRU8sTUFDRUMsSUFBSyxpQ0FDTEMsTUFBT0gsS0FBUUEsRUFBTVAsSUFBT0EsRUFBS0csS0FBUUEsRUFBTUcsTUFBU0EsRUFBT0ssS0FBUUEsTUFDdkVBLEtBQU0sTUFDTkMsUUFBUyxTQUFVRixHQUNmLEdBQW9CLEdBQWhCQSxFQUFLRSxRQUFjLENBQ25CWCxFQUFFLHNCQUFzQlksR0FBRyxHQUFHQyxLQUFLSixFQUFLQSxLQUFLSyxPQUM3Q2QsRUFBRSxzQkFBc0JZLEdBQUcsR0FBR0MsS0FBS0osRUFBS0EsS0FBS00sT0FDN0NmLEVBQUUsdUJBQXVCZ0IsUUFDekIsS0FBSyxHQUFJQyxHQUFJLEVBQUdBLEdBQUtSLEVBQUtBLEtBQUtLLE1BQU9HLElBQ2xDakIsRUFBRSxnQkFBZ0JrQixPQUFPLGlCQUFtQkQsRUFBSSxLQUFPRSxZQUFZRixHQUFLLGFBRTVFakIsR0FBRSxnQkFBZ0JDLElBQUlLLEVBQ3RCLElBQUljLEdBQVMsaUVBQ2JwQixHQUFFLGtCQUFrQmdCLFFBQ3BCLEtBQUssR0FBSUssR0FBSSxFQUFHQSxFQUFJWixFQUFLQSxLQUFLQSxLQUFLYSxPQUFRRCxJQUFLLENBQzVDckIsRUFBRSxlQUFla0IsT0FBT0UsR0FDeEJHLEdBQUtGLEVBQUksQ0FFVCxJQUFJRyxHQUFPZixFQUFLQSxLQUFLQSxLQUFLWSxHQUFHRyxNQUFRLElBQ2pDQyxFQUFZaEIsRUFBS0EsS0FBS0EsS0FBS1ksR0FBR0ksV0FBYSxJQUMzQ0MsRUFBYWpCLEVBQUtBLEtBQUtBLEtBQUtZLEdBQUdLLFlBQWMsSUFDN0NDLEVBQWNsQixFQUFLQSxLQUFLQSxLQUFLWSxHQUFHTSxhQUFlLEdBQy9DQyxFQUFTbkIsRUFBS0EsS0FBS0EsS0FBS1ksR0FBR08sUUFBVSxDQUMzQixJQUFWQSxJQUNBQSxFQUFTLE1BRUMsR0FBVkEsSUFDQUEsRUFBUyxNQUVDLEdBQVZBLElBQ0FBLEVBQVMsTUFFQyxHQUFWQSxJQUNBQSxFQUFTLE1BRWI1QixFQUFFLGVBQWlCdUIsR0FBSyxLQUFLbkIsS0FBSyxRQUFTSyxFQUFLQSxLQUFLQSxLQUFLWSxHQUFHUSxJQUM3RDdCLEVBQUUsZUFBaUJ1QixHQUFLLGNBQWNPLEtBQUssNENBRTNDOUIsRUFBRSxlQUFpQnVCLEdBQUssY0FBY1YsS0FBS2EsR0FDM0MxQixFQUFFLGVBQWlCdUIsR0FBSyxjQUFjVixLQUFLVyxHQUMzQ3hCLEVBQUUsZUFBaUJ1QixHQUFLLGNBQWNWLEtBQUtZLEdBQzNDekIsRUFBRSxlQUFpQnVCLEdBQUssY0FBY1YsS0FBS2UsR0FDM0M1QixFQUFFLGVBQWlCdUIsR0FBSyxjQUFjVixLQUFLYyxRQUcvQ0ksVUFBU0MsS0FBTyxhQU1oQyxRQUFTQyxhQUNMakMsRUFBRSxTQUFTOEIsS0FBSyxJQUNoQjlCLEVBQUUsYUFBYThCLEtBQUssSUFDcEI5QixFQUFFTyxNQUNFQyxJQUFLLGlDQUNMRSxLQUFNLE1BQ05DLFFBQVMsU0FBVUYsR0FDZixJQUFLLEdBQUlZLEtBQUtaLEdBQUtBLEtBQ2ZULEVBQUUsU0FBU2tCLE9BQU8saUNBQW1DVCxFQUFLQSxLQUFLWSxHQUFlLFdBQUksS0FBT1osRUFBS0EsS0FBS1ksR0FBZSxXQUFJLGFBTXRJLFFBQVNhLFNBQ0xsQyxFQUFFLGFBQWFDLElBQUksSUFDbkJELEVBQUUsU0FBU0MsSUFBSSxJQUNmRCxFQUFFLGNBQWNDLElBQUksSUFDcEJELEVBQUUsaUJBQWlCQyxJQUFJLElBQ3ZCRCxFQUFFLGVBQWVhLEtBQUssSUFDdEJiLEVBQUUsYUFBYUMsSUFBSSxJQUNuQkQsRUFBRSxjQUFjbUMsT0FDaEJuQyxFQUFFLGVBQWVvQyxPQUNqQnBDLEVBQUUsb0JBQW9Cb0MsT0FsRjFCLEdBQUkxQixNQUFPLEVBc0ZYVixHQUFFcUMsVUFBVUMsTUFBTSxXQW1EZCxRQUFTQyxHQUFVN0IsR0FDZixHQUFJOEIsR0FBV3hDLEVBQUUscUJBQ2J5QyxJQUNKekMsR0FBRXdDLEdBQVVFLEtBQUssV0FDYmIsR0FBSzdCLEVBQUUyQyxNQUFNeEMsU0FBU0EsU0FBU0MsS0FBSyxTQUNwQ3FDLEVBQWNHLEtBQUtmLE1BRXZCWSxFQUFnQkksS0FBS0MsVUFBVUwsR0FDL0J6QyxFQUFFTyxNQUNFRyxLQUFNLFNBQ05GLElBQUssNEJBQThCRSxFQUNuQ0QsTUFDSXNDLElBQU9OLEdBRVhPLFNBQVUsT0FDVnJDLFFBQVMsU0FBVUYsR0FDRSxHQUFiQSxFQUFLd0MsTUFDTGpELEVBQUV3QyxHQUFVRSxLQUFLLFdBQ2IxQyxFQUFFMkMsTUFBTXhDLFNBQVNBLFNBQVNhLGNBcEU5Q2tDLFlBQ0FsRCxFQUFFLHNCQUNHd0MsV0FFTHhDLEVBQUUsY0FBY21ELFdBQ2hCbkQsRUFBRSxzQkFBc0JvRCxNQUFNLFdBQzFCMUMsS0FBT1YsRUFBRSwrQkFBK0JJLEtBQUssTUFDN0NOLGFBRUpFLEVBQUUsZUFBZVksR0FBRyxHQUFHeUMsU0FBUyxVQUFVQyxXQUFXQyxZQUFZLFVBQ2pFekQsV0FFQUUsRUFBRSxnQkFBZ0J3RCxPQUFPLFdBQ3JCMUQsYUFFSkUsRUFBRSxxQkFBcUJvRCxNQUFNLFdBQ00sR0FBM0JwRCxFQUFFLGdCQUFnQkMsUUFFdEJELEVBQUUsZ0JBQWdCQyxJQUFJRCxFQUFFLGdCQUFnQkMsTUFBUSxHQUNoREgsY0FFSkUsRUFBRSxxQkFBcUJvRCxNQUFNLFdBQ3JCcEQsRUFBRSxnQkFBZ0JDLE9BQVNELEVBQUUsdUJBQXVCc0IsU0FHeER0QixFQUFFLGdCQUFnQkMsSUFBSXdELE9BQU96RCxFQUFFLGdCQUFnQkMsT0FBUyxHQUN4REgsY0FHSkUsRUFBRSxhQUFhb0QsTUFBTSxXQUN3QixLQUFyQ3BELEVBQUUwRCxLQUFLMUQsRUFBRSxpQkFBaUJDLFFBQzFCSCxhQUlSRSxFQUFFLGlCQUFpQjJELFFBQVEsU0FBVUMsR0FDZCxJQUFmQSxFQUFNQyxPQUNOL0QsYUFJUkUsRUFBRSxpQkFBaUJvRCxNQUFNLFdBQ2pCcEQsRUFBRTJDLE1BQU1tQixHQUFHLFlBQ1g5RCxFQUFFLGFBQWErRCxLQUFLLFdBQVcsR0FHL0IvRCxFQUFFLGFBQWErRCxLQUFLLFdBQVcsS0E2QnZDL0QsRUFBRSxXQUFXb0QsTUFBTSxXQUNmYixFQUFVLFdBRWR2QyxFQUFFLFNBQVNnRSxHQUFHLFdBQVksS0FBTSxXQUM1Qi9CLFdBQ0EsSUFBSWdDLEdBQUtqRSxFQUFFMkMsTUFBTXVCLFNBQVMsTUFDdEIxQyxFQUFPeUMsRUFBR3JELEdBQUcsR0FBR0MsT0FDaEJZLEVBQVl3QyxFQUFHckQsR0FBRyxHQUFHQyxPQUVyQnNELEVBQVFGLEVBQUdyRCxHQUFHLEdBQUdDLE9BQ2pCZSxFQUFTcUMsRUFBR3JELEdBQUcsR0FBR0MsTUFDdEJiLEdBQUUsU0FBU0MsSUFBSXVCLEdBQ2Z4QixFQUFFLGNBQWNDLElBQUl3QixHQUNwQnpCLEVBQUUsaUJBQWlCQyxJQUFJLEdBQ3ZCRCxFQUFFLGVBQWVhLEtBQUtzRCxHQUN0Qm5FLEVBQUUsYUFBYUMsSUFBSWtFLEdBQ0wsTUFBVnZDLEdBQ0E1QixFQUFFLFdBQVdDLElBQUksR0FFUCxNQUFWMkIsR0FDQTVCLEVBQUUsV0FBV0MsSUFBSSxHQUVyQkQsRUFBRSxhQUFhQyxJQUFJRCxFQUFFMkMsTUFBTXZDLEtBQUssVUFDaENKLEVBQUUsY0FBY29DLE9BQ2hCcEMsRUFBRSxlQUFlbUMsT0FDakJuQyxFQUFFLG9CQUFvQm1DLFNBRzFCbkMsRUFBRSxRQUFRb0QsTUFBTSxXQUNabkIsWUFDQWpDLEVBQUUsY0FBY29DLE9BQ2hCcEMsRUFBRSxlQUFlbUMsT0FDakJuQyxFQUFFLG9CQUFvQm1DLFNBRzFCbkMsRUFBRSxjQUFjb0QsTUFBTSxXQUNsQixHQUFJZ0IsR0FBV3BFLEVBQUUsYUFBYUMsTUFDMUJ1QixFQUFPeEIsRUFBRSxTQUFTQyxNQUNsQndCLEVBQVl6QixFQUFFLGNBQWNDLE1BQzVCb0UsRUFBZXJFLEVBQUUsaUJBQWlCQyxPQUFTLEVBQzNDcUUsRUFBV3RFLEVBQUUsYUFBYUMsTUFDMUIyQixFQUFTNUIsRUFBRSxXQUFXQyxLQUMxQkQsR0FBRU8sTUFDRUMsSUFBSyxpQ0FDTEMsTUFDSTJELFNBQVlBLEVBQ1o1QyxLQUFRQSxFQUNSQyxVQUFhQSxFQUNiNEMsYUFBZ0JBLEVBQ2hCQyxTQUFZQSxFQUNaMUMsT0FBVUEsR0FFZGxCLEtBQU0sT0FDTkMsUUFBUyxTQUFVRixHQUVDLEdBQWJBLEVBQUt3QyxNQUNKc0IsTUFBTTlELEVBQUsrRCxXQUdmdEMsYUFNWmxDLEVBQUUsV0FBV29ELE1BQU0sV0FDZmxCIiwiZmlsZSI6ImRhaWx5c3RhdGVtZW50L2d1aWRlLW1hbmFnZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciB0eXBlID0gXCJcIjtcbmZ1bmN0aW9uIGZpbGxEYXRhKCkge1xuICAgIHZhciBhcmcgPSAkKFwiLnNlYXJjaCBpbnB1dFwiKS52YWwoKTtcbiAgICB2YXIgc29ydCA9ICQoXCJ0aCAuYXNjZW5kaW5nXCIpLnBhcmVudCgpLmF0dHIoXCJ2YWx1ZVwiKSB8fCAkKFwidGggLmRlc2NlbmRpbmdcIikucGFyZW50KCkuYXR0cihcInZhbHVlXCIpO1xuICAgIHZhciBvcmRlciA9ICQoXCIuYXNjZW5kaW5nXCIpLmF0dHIoXCJjbGFzc1wiKSB8fCAkKFwiLmRlc2NlbmRpbmdcIikuYXR0cihcImNsYXNzXCIpO1xuICAgIHZhciBwYWdlID0gJChcIi5zZWxlY3QtcGFnZVwiKS52YWwoKSB8fCAxO1xuXG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBcIi9hcGkvdjEuMC9kYWlseXN0YXRlbWVudC9ndWlkZVwiLFxuICAgICAgICBkYXRhOiB7XCJwYWdlXCI6IHBhZ2UsIFwiYXJnXCI6IGFyZywgXCJzb3J0XCI6IHNvcnQsIFwib3JkZXJcIjogb3JkZXIsIFwidHlwZVwiOiB0eXBlfSxcbiAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgPT0gMSkge1xuICAgICAgICAgICAgICAgICQoXCIucGFnaW5hdGlvbiBwIHNwYW5cIikuZXEoMCkudGV4dChkYXRhLmRhdGEucGFnZXMpO1xuICAgICAgICAgICAgICAgICQoXCIucGFnaW5hdGlvbiBwIHNwYW5cIikuZXEoMSkudGV4dChkYXRhLmRhdGEuY291bnQpO1xuICAgICAgICAgICAgICAgICQoXCIuc2VsZWN0LXBhZ2Ugb3B0aW9uXCIpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDw9IGRhdGEuZGF0YS5wYWdlczsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIuc2VsZWN0LXBhZ2VcIikuYXBwZW5kKFwiPG9wdGlvbiB2YWx1ZT1cIiArIGogKyBcIj7nrKxcIiArIG51bTJDaGluZXNlKGopICsgXCLpobU8L29wdGlvbj5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQoXCIuc2VsZWN0LXBhZ2VcIikudmFsKHBhZ2UpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdSb3cgPSBcIjx0cj48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48L3RyPlwiO1xuICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0Ym9keSB0clwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuZGF0YS5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0Ym9keVwiKS5hcHBlbmQobmV3Um93KTtcbiAgICAgICAgICAgICAgICAgICAgaWkgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgbnVtYmVyID0gZGF0YS5kYXRhLmRhdGFbaV0ubnVtYmVyIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gZGF0YS5kYXRhLmRhdGFbaV0ubmFtZSB8fCAn5pegJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbGVwaG9uZSA9IGRhdGEuZGF0YS5kYXRhW2ldLnRlbGVwaG9uZSB8fCAn5pegJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlX25hbWUgPSBkYXRhLmRhdGEuZGF0YVtpXS5zdG9yZV9uYW1lIHx8ICfml6AnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlX3RpbWUgPSBkYXRhLmRhdGEuZGF0YVtpXS51cGRhdGVfdGltZSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXR1cyA9IGRhdGEuZGF0YS5kYXRhW2ldLnN0YXR1cyB8fCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9ICfplb/kv4MnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSAn5LyR5YGHJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gJ+emu+iBjCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9ICfnn63kv4MnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgJChcInRhYmxlIHRyOmVxKFwiICsgaWkgKyBcIilcIikuYXR0cihcInZhbHVlXCIsIGRhdGEuZGF0YS5kYXRhW2ldLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgJChcInRhYmxlIHRyOmVxKFwiICsgaWkgKyBcIikgdGQ6ZXEoMClcIikuaHRtbCgnPGlucHV0IGNsYXNzPVwiY2hlY2tib3hcIiB0eXBlPVwiY2hlY2tib3hcIj4nKTtcbiAgICAgICAgICAgICAgICAgICAgLy8kKFwidGFibGUgdHI6ZXEoXCIgKyBpaSArIFwiKSB0ZDplcSgxKVwiKS50ZXh0KG51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0cjplcShcIiArIGlpICsgXCIpIHRkOmVxKDEpXCIpLnRleHQoc3RvcmVfbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0cjplcShcIiArIGlpICsgXCIpIHRkOmVxKDIpXCIpLnRleHQobmFtZSlcbiAgICAgICAgICAgICAgICAgICAgJChcInRhYmxlIHRyOmVxKFwiICsgaWkgKyBcIikgdGQ6ZXEoMylcIikudGV4dCh0ZWxlcGhvbmUpO1xuICAgICAgICAgICAgICAgICAgICAkKFwidGFibGUgdHI6ZXEoXCIgKyBpaSArIFwiKSB0ZDplcSg0KVwiKS50ZXh0KHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0cjplcShcIiArIGlpICsgXCIpIHRkOmVxKDUpXCIpLnRleHQodXBkYXRlX3RpbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IFwiL2xvZ291dFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZE9wdGlvbigpIHtcbiAgICAkKFwiLm1lbnVcIikuaHRtbChcIlwiKTtcbiAgICAkKFwiI3N0b3JlX2lkXCIpLmh0bWwoXCJcIik7XG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBcIi9hcGkvdjEuMC9kYWlseXN0YXRlbWVudC9zdG9yZVwiLFxuICAgICAgICB0eXBlOiBcIkdFVFwiLFxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBkYXRhLmRhdGEpIHtcbiAgICAgICAgICAgICAgICAkKFwiLm1lbnVcIikuYXBwZW5kKFwiPGRpdiBjbGFzcz0naXRlbScgZGF0YS12YWx1ZT0nXCIgKyBkYXRhLmRhdGFbaV1bJ3N0b3JlX25hbWUnXSArIFwiJz5cIiArIGRhdGEuZGF0YVtpXVsnc3RvcmVfbmFtZSddICsgXCI8L2Rpdj5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgJChcIiNndWlkZV9pZFwiKS52YWwoXCJcIik7XG4gICAgJChcIiNuYW1lXCIpLnZhbChcIlwiKTtcbiAgICAkKFwiI3RlbGVwaG9uZVwiKS52YWwoXCJcIik7XG4gICAgJChcIiNiYXNpY19zYWxhcnlcIikudmFsKFwiXCIpO1xuICAgICQoXCIjc3RvcmVfbmFtZVwiKS50ZXh0KFwiXCIpO1xuICAgICQoXCIjc3RvcmVfaWRcIikudmFsKFwiXCIpO1xuICAgICQoXCIuYWRkLWd1aWRlXCIpLmhpZGUoKTtcbiAgICAkKFwiLnRhYmxlLXdyYXBcIikuc2hvdygpO1xuICAgICQoXCIucGFnaW5hdGlvbi13cmFwXCIpLnNob3coKTtcbn1cblxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgc2V0dXBDU1JGKCk7XG4gICAgJCgnLnVpLnJhZGlvLmNoZWNrYm94JylcbiAgICAgICAgLmNoZWNrYm94KClcbiAgICA7XG4gICAgJChcIiNzZWxlY3Rpb25cIikuZHJvcGRvd24oKTtcbiAgICAkKCcudWkucmFkaW8uY2hlY2tib3gnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHR5cGUgPSAkKCdpbnB1dFt0eXBlPVwicmFkaW9cIl06Y2hlY2tlZCcpLmF0dHIoXCJpZFwiKTtcbiAgICAgICAgZmlsbERhdGEoKTtcbiAgICB9KTtcbiAgICAkKFwiLnNpZGViYXIgbGlcIikuZXEoMykuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICBmaWxsRGF0YSgpO1xuXG4gICAgJChcIi5zZWxlY3QtcGFnZVwiKS5jaGFuZ2UoZnVuY3Rpb24gKCkge1xuICAgICAgICBmaWxsRGF0YSgpO1xuICAgIH0pO1xuICAgICQoXCIucGFnZS10dXJpbmcucHJldlwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKFwiLnNlbGVjdC1wYWdlXCIpLnZhbCgpID09IDEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICQoXCIuc2VsZWN0LXBhZ2VcIikudmFsKCQoXCIuc2VsZWN0LXBhZ2VcIikudmFsKCkgLSAxKTtcbiAgICAgICAgZmlsbERhdGEoKTtcbiAgICB9KTtcbiAgICAkKFwiLnBhZ2UtdHVyaW5nLm5leHRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJChcIi5zZWxlY3QtcGFnZVwiKS52YWwoKSA9PSAkKFwiLnNlbGVjdC1wYWdlIG9wdGlvblwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAkKFwiLnNlbGVjdC1wYWdlXCIpLnZhbChOdW1iZXIoJChcIi5zZWxlY3QtcGFnZVwiKS52YWwoKSkgKyAxKTtcbiAgICAgICAgZmlsbERhdGEoKTtcbiAgICB9KTtcblxuICAgICQoXCIuc2VhcmNoIGlcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJC50cmltKCQoXCIuc2VhcmNoIGlucHV0XCIpLnZhbCgpKSAhPT0gXCJcIikge1xuICAgICAgICAgICAgZmlsbERhdGEoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChcIi5zZWFyY2ggaW5wdXRcIikua2V5ZG93bihmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LndoaWNoID09IDEzKSB7XG4gICAgICAgICAgICBmaWxsRGF0YSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKFwiLmNoZWNrYm94X2FsbFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAkKFwiLmNoZWNrYm94XCIpLnByb3AoXCJjaGVja2VkXCIsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgJChcIi5jaGVja2JveFwiKS5wcm9wKFwiY2hlY2tlZFwiLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGRlbF90YWJsZSh0eXBlKSB7XG4gICAgICAgIHZhciBjaGVja2JveCA9ICQoJy5jaGVja2JveDpjaGVja2VkJyk7XG4gICAgICAgIHZhciBjaGVja2JveF9saXN0ID0gW107XG4gICAgICAgICQoY2hlY2tib3gpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWQgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ3ZhbHVlJyk7XG4gICAgICAgICAgICBjaGVja2JveF9saXN0LnB1c2goaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2hlY2tib3hfbGlzdCA9IEpTT04uc3RyaW5naWZ5KGNoZWNrYm94X2xpc3QpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJERUxFVEVcIixcbiAgICAgICAgICAgIHVybDogXCIvYXBpL3YxLjAvZGFpbHlzdGF0ZW1lbnQvXCIgKyB0eXBlLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIFwiaWRzXCI6IGNoZWNrYm94X2xpc3RcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAkKGNoZWNrYm94KS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCkucGFyZW50KCkucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJChcIiNkZWxldGVcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWxfdGFibGUoJ2d1aWRlJyk7XG4gICAgfSk7XG4gICAgJChcInRib2R5XCIpLm9uKCdkYmxjbGljaycsICd0cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWRkT3B0aW9uKCk7XG4gICAgICAgIHZhciB0ZCA9ICQodGhpcykuY2hpbGRyZW4oJ3RkJyk7XG4gICAgICAgIHZhciBuYW1lID0gdGQuZXEoMikudGV4dCgpO1xuICAgICAgICB2YXIgdGVsZXBob25lID0gdGQuZXEoMykudGV4dCgpO1xuICAgICAgICAvLyB2YXIgYmFzaWNfc2FsYXJ5ID0gdGQuZXEoNCkudGV4dCgpO1xuICAgICAgICB2YXIgc3RvcmUgPSB0ZC5lcSgxKS50ZXh0KCk7XG4gICAgICAgIHZhciBzdGF0dXMgPSB0ZC5lcSg1KS50ZXh0KCk7XG4gICAgICAgICQoXCIjbmFtZVwiKS52YWwobmFtZSk7XG4gICAgICAgICQoXCIjdGVsZXBob25lXCIpLnZhbCh0ZWxlcGhvbmUpO1xuICAgICAgICAkKFwiI2Jhc2ljX3NhbGFyeVwiKS52YWwoMCk7XG4gICAgICAgICQoXCIjc3RvcmVfbmFtZVwiKS50ZXh0KHN0b3JlKTtcbiAgICAgICAgJChcIiNzdG9yZV9pZFwiKS52YWwoc3RvcmUpO1xuICAgICAgICBpZiAoc3RhdHVzID09ICfplb/kv4MnKSB7XG4gICAgICAgICAgICAkKFwiI3N0YXR1c1wiKS52YWwoMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA9PSAn55+t5L+DJykge1xuICAgICAgICAgICAgJChcIiNzdGF0dXNcIikudmFsKDMpO1xuICAgICAgICB9XG4gICAgICAgICQoXCIjZ3VpZGVfaWRcIikudmFsKCQodGhpcykuYXR0cigndmFsdWUnKSk7XG4gICAgICAgICQoXCIuYWRkLWd1aWRlXCIpLnNob3coKTtcbiAgICAgICAgJChcIi50YWJsZS13cmFwXCIpLmhpZGUoKTtcbiAgICAgICAgJChcIi5wYWdpbmF0aW9uLXdyYXBcIikuaGlkZSgpO1xuICAgIH0pO1xuXG4gICAgJChcIiNhZGRcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRPcHRpb24oKTtcbiAgICAgICAgJChcIi5hZGQtZ3VpZGVcIikuc2hvdygpO1xuICAgICAgICAkKFwiLnRhYmxlLXdyYXBcIikuaGlkZSgpO1xuICAgICAgICAkKFwiLnBhZ2luYXRpb24td3JhcFwiKS5oaWRlKCk7XG4gICAgfSk7XG5cbiAgICAkKFwiI2FkZC1ndWlkZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBndWlkZV9pZCA9ICQoXCIjZ3VpZGVfaWRcIikudmFsKCk7XG4gICAgICAgIHZhciBuYW1lID0gJChcIiNuYW1lXCIpLnZhbCgpO1xuICAgICAgICB2YXIgdGVsZXBob25lID0gJChcIiN0ZWxlcGhvbmVcIikudmFsKCk7XG4gICAgICAgIHZhciBiYXNpY19zYWxhcnkgPSAkKFwiI2Jhc2ljX3NhbGFyeVwiKS52YWwoKSB8fCAwO1xuICAgICAgICB2YXIgc3RvcmVfaWQgPSAkKFwiI3N0b3JlX2lkXCIpLnZhbCgpO1xuICAgICAgICB2YXIgc3RhdHVzID0gJChcIiNzdGF0dXNcIikudmFsKCk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB1cmw6IFwiL2FwaS92MS4wL2RhaWx5c3RhdGVtZW50L2d1aWRlXCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgXCJndWlkZV9pZFwiOiBndWlkZV9pZCxcbiAgICAgICAgICAgICAgICBcIm5hbWVcIjogbmFtZSxcbiAgICAgICAgICAgICAgICBcInRlbGVwaG9uZVwiOiB0ZWxlcGhvbmUsXG4gICAgICAgICAgICAgICAgXCJiYXNpY19zYWxhcnlcIjogYmFzaWNfc2FsYXJ5LFxuICAgICAgICAgICAgICAgIFwic3RvcmVfaWRcIjogc3RvcmVfaWQsXG4gICAgICAgICAgICAgICAgXCJzdGF0dXNcIjogc3RhdHVzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5jb2RlID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoZGF0YS5lcnJvcl9tc2cpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNsZWFyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSlcbiAgICB9KTtcblxuICAgICQoXCIjY2FuY2VsXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXIoKTtcbiAgICB9KTtcbn0pOyJdfQ==
