function del_table(t){var e=$(".checkbox:checked"),a=[];$(e).each(function(){id=$(this).parent().parent().attr("value"),a.push(id)}),a=JSON.stringify(a),$.ajax({type:"DELETE",url:"/api/v1.0/dailystatement/"+t,data:{ids:a},dataType:"json",success:function(t){0==t.code&&$(e).each(function(){$(this).parent().parent().remove()})}})}function check_input(){var t=0;return $("input[class='require']").each(function(){$(this).removeClass("error"),""==$(this).val()&&(t=1,$(this).addClass("error"))}),t}function add_option(){var t=new Date,e=t.getFullYear()-2017+1;$(".year-selection").html(""),$(".month-selection").html(""),$(".day-selection").html("");for(var a=0;a<e;a++){var n=2017+a,o="<option>"+n+"</option>";$(".year-selection").append(o)}for(var a=1;a<13;a++){var o="<option>"+a+"</option>";$(".month-selection").append(o)}for(var a=1;a<32;a++){var o="<option>"+a+"</option>";$(".day-selection").append(o)}$(".year-selection").val(t.getFullYear()),$(".month-selection").val(t.getMonth()+1),$("#end-day").val(t.getDate())}function formatDate(t,e,a){return e<10&&(e="0"+e),a<10&&(a="0"+a),console.log(t+"-"+e+"-"+a),t+"-"+e+"-"+a}function getMonthDays(t){var e=new Date;year=e.getFullYear();var a=new Date(year,t,1),n=new Date(year,t+1,1),o=(n-a)/864e5;return o}function get_today(){var t=new Date;start_time=formatDate(t.getFullYear(),t.getMonth()+1,t.getDate()),end_time=start_time}function get_lastweek_time(){var t=new Date,e=t.getFullYear(),a=t.getMonth(),n=t.getDate(),o=t.getDay(),r=new Date(e,a,n-o-6),i=new Date(e,a,n-o);start_time=formatDate(r.getFullYear(),r.getMonth()+1,r.getDate()),end_time=formatDate(i.getFullYear(),i.getMonth()+1,i.getDate())}function get_lastmonth_time(){var t=new Date,e=t.getFullYear(),a=t.getMonth(),n=a-1,o=new Date(e,n,1),r=new Date(e,n,getMonthDays(n));start_time=formatDate(o.getFullYear(),o.getMonth()+1,o.getDate()),end_time=formatDate(r.getFullYear(),r.getMonth()+1,r.getDate())}function get_user_time(){var t=new Date($("#start-year").val(),$("#start-month").val(),$("#start-day").val()),e=new Date($("#end-year").val(),$("#end-month").val(),$("#end-day").val()),a=e-t,n=a.toFixed(2)/864e5+1;n<0?alert("请正确选择起始时间！"):(start_time=formatDate($("#start-year").val(),$("#start-month").val(),$("#start-day").val()),end_time=formatDate($("#end-year").val(),$("#end-month").val(),$("#end-day").val()))}var start_time,end_time;$(".date .button").click(function(){$(".date .button").removeClass("active"),$(this).addClass("active"),"date-select"==$(this).attr("id")?(add_option(),$(".triangle").show(),$(".date-select").show()):($(".triangle").hide(),$(".date-select").hide())}),$("#lastweek").click(function(){get_lastweek_time(),fillData()}),$("#lastmonth").click(function(){get_lastmonth_time(),fillData()}),$("#usertime").click(function(){get_user_time(),fillData()}),$(".data").hover(function(){$(".sidebar-child").show()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhaWx5c3RhdGVtZW50L2Jhc2UuanMiXSwibmFtZXMiOlsiZGVsX3RhYmxlIiwidHlwZSIsImNoZWNrYm94IiwiJCIsImNoZWNrYm94X2xpc3QiLCJlYWNoIiwiaWQiLCJ0aGlzIiwicGFyZW50IiwiYXR0ciIsInB1c2giLCJKU09OIiwic3RyaW5naWZ5IiwiYWpheCIsInVybCIsImRhdGEiLCJpZHMiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJjb2RlIiwicmVtb3ZlIiwiY2hlY2tfaW5wdXQiLCJmbGFnIiwicmVtb3ZlQ2xhc3MiLCJ2YWwiLCJhZGRDbGFzcyIsImFkZF9vcHRpb24iLCJkYXRlIiwiRGF0ZSIsImRpZmYiLCJnZXRGdWxsWWVhciIsImh0bWwiLCJpIiwibmV3eWVhciIsIm9wdGlvbiIsImFwcGVuZCIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsImZvcm1hdERhdGUiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJjb25zb2xlIiwibG9nIiwiZ2V0TW9udGhEYXlzIiwibXlNb250aCIsIm1vbnRoU3RhcnREYXRlIiwibW9udGhFbmREYXRlIiwiZGF5cyIsImdldF90b2RheSIsInN0YXJ0X3RpbWUiLCJlbmRfdGltZSIsImdldF9sYXN0d2Vla190aW1lIiwiZ2V0RGF5Iiwic3RhcnRfZGF0ZSIsImVuZF9kYXRlIiwiZ2V0X2xhc3Rtb250aF90aW1lIiwibGFzdG1vbnRoIiwiZ2V0X3VzZXJfdGltZSIsImludGVydmFsVGltZSIsImludGVydmFsRGF5cyIsInRvRml4ZWQiLCJhbGVydCIsImNsaWNrIiwic2hvdyIsImhpZGUiLCJmaWxsRGF0YSIsImhvdmVyIl0sIm1hcHBpbmdzIjoiQUFJQSxRQUFTQSxXQUFVQyxHQUNmLEdBQUlDLEdBQVdDLEVBQUUscUJBQ2JDLElBQ0pELEdBQUVELEdBQVVHLEtBQUssV0FDYkMsR0FBS0gsRUFBRUksTUFBTUMsU0FBU0EsU0FBU0MsS0FBSyxTQUNwQ0wsRUFBY00sS0FBS0osTUFFdkJGLEVBQWdCTyxLQUFLQyxVQUFV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QUFrQjZEIiwiZmlsZSI6ImRhaWx5c3RhdGVtZW50L2Jhc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG52YXIgc3RhcnRfdGltZTtcbnZhciBlbmRfdGltZTtcblxuZnVuY3Rpb24gZGVsX3RhYmxlKHR5cGUpIHtcbiAgICB2YXIgY2hlY2tib3ggPSAkKCcuY2hlY2tib3g6Y2hlY2tlZCcpO1xuICAgIHZhciBjaGVja2JveF9saXN0ID0gW11cbiAgICAkKGNoZWNrYm94KS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWQgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ3ZhbHVlJyk7XG4gICAgICAgIGNoZWNrYm94X2xpc3QucHVzaChpZCk7XG4gICAgfSk7XG4gICAgY2hlY2tib3hfbGlzdCA9IEpTT04uc3RyaW5naWZ5KGNoZWNrYm94X2xpc3QpXG4gICAgJC5hamF4KHtcbiAgICAgICAgdHlwZTogXCJERUxFVEVcIixcbiAgICAgICAgdXJsOiBcIi9hcGkvdjEuMC9kYWlseXN0YXRlbWVudC9cIiArIHR5cGUsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIFwiaWRzXCI6IGNoZWNrYm94X2xpc3QsXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgICQoY2hlY2tib3gpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgO1xuXG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrX2lucHV0KCkge1xuICAgIHZhciBmbGFnID0gMDtcbiAgICAkKFwiaW5wdXRbY2xhc3M9J3JlcXVpcmUnXVwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZXJyb3InKTtcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT0gJycpIHtcbiAgICAgICAgICAgIGZsYWcgPSAxO1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZXJyb3InKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmbGFnXG59XG5cbmZ1bmN0aW9uIGFkZF9vcHRpb24oKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHZhciBkaWZmID0gZGF0ZS5nZXRGdWxsWWVhcigpIC0gMjAxNyArIDE7XG4gICAgJChcIi55ZWFyLXNlbGVjdGlvblwiKS5odG1sKFwiXCIpO1xuICAgICQoXCIubW9udGgtc2VsZWN0aW9uXCIpLmh0bWwoXCJcIik7XG4gICAgJChcIi5kYXktc2VsZWN0aW9uXCIpLmh0bWwoXCJcIik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaWZmOyBpKyspIHtcbiAgICAgICAgdmFyIG5ld3llYXIgPSAyMDE3ICsgaTtcbiAgICAgICAgdmFyIG9wdGlvbiA9IFwiPG9wdGlvbj5cIiArIG5ld3llYXIgKyBcIjwvb3B0aW9uPlwiO1xuICAgICAgICAkKFwiLnllYXItc2VsZWN0aW9uXCIpLmFwcGVuZChvcHRpb24pO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IDEzOyBpKyspIHtcbiAgICAgICAgdmFyIG9wdGlvbiA9IFwiPG9wdGlvbj5cIiArIGkgKyBcIjwvb3B0aW9uPlwiO1xuICAgICAgICAkKFwiLm1vbnRoLXNlbGVjdGlvblwiKS5hcHBlbmQob3B0aW9uKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCAzMjsgaSsrKSB7XG4gICAgICAgIHZhciBvcHRpb24gPSBcIjxvcHRpb24+XCIgKyBpICsgXCI8L29wdGlvbj5cIjtcbiAgICAgICAgJChcIi5kYXktc2VsZWN0aW9uXCIpLmFwcGVuZChvcHRpb24pO1xuICAgIH1cbiAgICAkKFwiLnllYXItc2VsZWN0aW9uXCIpLnZhbChkYXRlLmdldEZ1bGxZZWFyKCkpO1xuICAgICQoXCIubW9udGgtc2VsZWN0aW9uXCIpLnZhbChkYXRlLmdldE1vbnRoKCkrMSk7XG4gICAgJChcIiNlbmQtZGF5XCIpLnZhbChkYXRlLmdldERhdGUoKSk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERhdGUoeWVhciwgbW9udGgsIGRheSkge1xuICAgIGlmIChtb250aCA8IDEwKSB7XG4gICAgICAgIG1vbnRoID0gXCIwXCIgKyBtb250aDtcbiAgICB9XG4gICAgaWYgKGRheSA8IDEwKSB7XG4gICAgICAgIGRheSA9IFwiMFwiICsgZGF5O1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyh5ZWFyICsgXCItXCIgKyBtb250aCArIFwiLVwiICsgZGF5KTtcbiAgICByZXR1cm4gKHllYXIgKyBcIi1cIiArIG1vbnRoICsgXCItXCIgKyBkYXkpO1xufVxuXG5mdW5jdGlvbiBnZXRNb250aERheXMobXlNb250aCkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIHZhciBtb250aFN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHllYXIsIG15TW9udGgsIDEpO1xuICAgIHZhciBtb250aEVuZERhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBteU1vbnRoICsgMSwgMSk7XG4gICAgdmFyIGRheXMgPSAobW9udGhFbmREYXRlIC0gbW9udGhTdGFydERhdGUpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpO1xuICAgIHJldHVybiBkYXlzO1xufVxuXG5mdW5jdGlvbiBnZXRfdG9kYXkoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHN0YXJ0X3RpbWUgPSBmb3JtYXREYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpKzEsIGRhdGUuZ2V0RGF0ZSgpKTtcbiAgICBlbmRfdGltZSA9IHN0YXJ0X3RpbWU7XG59XG5cbmZ1bmN0aW9uIGdldF9sYXN0d2Vla190aW1lKCkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTtcbiAgICB2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICB2YXIgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gICAgdmFyIGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIHZhciBkYXlzID0gZGF0ZS5nZXREYXkoKTtcbiAgICB2YXIgc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkgLSBkYXlzIC0gNik7XG4gICAgdmFyIGVuZF9kYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSAtIGRheXMpO1xuICAgIHN0YXJ0X3RpbWUgPSBmb3JtYXREYXRlKHN0YXJ0X2RhdGUuZ2V0RnVsbFllYXIoKSwgc3RhcnRfZGF0ZS5nZXRNb250aCgpICsgMSwgc3RhcnRfZGF0ZS5nZXREYXRlKCkpO1xuICAgIGVuZF90aW1lID0gZm9ybWF0RGF0ZShlbmRfZGF0ZS5nZXRGdWxsWWVhcigpLCBlbmRfZGF0ZS5nZXRNb250aCgpICsgMSwgZW5kX2RhdGUuZ2V0RGF0ZSgpKTtcblxufVxuXG5mdW5jdGlvbiBnZXRfbGFzdG1vbnRoX3RpbWUoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIHZhciBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICB2YXIgbGFzdG1vbnRoID0gbW9udGggLSAxO1xuICAgIHZhciBzdGFydF9kYXRlID0gbmV3IERhdGUoeWVhciwgbGFzdG1vbnRoLCAxKTtcbiAgICB2YXIgZW5kX2RhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBsYXN0bW9udGgsIGdldE1vbnRoRGF5cyhsYXN0bW9udGgpKTtcbiAgICBzdGFydF90aW1lID0gZm9ybWF0RGF0ZShzdGFydF9kYXRlLmdldEZ1bGxZZWFyKCksIHN0YXJ0X2RhdGUuZ2V0TW9udGgoKSArIDEsIHN0YXJ0X2RhdGUuZ2V0RGF0ZSgpKTtcbiAgICBlbmRfdGltZSA9IGZvcm1hdERhdGUoZW5kX2RhdGUuZ2V0RnVsbFllYXIoKSwgZW5kX2RhdGUuZ2V0TW9udGgoKSArIDEsIGVuZF9kYXRlLmdldERhdGUoKSk7XG59XG5cbmZ1bmN0aW9uIGdldF91c2VyX3RpbWUoKSB7XG4gICAgdmFyIHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZSgkKFwiI3N0YXJ0LXllYXJcIikudmFsKCksICQoXCIjc3RhcnQtbW9udGhcIikudmFsKCksICQoXCIjc3RhcnQtZGF5XCIpLnZhbCgpKTtcbiAgICB2YXIgZW5kX2RhdGUgPSBuZXcgRGF0ZSgkKFwiI2VuZC15ZWFyXCIpLnZhbCgpLCAkKFwiI2VuZC1tb250aFwiKS52YWwoKSwgJChcIiNlbmQtZGF5XCIpLnZhbCgpKTtcbiAgICB2YXIgaW50ZXJ2YWxUaW1lID0gZW5kX2RhdGUgLSBzdGFydF9kYXRlO1xuICAgIHZhciBpbnRlcnZhbERheXMgPSAoKGludGVydmFsVGltZSkudG9GaXhlZCgyKSAvIDg2NDAwMDAwKSArIDE7XG4gICAgaWYgKGludGVydmFsRGF5cyA8IDApIHtcbiAgICAgICAgYWxlcnQoXCLor7fmraPnoa7pgInmi6notbflp4vml7bpl7TvvIFcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGFydF90aW1lID0gZm9ybWF0RGF0ZSgkKFwiI3N0YXJ0LXllYXJcIikudmFsKCksICQoXCIjc3RhcnQtbW9udGhcIikudmFsKCksICQoXCIjc3RhcnQtZGF5XCIpLnZhbCgpKTtcbiAgICAgICAgZW5kX3RpbWUgPSBmb3JtYXREYXRlKCQoXCIjZW5kLXllYXJcIikudmFsKCksICQoXCIjZW5kLW1vbnRoXCIpLnZhbCgpLCAkKFwiI2VuZC1kYXlcIikudmFsKCkpXG4gICAgfVxufVxuXG4kKFwiLmRhdGUgLmJ1dHRvblwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgJChcIi5kYXRlIC5idXR0b25cIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgJCh0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICBpZiAoJCh0aGlzKS5hdHRyKFwiaWRcIikgPT0gXCJkYXRlLXNlbGVjdFwiKSB7XG4gICAgICAgIGFkZF9vcHRpb24oKTtcbiAgICAgICAgJChcIi50cmlhbmdsZVwiKS5zaG93KCk7XG4gICAgICAgICQoXCIuZGF0ZS1zZWxlY3RcIikuc2hvdygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgJChcIi50cmlhbmdsZVwiKS5oaWRlKCk7XG4gICAgICAgICQoXCIuZGF0ZS1zZWxlY3RcIikuaGlkZSgpO1xuICAgIH1cbn0pO1xuXG4kKFwiI2xhc3R3ZWVrXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBnZXRfbGFzdHdlZWtfdGltZSgpO1xuICAgIGZpbGxEYXRhKCk7XG59KTtcbiQoXCIjbGFzdG1vbnRoXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBnZXRfbGFzdG1vbnRoX3RpbWUoKTtcbiAgICBmaWxsRGF0YSgpO1xufSk7XG4kKFwiI3VzZXJ0aW1lXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICBnZXRfdXNlcl90aW1lKCk7XG4gICAgZmlsbERhdGEoKTtcbn0pO1xuXG4kKFwiLmRhdGFcIikuaG92ZXIoZnVuY3Rpb24gKCl7XG4gICAgJChcIi5zaWRlYmFyLWNoaWxkXCIpLnNob3coKTtcbn0pOyJdfQ==
