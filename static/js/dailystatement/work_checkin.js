function fillData(){var t=$("#startTime").attr("value"),e=$("#endTime").attr("value"),a=$(".search input").val(),d=$("th .ascending").parent().attr("value")||$("th .descending").parent().attr("value"),l=$(".ascending").attr("class")||$(".descending").attr("class");compareDate(t,e);""!==$.trim(a)&&(page=1),$.ajax({url:"/api/v1.0/dailystatement/work_checkin",data:{start_time:t,end_time:e,arg:a,sort:d,order:l},type:"GET",success:function(t){if(1==t.success){var e="<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>";$("table tbody tr").remove();for(var a=0;a<t.data.data.length;a++){$("table tbody").append(e),ii=a+1;var d=t.data.data[a].number||"无",l=(t.data.data[a].store_name||"无",t.data.data[a].name||"无");$("table tr:eq("+ii+")").attr("value",t.data.data[a].id),$("table tr:eq("+ii+") td:eq(0)").text(d),$("table tr:eq("+ii+") td:eq(1)").text(t.data.data[a].store_name),$("table tr:eq("+ii+") td:eq(2)").text(l),$("table tr:eq("+ii+") td:eq(3)").text(t.data.data[a].work_time),$("table tr:eq("+ii+") td:eq(4)").text(t.data.data[a].work_address),$("table tr:eq("+ii+") td:eq(5)").text(t.data.data[a].worked_time),$("table tr:eq("+ii+") td:eq(6)").text(t.data.data[a].worked_address),$("table tr:eq("+ii+") td:eq(7)").text(t.data.data[a].phone_model),$("table tr:eq("+ii+") td:eq(8)").text(t.data.data[a].phone_platform),$("table tr:eq("+ii+") td:eq(9)").text(t.data.data[a].phone_system)}setTbaleWidth()}else location.href="/logout"}})}$(document).ready(function(){$(".sidebar li").eq(1).addClass("active").siblings().removeClass("active");var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-1",a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();$("#startTime").attr("value",e),$("#endTime").attr("value",a),fillData(),$("a[value='storeanalysis']").addClass("sidebar-color"),$(".date li").click(function(){$(".date-choiced").removeClass(),$(this).addClass("date-choiced"),fillData();var t=$(this).scrollLeft();$("table th").eq(0).css("left",t),$("table th").eq(1).css("left",t),$("table th").eq(2).css("left",t),$("table th").eq(3).css("left",t).addClass("box-shadow"),$("table td:nth-child(1)").css("left",t),$("table td:nth-child(2)").css("left",t),$("table td:nth-child(3)").css("left",t),$("table td:nth-child(4)").css("left",t).addClass("box-shadow"),0===Number($(this).scrollLeft())&&($("table th").eq(3).removeClass("box-shadow"),$("table td:nth-child(4)").removeClass("box-shadow"))}),$(".select-page").change(function(){fillData()}),$(".page-turing.prev").click(function(){1!=$(".select-page").val()&&($(".select-page").val($(".select-page").val()-1),fillData())}),$(".page-turing.next").click(function(){$(".select-page").val()!=$(".select-page option").length&&($(".select-page").val(Number($(".select-page").val())+1),fillData())}),$(".add-image:eq(0)").click(function(){"hidden"==$(".explain-box").attr("hidden")?$(".explain-box").removeAttr("hidden"):$(".explain-box").attr("hidden","hidden")}),$(".add-image:eq(1)").click(function(){"hidden"==$(".add-items").attr("hidden")?$(".add-items").removeAttr("hidden"):$(".add-items").attr("hidden","hidden")}),$(".float-right input:eq(0), .float-right input:eq(1)").click(function(){$(".add-items").attr("hidden","hidden")}),$(".float-right input:eq(2)").click(function(){$(".add-items").attr("hidden","hidden"),$("input:checkbox:not(:checked)").each(function(){hideTableCol($("table"),$(this).attr("value"))}),$("input:checkbox:checked").each(function(){showTableCol($("table"),$(this).attr("value"))}),setTbaleWidth()}),$(".search img").click(function(){""!==$.trim($(".search input").val())&&fillData()}),$(".search input").keydown(function(t){13==t.which&&fillData()}),$("table").tablesort({func:function(){fillData()}}),$(".download").click(function(){$("table").tableExport({headings:!0,fileName:"stores",formats:["csv"],position:"bottom",ignoreCSS:"[style*='display: none']"})}),$(".table-border").scroll(function(){var t=$(this).scrollLeft();$("table th").eq(0).css("left",t),$("table th").eq(1).css("left",t),$("table th").eq(2).css("left",t),$("table th").eq(3).css("left",t).addClass("box-shadow"),$("table td:nth-child(1)").css("left",t),$("table td:nth-child(2)").css("left",t),$("table td:nth-child(3)").css("left",t),$("table td:nth-child(4)").css("left",t).addClass("box-shadow"),0===Number($(this).scrollLeft())&&($("table th").eq(3).removeClass("box-shadow"),$("table td:nth-child(4)").removeClass("box-shadow"))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhaWx5c3RhdGVtZW50L3dvcmtfY2hlY2tpbi5qcyJdLCJuYW1lcyI6WyJmaWxsRGF0YSIsInN0YXJ0VGltZSIsIiQiLCJhdHRyIiwiZW5kVGltZSIsImFyZyIsInZhbCIsInNvcnQiLCJwYXJlbnQiLCJvcmRlciIsImNvbXBhcmVEYXRlIiwidHJpbSIsInBhZ2UiLCJhamF4IiwidXJsIiwiZGF0YSIsInN0YXJ0X3RpbWUiLCJlbmRfdGltZSIsInR5cGUiLCJzdWNjZXNzIiwibmV3Um93IiwicmVtb3ZlIiwiaSIsImxlbmd0aCIsImFwcGVuZCIsImlpIiwibnVtYmVyIiwibmFtZSIsInN0b3JlX25hbWUiLCJpZCIsInRleHQiLCJ3b3JrX3RpbWUiLCJ3b3JrX2FkZHJlc3MiLCJ3b3JrZWRfdGltZSIsIndvcmtlZF9hZGRyZXNzIiwicGhvbmVfbW9kZWwiLCJwaG9uZV9wbGF0Zm9ybSIsInBob25lX3N5c3RlbSIsInNldFRiYWxlV2lkdGgiLCJsb2NhdGlvbiIsImhyZWYiLCJkb2N1bWVudCIsInJlYWR5IiwiZXEiLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJkIiwiRGF0ZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiY2xpY2siLCJ0aGlzIiwiX2xlZnQiLCJzY3JvbGxMZWZ0IiwiY3NzIiwiTnVtYmVyIiwiY2hhbmdlIiwicmVtb3ZlQXR0ciIsImVhY2giLCJoaWRlVGFibGVDb2wiLCJzaG93VGFibGVDb2wiLCJrZXlkb3duIiwiZXZlbnQiLCJ3aGljaCIsInRhYmxlc29ydCIsImZ1bmMiLCJ0YWJsZUV4cG9ydCIsImhlYWRpbmdzIiwiZmlsZU5hbWUiLCJmb3JtYXRzIiwicG9zaXRpb24iLCJpZ25vcmVDU1MiLCJzY3JvbGwiXSwibWFwcGluZ3MiOiJBQUFBLFFBQVNBLFlBQ0wsR0FBSUMsR0FBWUMsRUFBRSxjQUFjQyxLQUFLLFNBQ2pDQyxFQUFVRixFQUFFLFlBQVlDLEtBQUssU0FDN0JFLEVBQU1ILEVBQUUsaUJBQWlCSSxNQUN6QkMsRUFBT0wsRUFBRSxpQkFBaUJNLFNBQVNMLEtBQUssVUFBWUQsRUFBRSxrQkFBa0JNLFNBQVNMLEtBQUssU0FDdEZNLEVBQVFQLEVBQUUsY0FBY0MsS0FBSyxVQUFZRCxFQUFFLGVBQWVDLEtBQUssUUFDaERPLGFBQVlULEVBQVVHLEVBQ3JCLE1BQWhCRixFQUFFUyxLQUFLTixLQUNQTyxLQUFPLEdBRVhWLEVBQUVXLE1BQ0VDLElBQUssd0NBQ0xDLE1BQU9DLFdBQWNmLEVBQVdnQixTQUFZYixFQUFTQyxJQUFNQSxFQUFLRSxLQUFRQSxFQUFNRSxNQUFTQSxHQUN2RlMsS0FBTSxNQUNOQyxRQUFTLFNBQVVKLEdBQ2YsR0FBb0IsR0FBaEJBLEVBQUtJLFFBQWMsQ0FDbkIsR0FBSUMsR0FBUyxxR0FDYmxCLEdBQUUsa0JBQWtCbUIsUUFDcEIsS0FBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlQLEVBQUtBLEtBQUtBLEtBQUtRLE9BQVFELElBQUssQ0FDNUNwQixFQUFFLGVBQWVzQixPQUFPSixHQUN4QkssR0FBS0gsRUFBSSxDQUNULElBQUlJLEdBQVNYLEVBQUtBLEtBQUtBLEtBQUtPLEdBQUdJLFFBQVUsSUFFckNDLEdBRGFaLEVBQUtBLEtBQUtBLEtBQUtPLEdBQUdNLFlBQWMsSUFDdENiLEVBQUtBLEtBQUtBLEtBQUtPLEdBQUdLLE1BQVEsSUFDckN6QixHQUFFLGVBQWlCdUIsR0FBSyxLQUFLdEIsS0FBSyxRQUFTWSxFQUFLQSxLQUFLQSxLQUFLTyxHQUFHTyxJQUM3RDNCLEVBQUUsZUFBaUJ1QixHQUFLLGNBQWNLLEtBQUtKLEdBQzNDeEIsRUFBRSxlQUFpQnVCLEdBQUssY0FBY0ssS0FBS2YsRUFBS0EsS0FBS0EsS0FBS08sR0FBR00sWUFDN0QxQixFQUFFLGVBQWlCdUIsR0FBSyxjQUFjSyxLQUFLSCxHQUMzQ3pCLEVBQUUsZUFBaUJ1QixHQUFLLGNBQWNLLEtBQUtmLEVBQUtBLEtBQUtBLEtBQUtPLEdBQUdTLFdBQzdEN0IsRUFBRSxlQUFpQnVCLEdBQUssY0FBY0ssS0FBS2YsRUFBS0EsS0FBS0EsS0FBS08sR0FBR1UsY0FDN0Q5QixFQUFFLGVBQWlCdUIsR0FBSyxjQUFjSyxLQUFLZixFQUFLQSxLQUFLQSxLQUFLTyxHQUFHVyxhQUM3RC9CLEVBQUUsZUFBaUJ1QixHQUFLLGNBQWNLLEtBQUtmLEVBQUtBLEtBQUtBLEtBQUtPLEdBQUdZLGdCQUM3RGhDLEVBQUUsZUFBaUJ1QixHQUFLLGNBQWNLLEtBQUtmLEVBQUtBLEtBQUtBLEtBQUtPLEdBQUdhLGFBQzdEakMsRUFBRSxlQUFpQnVCLEdBQUssY0FBY0ssS0FBS2YsRUFBS0EsS0FBS0EsS0FBS08sR0FBR2MsZ0JBQzdEbEMsRUFBRSxlQUFpQnVCLEdBQUssY0FBY0ssS0FBS2YsRUFBS0EsS0FBS0EsS0FBS08sR0FBR2UsY0FHakVDLG9CQUVBQyxVQUFTQyxLQUFPLGFBT2hDdEMsRUFBRXVDLFVBQVVDLE1BQU0sV0FDZHhDLEVBQUUsZUFBZXlDLEdBQUcsR0FBR0MsU0FBUyxVQUFVQyxXQUFXQyxZQUFZLFNBQ2pFLElBQUlDLEdBQUksR0FBSUMsTUFDUmhDLEVBQWErQixFQUFFRSxjQUFjLEtBQUtGLEVBQUVHLFdBQVcsR0FBRyxLQUNsRGpDLEVBQVc4QixFQUFFRSxjQUFjLEtBQUtGLEVBQUVHLFdBQVcsR0FBRyxJQUFJSCxFQUFFSSxTQUMxRGpELEdBQUUsY0FBY0MsS0FBSyxRQUFRYSxHQUM3QmQsRUFBRSxZQUFZQyxLQUFLLFFBQVFjLEdBQzNCakIsV0FHQUUsRUFBRSw0QkFBNEIwQyxTQUFTLGlCQUV2QzFDLEVBQUUsWUFBWWtELE1BQU0sV0FDaEJsRCxFQUFFLGlCQUFpQjRDLGNBQ25CNUMsRUFBRW1ELE1BQU1ULFNBQVMsZ0JBQ2pCNUMsVUFDQSxJQUFJc0QsR0FBUXBELEVBQUVtRCxNQUFNRSxZQUNwQnJELEdBQUUsWUFBWXlDLEdBQUcsR0FBR2EsSUFBSSxPQUFRRixHQUNoQ3BELEVBQUUsWUFBWXlDLEdBQUcsR0FBR2EsSUFBSSxPQUFRRixHQUNoQ3BELEVBQUUsWUFBWXlDLEdBQUcsR0FBR2EsSUFBSSxPQUFRRixHQUNoQ3BELEVBQUUsWUFBWXlDLEdBQUcsR0FBR2EsSUFBSSxPQUFRRixHQUFPVixTQUFTLGNBQ2hEMUMsRUFBRSx5QkFBeUJzRCxJQUFJLE9BQVFGLEdBQ3ZDcEQsRUFBRSx5QkFBeUJzRCxJQUFJLE9BQVFGLEdBQ3ZDcEQsRUFBRSx5QkFBeUJzRCxJQUFJLE9BQVFGLEdBQ3ZDcEQsRUFBRSx5QkFBeUJzRCxJQUFJLE9BQVFGLEdBQU9WLFNBQVMsY0FDbEIsSUFBakNhLE9BQU92RCxFQUFFbUQsTUFBTUUsZ0JBQ2ZyRCxFQUFFLFlBQVl5QyxHQUFHLEdBQUdHLFlBQVksY0FDaEM1QyxFQUFFLHlCQUF5QjRDLFlBQVksaUJBRy9DNUMsRUFBRSxnQkFBZ0J3RCxPQUFPLFdBQ3JCMUQsYUFFSkUsRUFBRSxxQkFBcUJrRCxNQUFNLFdBQ00sR0FBM0JsRCxFQUFFLGdCQUFnQkksUUFFdEJKLEVBQUUsZ0JBQWdCSSxJQUFJSixFQUFFLGdCQUFnQkksTUFBUSxHQUNoRE4sY0FFSkUsRUFBRSxxQkFBcUJrRCxNQUFNLFdBQ3JCbEQsRUFBRSxnQkFBZ0JJLE9BQVNKLEVBQUUsdUJBQXVCcUIsU0FJeERyQixFQUFFLGdCQUFnQkksSUFBSW1ELE9BQU92RCxFQUFFLGdCQUFnQkksT0FBUyxHQUN4RE4sY0FFSkUsRUFBRSxvQkFBb0JrRCxNQUFNLFdBQ3FCLFVBQXBDbEQsRUFBRSxnQkFBZ0JDLEtBQUssVUFBd0JELEVBQUUsZ0JBQWdCeUQsV0FBVyxVQUFZekQsRUFBRSxnQkFBZ0JDLEtBQUssU0FBVSxZQUV0SUQsRUFBRSxvQkFBb0JrRCxNQUFNLFdBQ21CLFVBQWxDbEQsRUFBRSxjQUFjQyxLQUFLLFVBQXdCRCxFQUFFLGNBQWN5RCxXQUFXLFVBQVl6RCxFQUFFLGNBQWNDLEtBQUssU0FBVSxZQUVoSUQsRUFBRSxzREFBc0RrRCxNQUFNLFdBQzFEbEQsRUFBRSxjQUFjQyxLQUFLLFNBQVUsWUFFbkNELEVBQUUsNEJBQTRCa0QsTUFBTSxXQUNoQ2xELEVBQUUsY0FBY0MsS0FBSyxTQUFVLFVBRS9CRCxFQUFFLGdDQUFnQzBELEtBQUssV0FDbkNDLGFBQWEzRCxFQUFFLFNBQVVBLEVBQUVtRCxNQUFNbEQsS0FBSyxZQUUxQ0QsRUFBRSwwQkFBMEIwRCxLQUFLLFdBQzdCRSxhQUFhNUQsRUFBRSxTQUFVQSxFQUFFbUQsTUFBTWxELEtBQUssWUFFMUNtQyxrQkFHSnBDLEVBQUUsZUFBZWtELE1BQU0sV0FDc0IsS0FBckNsRCxFQUFFUyxLQUFLVCxFQUFFLGlCQUFpQkksUUFDMUJOLGFBSVJFLEVBQUUsaUJBQWlCNkQsUUFBUSxTQUFTQyxHQUNiLElBQWZBLEVBQU1DLE9BQ05qRSxhQUlSRSxFQUFFLFNBQVNnRSxXQUFXQyxLQUFNLFdBQVduRSxjQUV2Q0UsRUFBRSxhQUFha0QsTUFBTSxXQUNqQmxELEVBQUUsU0FBU2tFLGFBQ1BDLFVBQVUsRUFDVkMsU0FBVSxTQUNWQyxTQUFVLE9BQ1ZDLFNBQVUsU0FDVkMsVUFBVywrQkFJbkJ2RSxFQUFFLGlCQUFpQndFLE9BQU8sV0FDdEIsR0FBSXBCLEdBQVFwRCxFQUFFbUQsTUFBTUUsWUFDcEJyRCxHQUFFLFlBQVl5QyxHQUFHLEdBQUdhLElBQUksT0FBUUYsR0FDaENwRCxFQUFFLFlBQVl5QyxHQUFHLEdBQUdhLElBQUksT0FBUUYsR0FDaENwRCxFQUFFLFlBQVl5QyxHQUFHLEdBQUdhLElBQUksT0FBUUYsR0FDaENwRCxFQUFFLFlBQVl5QyxHQUFHLEdBQUdhLElBQUksT0FBUUYsR0FBT1YsU0FBUyxjQUNoRDFDLEVBQUUseUJBQXlCc0QsSUFBSSxPQUFRRixHQUN2Q3BELEVBQUUseUJBQXlCc0QsSUFBSSxPQUFRRixHQUN2Q3BELEVBQUUseUJBQXlCc0QsSUFBSSxPQUFRRixHQUN2Q3BELEVBQUUseUJBQXlCc0QsSUFBSSxPQUFRRixHQUFPVixTQUFTLGNBQ2xCLElBQWpDYSxPQUFPdkQsRUFBRW1ELE1BQU1FLGdCQUNmckQsRUFBRSxZQUFZeUMsR0FBRyxHQUFHRyxZQUFZLGNBQ2hDNUMsRUFBRSx5QkFBeUI0QyxZQUFZIiwiZmlsZSI6ImRhaWx5c3RhdGVtZW50L3dvcmtfY2hlY2tpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGZpbGxEYXRhKCl7XG4gICAgdmFyIHN0YXJ0VGltZSA9ICQoXCIjc3RhcnRUaW1lXCIpLmF0dHIoXCJ2YWx1ZVwiKTtcbiAgICB2YXIgZW5kVGltZSA9ICQoXCIjZW5kVGltZVwiKS5hdHRyKFwidmFsdWVcIik7XG4gICAgdmFyIGFyZyA9ICQoXCIuc2VhcmNoIGlucHV0XCIpLnZhbCgpO1xuICAgIHZhciBzb3J0ID0gJChcInRoIC5hc2NlbmRpbmdcIikucGFyZW50KCkuYXR0cihcInZhbHVlXCIpIHx8ICQoXCJ0aCAuZGVzY2VuZGluZ1wiKS5wYXJlbnQoKS5hdHRyKFwidmFsdWVcIik7XG4gICAgdmFyIG9yZGVyID0gJChcIi5hc2NlbmRpbmdcIikuYXR0cihcImNsYXNzXCIpIHx8ICQoXCIuZGVzY2VuZGluZ1wiKS5hdHRyKFwiY2xhc3NcIik7XG4gICAgdmFyIGludGVydmFsVGltZSA9IGNvbXBhcmVEYXRlKHN0YXJ0VGltZSxlbmRUaW1lKTtcbiAgICBpZiAoJC50cmltKGFyZykgIT09IFwiXCIpe1xuICAgICAgICBwYWdlID0gMTtcbiAgICB9XG4gICAgJC5hamF4KHtcbiAgICAgICAgdXJsOiBcIi9hcGkvdjEuMC9kYWlseXN0YXRlbWVudC93b3JrX2NoZWNraW5cIixcbiAgICAgICAgZGF0YToge1wic3RhcnRfdGltZVwiOiBzdGFydFRpbWUsIFwiZW5kX3RpbWVcIjogZW5kVGltZSwgXCJhcmdcIjphcmcsIFwic29ydFwiOiBzb3J0LCBcIm9yZGVyXCI6IG9yZGVyfSxcbiAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgPT0gMSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdSb3cgPSBcIjx0cj48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48L3RyPlwiO1xuICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0Ym9keSB0clwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuZGF0YS5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0Ym9keVwiKS5hcHBlbmQobmV3Um93KTtcbiAgICAgICAgICAgICAgICAgICAgaWkgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlciA9IGRhdGEuZGF0YS5kYXRhW2ldLm51bWJlciB8fCAn5pegJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlX25hbWUgPSBkYXRhLmRhdGEuZGF0YVtpXS5zdG9yZV9uYW1lIHx8ICfml6AnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGRhdGEuZGF0YS5kYXRhW2ldLm5hbWUgfHwgJ+aXoCc7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0cjplcShcIiArIGlpICsgXCIpXCIpLmF0dHIoXCJ2YWx1ZVwiLCBkYXRhLmRhdGEuZGF0YVtpXS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0cjplcShcIiArIGlpICsgXCIpIHRkOmVxKDApXCIpLnRleHQobnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgJChcInRhYmxlIHRyOmVxKFwiICsgaWkgKyBcIikgdGQ6ZXEoMSlcIikudGV4dChkYXRhLmRhdGEuZGF0YVtpXS5zdG9yZV9uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgJChcInRhYmxlIHRyOmVxKFwiICsgaWkgKyBcIikgdGQ6ZXEoMilcIikudGV4dChuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgJChcInRhYmxlIHRyOmVxKFwiICsgaWkgKyBcIikgdGQ6ZXEoMylcIikudGV4dChkYXRhLmRhdGEuZGF0YVtpXS53b3JrX3RpbWUpO1xuICAgICAgICAgICAgICAgICAgICAkKFwidGFibGUgdHI6ZXEoXCIgKyBpaSArIFwiKSB0ZDplcSg0KVwiKS50ZXh0KGRhdGEuZGF0YS5kYXRhW2ldLndvcmtfYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0cjplcShcIiArIGlpICsgXCIpIHRkOmVxKDUpXCIpLnRleHQoZGF0YS5kYXRhLmRhdGFbaV0ud29ya2VkX3RpbWUpO1xuICAgICAgICAgICAgICAgICAgICAkKFwidGFibGUgdHI6ZXEoXCIgKyBpaSArIFwiKSB0ZDplcSg2KVwiKS50ZXh0KGRhdGEuZGF0YS5kYXRhW2ldLndvcmtlZF9hZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgJChcInRhYmxlIHRyOmVxKFwiICsgaWkgKyBcIikgdGQ6ZXEoNylcIikudGV4dChkYXRhLmRhdGEuZGF0YVtpXS5waG9uZV9tb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0cjplcShcIiArIGlpICsgXCIpIHRkOmVxKDgpXCIpLnRleHQoZGF0YS5kYXRhLmRhdGFbaV0ucGhvbmVfcGxhdGZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAkKFwidGFibGUgdHI6ZXEoXCIgKyBpaSArIFwiKSB0ZDplcSg5KVwiKS50ZXh0KGRhdGEuZGF0YS5kYXRhW2ldLnBob25lX3N5c3RlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRUYmFsZVdpZHRoKCk7XG4gICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IFwiL2xvZ291dFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcbiAgICAkKFwiLnNpZGViYXIgbGlcIikuZXEoMSkuYWRkQ2xhc3MoXCJhY3RpdmVcIikuc2libGluZ3MoKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gICAgdmFyIHN0YXJ0X3RpbWUgPSBkLmdldEZ1bGxZZWFyKCkrXCItXCIrKGQuZ2V0TW9udGgoKSsxKStcIi0xXCI7XG4gICAgdmFyIGVuZF90aW1lID0gZC5nZXRGdWxsWWVhcigpK1wiLVwiKyhkLmdldE1vbnRoKCkrMSkrXCItXCIrZC5nZXREYXRlKCk7XG4gICAgJChcIiNzdGFydFRpbWVcIikuYXR0cihcInZhbHVlXCIsc3RhcnRfdGltZSk7XG4gICAgJChcIiNlbmRUaW1lXCIpLmF0dHIoXCJ2YWx1ZVwiLGVuZF90aW1lKTtcbiAgICBmaWxsRGF0YSgpO1xuICAgIFxuXG4gICAgJChcImFbdmFsdWU9J3N0b3JlYW5hbHlzaXMnXVwiKS5hZGRDbGFzcyhcInNpZGViYXItY29sb3JcIik7XG5cbiAgICAkKFwiLmRhdGUgbGlcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAkKFwiLmRhdGUtY2hvaWNlZFwiKS5yZW1vdmVDbGFzcygpO1xuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwiZGF0ZS1jaG9pY2VkXCIpO1xuICAgICAgICBmaWxsRGF0YSgpO1xuICAgICAgICB2YXIgX2xlZnQgPSAkKHRoaXMpLnNjcm9sbExlZnQoKTtcbiAgICAgICAgJCgndGFibGUgdGgnKS5lcSgwKS5jc3MoJ2xlZnQnLCBfbGVmdCk7XG4gICAgICAgICQoJ3RhYmxlIHRoJykuZXEoMSkuY3NzKCdsZWZ0JywgX2xlZnQpO1xuICAgICAgICAkKCd0YWJsZSB0aCcpLmVxKDIpLmNzcygnbGVmdCcsIF9sZWZ0KTtcbiAgICAgICAgJCgndGFibGUgdGgnKS5lcSgzKS5jc3MoJ2xlZnQnLCBfbGVmdCkuYWRkQ2xhc3MoJ2JveC1zaGFkb3cnKTtcbiAgICAgICAgJCgndGFibGUgdGQ6bnRoLWNoaWxkKDEpJykuY3NzKCdsZWZ0JywgX2xlZnQpO1xuICAgICAgICAkKCd0YWJsZSB0ZDpudGgtY2hpbGQoMiknKS5jc3MoJ2xlZnQnLCBfbGVmdCk7XG4gICAgICAgICQoJ3RhYmxlIHRkOm50aC1jaGlsZCgzKScpLmNzcygnbGVmdCcsIF9sZWZ0KTtcbiAgICAgICAgJCgndGFibGUgdGQ6bnRoLWNoaWxkKDQpJykuY3NzKCdsZWZ0JywgX2xlZnQpLmFkZENsYXNzKCdib3gtc2hhZG93Jyk7XG4gICAgICAgIGlmIChOdW1iZXIoJCh0aGlzKS5zY3JvbGxMZWZ0KCkpID09PSAwKSB7XG4gICAgICAgICAgICAkKCd0YWJsZSB0aCcpLmVxKDMpLnJlbW92ZUNsYXNzKCdib3gtc2hhZG93Jyk7XG4gICAgICAgICAgICAkKCd0YWJsZSB0ZDpudGgtY2hpbGQoNCknKS5yZW1vdmVDbGFzcygnYm94LXNoYWRvdycpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgJChcIi5zZWxlY3QtcGFnZVwiKS5jaGFuZ2UoZnVuY3Rpb24oKXtcbiAgICAgICAgZmlsbERhdGEoKTtcbiAgICB9KTtcbiAgICAkKFwiLnBhZ2UtdHVyaW5nLnByZXZcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKCQoXCIuc2VsZWN0LXBhZ2VcIikudmFsKCkgPT0gMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgJChcIi5zZWxlY3QtcGFnZVwiKS52YWwoJChcIi5zZWxlY3QtcGFnZVwiKS52YWwoKSAtIDEpO1xuICAgICAgICBmaWxsRGF0YSgpO1xuICAgIH0pO1xuICAgICQoXCIucGFnZS10dXJpbmcubmV4dFwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICBpZiAoJChcIi5zZWxlY3QtcGFnZVwiKS52YWwoKSA9PSAkKFwiLnNlbGVjdC1wYWdlIG9wdGlvblwiKS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAkKFwiLnNlbGVjdC1wYWdlXCIpLnZhbChOdW1iZXIoJChcIi5zZWxlY3QtcGFnZVwiKS52YWwoKSkgKyAxKTtcbiAgICAgICAgZmlsbERhdGEoKTtcbiAgICB9KTtcbiAgICAkKFwiLmFkZC1pbWFnZTplcSgwKVwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICB2YXIgb3AgPSAkKFwiLmV4cGxhaW4tYm94XCIpLmF0dHIoXCJoaWRkZW5cIikgPT0gXCJoaWRkZW5cIiA/ICQoXCIuZXhwbGFpbi1ib3hcIikucmVtb3ZlQXR0cihcImhpZGRlblwiKSA6ICQoXCIuZXhwbGFpbi1ib3hcIikuYXR0cihcImhpZGRlblwiLCBcImhpZGRlblwiKTtcbiAgICB9KTtcbiAgICAkKFwiLmFkZC1pbWFnZTplcSgxKVwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICB2YXIgb3AgPSAkKFwiLmFkZC1pdGVtc1wiKS5hdHRyKFwiaGlkZGVuXCIpID09IFwiaGlkZGVuXCIgPyAkKFwiLmFkZC1pdGVtc1wiKS5yZW1vdmVBdHRyKFwiaGlkZGVuXCIpIDogJChcIi5hZGQtaXRlbXNcIikuYXR0cihcImhpZGRlblwiLCBcImhpZGRlblwiKTtcbiAgICB9KTtcbiAgICAkKFwiLmZsb2F0LXJpZ2h0IGlucHV0OmVxKDApLCAuZmxvYXQtcmlnaHQgaW5wdXQ6ZXEoMSlcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgJChcIi5hZGQtaXRlbXNcIikuYXR0cihcImhpZGRlblwiLCBcImhpZGRlblwiKTtcbiAgICB9KTtcbiAgICAkKFwiLmZsb2F0LXJpZ2h0IGlucHV0OmVxKDIpXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICQoXCIuYWRkLWl0ZW1zXCIpLmF0dHIoXCJoaWRkZW5cIiwgXCJoaWRkZW5cIik7XG5cbiAgICAgICAgJCgnaW5wdXQ6Y2hlY2tib3g6bm90KDpjaGVja2VkKScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGhpZGVUYWJsZUNvbCgkKFwidGFibGVcIiksICQodGhpcykuYXR0cihcInZhbHVlXCIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoJ2lucHV0OmNoZWNrYm94OmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBzaG93VGFibGVDb2woJChcInRhYmxlXCIpLCAkKHRoaXMpLmF0dHIoXCJ2YWx1ZVwiKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRUYmFsZVdpZHRoKCk7XG4gICAgfSk7XG5cbiAgICAkKFwiLnNlYXJjaCBpbWdcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKCQudHJpbSgkKFwiLnNlYXJjaCBpbnB1dFwiKS52YWwoKSkgIT09IFwiXCIpe1xuICAgICAgICAgICAgZmlsbERhdGEoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChcIi5zZWFyY2ggaW5wdXRcIikua2V5ZG93bihmdW5jdGlvbihldmVudCl7XG4gICAgICAgIGlmIChldmVudC53aGljaCA9PSAxMyl7XG4gICAgICAgICAgICBmaWxsRGF0YSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKFwidGFibGVcIikudGFibGVzb3J0KHtmdW5jOiBmdW5jdGlvbigpe2ZpbGxEYXRhKCk7fX0pO1xuXG4gICAgJChcIi5kb3dubG9hZFwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAkKFwidGFibGVcIikudGFibGVFeHBvcnQoe1xuICAgICAgICAgICAgaGVhZGluZ3M6IHRydWUsXG4gICAgICAgICAgICBmaWxlTmFtZTogXCJzdG9yZXNcIixcbiAgICAgICAgICAgIGZvcm1hdHM6IFtcImNzdlwiXSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImJvdHRvbVwiLFxuICAgICAgICAgICAgaWdub3JlQ1NTOiBcIltzdHlsZSo9J2Rpc3BsYXk6IG5vbmUnXVwiXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJCgnLnRhYmxlLWJvcmRlcicpLnNjcm9sbChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9sZWZ0ID0gJCh0aGlzKS5zY3JvbGxMZWZ0KCk7XG4gICAgICAgICQoJ3RhYmxlIHRoJykuZXEoMCkuY3NzKCdsZWZ0JywgX2xlZnQpO1xuICAgICAgICAkKCd0YWJsZSB0aCcpLmVxKDEpLmNzcygnbGVmdCcsIF9sZWZ0KTtcbiAgICAgICAgJCgndGFibGUgdGgnKS5lcSgyKS5jc3MoJ2xlZnQnLCBfbGVmdCk7XG4gICAgICAgICQoJ3RhYmxlIHRoJykuZXEoMykuY3NzKCdsZWZ0JywgX2xlZnQpLmFkZENsYXNzKCdib3gtc2hhZG93Jyk7XG4gICAgICAgICQoJ3RhYmxlIHRkOm50aC1jaGlsZCgxKScpLmNzcygnbGVmdCcsIF9sZWZ0KTtcbiAgICAgICAgJCgndGFibGUgdGQ6bnRoLWNoaWxkKDIpJykuY3NzKCdsZWZ0JywgX2xlZnQpO1xuICAgICAgICAkKCd0YWJsZSB0ZDpudGgtY2hpbGQoMyknKS5jc3MoJ2xlZnQnLCBfbGVmdCk7XG4gICAgICAgICQoJ3RhYmxlIHRkOm50aC1jaGlsZCg0KScpLmNzcygnbGVmdCcsIF9sZWZ0KS5hZGRDbGFzcygnYm94LXNoYWRvdycpO1xuICAgICAgICBpZiAoTnVtYmVyKCQodGhpcykuc2Nyb2xsTGVmdCgpKSA9PT0gMCkge1xuICAgICAgICAgICAgJCgndGFibGUgdGgnKS5lcSgzKS5yZW1vdmVDbGFzcygnYm94LXNoYWRvdycpO1xuICAgICAgICAgICAgJCgndGFibGUgdGQ6bnRoLWNoaWxkKDQpJykucmVtb3ZlQ2xhc3MoJ2JveC1zaGFkb3cnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7Il19
