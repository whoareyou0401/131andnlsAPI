if("undefined"==typeof jQuery)throw new Error("Tabledit requires jQuery library.");!function(t){"use strict";t.fn.Tabledit=function(e){function n(e){var n=i.find(".tabledit-input").serialize()+"&action="+e,a=d.onAjax(e,n);if(a===!1)return!1;var l=t.post(d.url,n,function(t,n,a){e===d.buttons.edit.action&&(s.removeClass(d.dangerClass).addClass(d.warningClass),setTimeout(function(){i.find("tr."+d.warningClass).removeClass(d.warningClass)},1400)),d.onSuccess(t,n,a)},"json");return l.fail(function(t,n,i){e===d.buttons["delete"].action?(o.removeClass(d.mutedClass).addClass(d.dangerClass),o.find(".tabledit-toolbar button").attr("disabled",!1),o.find(".tabledit-toolbar .tabledit-restore-button").hide()):e===d.buttons.edit.action&&s.addClass(d.dangerClass),d.onFail(t,n,i)}),l.always(function(){d.onAlways()}),l}if(!this.is("table"))throw new Error("Tabledit only works when applied to a table.");var i=this,a={url:window.location.href,inputClass:"form-control input-sm",toolbarClass:"btn-toolbar",groupClass:"btn-group btn-group-sm",dangerClass:"danger",warningClass:"warning",mutedClass:"text-muted",eventType:"click",rowIdentifier:"id",hideIdentifier:!1,autoFocus:!0,editButton:!0,deleteButton:!0,saveButton:!0,restoreButton:!0,buttons:{edit:{"class":"btn btn-sm btn-default",html:'<span class="glyphicon glyphicon-pencil"></span>',action:"edit"},"delete":{"class":"btn btn-sm btn-default",html:'<span class="glyphicon glyphicon-trash"></span>',action:"delete"},save:{"class":"btn btn-sm btn-success",html:"Save"},restore:{"class":"btn btn-sm btn-warning",html:"Restore",action:"restore"},confirm:{"class":"btn btn-sm btn-danger",html:"Confirm"}},onDraw:function(){},onSuccess:function(){},onFail:function(){},onAlways:function(){},onAjax:function(){}},d=t.extend(!0,a,e),s="undefined",o="undefined",l="undefined",r={columns:{identifier:function(){d.hideIdentifier&&i.find("th:nth-child("+parseInt(d.columns.identifier[0])+"1), tbody td:nth-child("+parseInt(d.columns.identifier[0])+"1)").hide();var e=i.find("tbody td:nth-child("+(parseInt(d.columns.identifier[0])+1)+")");e.each(function(){var e='<span class="tabledit-span tabledit-identifier">'+t(this).text()+"</span>",n='<input class="tabledit-input tabledit-identifier" type="hidden" name="'+d.columns.identifier[1]+'" value="'+t(this).text()+'" disabled>';t(this).html(e+n),t(this).parent("tr").attr(d.rowIdentifier,t(this).text())})},editable:function(){for(var e=0;e<d.columns.editable.length;e++){var n=i.find("tbody td:nth-child("+(parseInt(d.columns.editable[e][0])+1)+")");n.each(function(){var n=t(this).text();d.editButton||t(this).css("cursor","pointer");var i='<span class="tabledit-span">'+n+"</span>";if("undefined"!=typeof d.columns.editable[e][2]){var a='<select class="tabledit-input '+d.inputClass+'" name="'+d.columns.editable[e][1]+'" style="display: none;" disabled>';t.each(jQuery.parseJSON(d.columns.editable[e][2]),function(t,e){a+=n===e?'<option value="'+t+'" selected>'+e+"</option>":'<option value="'+t+'">'+e+"</option>"}),a+="</select>"}else var a='<input class="tabledit-input '+d.inputClass+'" type="text" name="'+d.columns.editable[e][1]+'" value="'+t(this).text()+'" style="display: none;" disabled>';t(this).html(i+a),t(this).addClass("tabledit-view-mode")})}},toolbar:function(){if(d.editButton||d.deleteButton){var t="",e="",n="",a="",s="";0===i.find("th.tabledit-toolbar-column").length&&i.find("tr:first").append('<th class="tabledit-toolbar-column"></th>'),d.editButton&&(t='<button type="button" class="tabledit-edit-button '+d.buttons.edit["class"]+'" style="float: none;">'+d.buttons.edit.html+"</button>"),d.deleteButton&&(e='<button type="button" class="tabledit-delete-button '+d.buttons["delete"]["class"]+'" style="float: none;">'+d.buttons["delete"].html+"</button>",s='<button type="button" class="tabledit-confirm-button '+d.buttons.confirm["class"]+'" style="display: none; float: none;">'+d.buttons.confirm.html+"</button>"),d.editButton&&d.saveButton&&(n='<button type="button" class="tabledit-save-button '+d.buttons.save["class"]+'" style="display: none; float: none;">'+d.buttons.save.html+"</button>"),d.deleteButton&&d.restoreButton&&(a='<button type="button" class="tabledit-restore-button '+d.buttons.restore["class"]+'" style="display: none; float: none;">'+d.buttons.restore.html+"</button>");var o='<div class="tabledit-toolbar '+d.toolbarClass+'" style="text-align: left;">\n                                           <div class="'+d.groupClass+'" style="float: none;">'+t+e+"</div>\n                                           "+n+"\n                                           "+s+"\n                                           "+a+"\n                                       </div></div>";i.find("tr:gt(0)").append('<td style="white-space: nowrap; width: 1%;">'+o+"</td>")}}}},u={view:function(e){var n=t(e).parent("tr");t(e).parent("tr").find(".tabledit-input.tabledit-identifier").prop("disabled",!0),t(e).find(".tabledit-input").blur().hide().prop("disabled",!0),t(e).find(".tabledit-span").show(),t(e).addClass("tabledit-view-mode").removeClass("tabledit-edit-mode"),d.editButton&&(n.find("button.tabledit-save-button").hide(),n.find("button.tabledit-edit-button").removeClass("active").blur())},edit:function(e){c.reset(e);var n=t(e).parent("tr");n.find(".tabledit-input.tabledit-identifier").prop("disabled",!1),t(e).find(".tabledit-span").hide();var i=t(e).find(".tabledit-input");i.prop("disabled",!1).show(),d.autoFocus&&i.focus(),t(e).addClass("tabledit-edit-mode").removeClass("tabledit-view-mode"),d.editButton&&(n.find("button.tabledit-edit-button").addClass("active"),n.find("button.tabledit-save-button").show())}},b={reset:function(e){t(e).each(function(){var e=t(this).find(".tabledit-input"),n=t(this).find(".tabledit-span").text();e.is("select")?e.find("option").filter(function(){return t.trim(t(this).text())===n}).attr("selected",!0):e.val(n),u.view(this)})},submit:function(e){var i=n(d.buttons.edit.action);i!==!1&&(t(e).each(function(){var e=t(this).find(".tabledit-input");t(this).find(".tabledit-span").text(e.is("select")?e.find("option:selected").text():e.val()),u.view(this)}),s=t(e).parent("tr"))}},c={reset:function(t){i.find(".tabledit-confirm-button").hide(),i.find(".tabledit-delete-button").removeClass("active").blur()},submit:function(e){c.reset(e),t(e).parent("tr").find("input.tabledit-identifier").attr("disabled",!1);var i=n(d.buttons["delete"].action);t(e).parents("tr").find("input.tabledit-identifier").attr("disabled",!0),i!==!1&&(t(e).parent("tr").addClass("tabledit-deleted-row"),t(e).parent("tr").addClass(d.mutedClass).find(".tabledit-toolbar button:not(.tabledit-restore-button)").attr("disabled",!0),t(e).find(".tabledit-restore-button").show(),o=t(e).parent("tr"))},confirm:function(e){i.find("td.tabledit-edit-mode").each(function(){b.reset(this)}),t(e).find(".tabledit-delete-button").addClass("active"),t(e).find(".tabledit-confirm-button").show()},restore:function(e){t(e).parent("tr").find("input.tabledit-identifier").attr("disabled",!1);var i=n(d.buttons.restore.action);t(e).parents("tr").find("input.tabledit-identifier").attr("disabled",!0),i!==!1&&(t(e).parent("tr").removeClass("tabledit-deleted-row"),t(e).parent("tr").removeClass(d.mutedClass).find(".tabledit-toolbar button").attr("disabled",!1),t(e).find(".tabledit-restore-button").hide(),l=t(e).parent("tr"))}};return r.columns.identifier(),r.columns.editable(),r.columns.toolbar(),d.onDraw(),d.deleteButton&&(i.on("click","button.tabledit-delete-button",function(e){if(e.handled!==!0){e.preventDefault();var n=t(this).hasClass("active"),i=t(this).parents("td");c.reset(i),n||c.confirm(i),e.handled=!0}}),i.on("click","button.tabledit-confirm-button",function(e){if(e.handled!==!0){e.preventDefault();var n=t(this).parents("td");c.submit(n),e.handled=!0}})),d.restoreButton&&i.on("click","button.tabledit-restore-button",function(e){e.handled!==!0&&(e.preventDefault(),c.restore(t(this).parents("td")),e.handled=!0)}),d.editButton?(i.on("click","button.tabledit-edit-button",function(e){if(e.handled!==!0){e.preventDefault();var n=t(this),a=n.hasClass("active");b.reset(i.find("td.tabledit-edit-mode")),a||t(n.parents("tr").find("td.tabledit-view-mode").get().reverse()).each(function(){u.edit(this)}),e.handled=!0}}),i.on("click","button.tabledit-save-button",function(e){e.handled!==!0&&(e.preventDefault(),b.submit(t(this).parents("tr").find("td.tabledit-edit-mode")),e.handled=!0)})):(i.on(d.eventType,"tr:not(.tabledit-deleted-row) td.tabledit-view-mode",function(t){t.handled!==!0&&(t.preventDefault(),b.reset(i.find("td.tabledit-edit-mode")),u.edit(this),t.handled=!0)}),i.on("change","select.tabledit-input:visible",function(){event.handled!==!0&&(b.submit(t(this).parent("td")),event.handled=!0)}),t(document).on("click",function(t){var e=i.find(".tabledit-edit-mode");e.is(t.target)||0!==e.has(t.target).length||b.reset(i.find(".tabledit-input:visible").parent("td"))})),t(document).on("keyup",function(t){var e=i.find(".tabledit-input:visible"),n=i.find(".tabledit-confirm-button");if(e.length>0)var a=e.parents("td");else{if(!(n.length>0))return;var a=n.parents("td")}switch(t.keyCode){case 9:d.editButton||(b.submit(a),u.edit(a.closest("td").next()));break;case 13:b.submit(a);break;case 27:b.reset(a),c.reset(a)}}),this}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhaWx5c3RhdGVtZW50L2pxdWVyeS50YWJsZWRpdC5taW4uanMiXSwibmFtZXMiOlsialF1ZXJ5IiwiRXJyb3IiLCJ0IiwiZm4iLCJUYWJsZWRpdCIsImUiLCJuIiwiaSIsImZpbmQiLCJzZXJpYWxpemUiLCJhIiwiZCIsIm9uQWpheCIsImwiLCJwb3N0IiwidXJsIiwiYnV0dG9ucyIsImVkaXQiLCJhY3Rpb24iLCJzIiwicmVtb3ZlQ2xhc3MiLCJkYW5nZXJDbGFzcyIsImFkZENsYXNzIiwid2FybmluZ0NsYXNzIiwic2V0VGltZW91dCIsIm9uU3VjY2VzcyIsImZhaWwiLCJvIiwibXV0ZWRDbGFzcyIsImF0dHIiLCJoaWRlIiwib25GYWlsIiwiYWx3YXlzIiwib25BbHdheXMiLCJ0aGlzIiwiaXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJpbnB1dENsYXNzIiwidG9vbGJhckNsYXNzIiwiZ3JvdXBDbGFzcyIsImV2ZW50VHlwZSIsInJvd0lkZW50aWZpZXIiLCJoaWRlSWRlbnRpZmllciIsImF1dG9Gb2N1cyIsImVkaXRCdXR0b24iLCJkZWxldGVCdXR0b24iLCJzYXZlQnV0dG9uIiwicmVzdG9yZUJ1dHRvbiIsImNsYXNzIiwiaHRtbCIsImRlbGV0ZSIsInNhdmUiLCJyZXN0b3JlIiwiY29uZmlybSIsIm9uRHJhdyIsImV4dGVuZCIsInIiLCJjb2x1bW5zIiwiaWRlbnRpZmllciIsInBhcnNlSW50IiwiZWFjaCIsInRleHQiLCJwYXJlbnQiLCJlZGl0YWJsZSIsImxlbmd0aCIsImNzcyIsInBhcnNlSlNPTiIsInRvb2xiYXIiLCJhcHBlbmQiLCJ1IiwidmlldyIsInByb3AiLCJibHVyIiwic2hvdyIsImMiLCJyZXNldCIsImZvY3VzIiwiYiIsImZpbHRlciIsInRyaW0iLCJ2YWwiLCJzdWJtaXQiLCJwYXJlbnRzIiwib24iLCJoYW5kbGVkIiwicHJldmVudERlZmF1bHQiLCJoYXNDbGFzcyIsImdldCIsInJldmVyc2UiLCJldmVudCIsImRv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QUU0RCxPQUFPLEdBQUcsTUFBTyxJQUFJeEQsR0FBRUosRUFBRThFLFFBQVEsTUFBTSxPQUFPbEYsRUFBRTZGLFNBQVMsSUFBSyxHQUFFcEYsRUFBRW1DLGFBQWFpQyxFQUFFSSxPQUFPekUsR0FBRzZELEVBQUV0RCxLQUFLUCxFQUFFc0YsUUFBUSxNQUFNQyxRQUFTLE1BQU0sS0FBSyxJQUFHbEIsRUFBRUksT0FBT3pFLEVBQUcsTUFBTSxLQUFLLElBQUdxRSxFQUFFRixNQUFNbkUsR0FBR2tFLEVBQUVDLE1BQU1uRSxNQUFNd0IsT0FBT2xDIiwiZmlsZSI6ImRhaWx5c3RhdGVtZW50L2pxdWVyeS50YWJsZWRpdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIFRhYmxlZGl0IHYxLjIuMyAoaHR0cHM6Ly9naXRodWIuY29tL21hcmtjZWxsL2pRdWVyeS1UYWJsZWRpdClcbiAqIENvcHlyaWdodCAoYykgMjAxNSBDZWxzbyBNYXJxdWVzXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS9tYXJrY2VsbC9qUXVlcnktVGFibGVkaXQvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqL1xuaWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGpRdWVyeSl0aHJvdyBuZXcgRXJyb3IoXCJUYWJsZWRpdCByZXF1aXJlcyBqUXVlcnkgbGlicmFyeS5cIik7IWZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO3QuZm4uVGFibGVkaXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbihlKXt2YXIgbj1pLmZpbmQoXCIudGFibGVkaXQtaW5wdXRcIikuc2VyaWFsaXplKCkrXCImYWN0aW9uPVwiK2UsYT1kLm9uQWpheChlLG4pO2lmKGE9PT0hMSlyZXR1cm4hMTt2YXIgbD10LnBvc3QoZC51cmwsbixmdW5jdGlvbih0LG4sYSl7ZT09PWQuYnV0dG9ucy5lZGl0LmFjdGlvbiYmKHMucmVtb3ZlQ2xhc3MoZC5kYW5nZXJDbGFzcykuYWRkQ2xhc3MoZC53YXJuaW5nQ2xhc3MpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmZpbmQoXCJ0ci5cIitkLndhcm5pbmdDbGFzcykucmVtb3ZlQ2xhc3MoZC53YXJuaW5nQ2xhc3MpfSwxNDAwKSksZC5vblN1Y2Nlc3ModCxuLGEpfSxcImpzb25cIik7cmV0dXJuIGwuZmFpbChmdW5jdGlvbih0LG4saSl7ZT09PWQuYnV0dG9uc1tcImRlbGV0ZVwiXS5hY3Rpb24/KG8ucmVtb3ZlQ2xhc3MoZC5tdXRlZENsYXNzKS5hZGRDbGFzcyhkLmRhbmdlckNsYXNzKSxvLmZpbmQoXCIudGFibGVkaXQtdG9vbGJhciBidXR0b25cIikuYXR0cihcImRpc2FibGVkXCIsITEpLG8uZmluZChcIi50YWJsZWRpdC10b29sYmFyIC50YWJsZWRpdC1yZXN0b3JlLWJ1dHRvblwiKS5oaWRlKCkpOmU9PT1kLmJ1dHRvbnMuZWRpdC5hY3Rpb24mJnMuYWRkQ2xhc3MoZC5kYW5nZXJDbGFzcyksZC5vbkZhaWwodCxuLGkpfSksbC5hbHdheXMoZnVuY3Rpb24oKXtkLm9uQWx3YXlzKCl9KSxsfWlmKCF0aGlzLmlzKFwidGFibGVcIikpdGhyb3cgbmV3IEVycm9yKFwiVGFibGVkaXQgb25seSB3b3JrcyB3aGVuIGFwcGxpZWQgdG8gYSB0YWJsZS5cIik7dmFyIGk9dGhpcyxhPXt1cmw6d2luZG93LmxvY2F0aW9uLmhyZWYsaW5wdXRDbGFzczpcImZvcm0tY29udHJvbCBpbnB1dC1zbVwiLHRvb2xiYXJDbGFzczpcImJ0bi10b29sYmFyXCIsZ3JvdXBDbGFzczpcImJ0bi1ncm91cCBidG4tZ3JvdXAtc21cIixkYW5nZXJDbGFzczpcImRhbmdlclwiLHdhcm5pbmdDbGFzczpcIndhcm5pbmdcIixtdXRlZENsYXNzOlwidGV4dC1tdXRlZFwiLGV2ZW50VHlwZTpcImNsaWNrXCIscm93SWRlbnRpZmllcjpcImlkXCIsaGlkZUlkZW50aWZpZXI6ITEsYXV0b0ZvY3VzOiEwLGVkaXRCdXR0b246ITAsZGVsZXRlQnV0dG9uOiEwLHNhdmVCdXR0b246ITAscmVzdG9yZUJ1dHRvbjohMCxidXR0b25zOntlZGl0OntcImNsYXNzXCI6XCJidG4gYnRuLXNtIGJ0bi1kZWZhdWx0XCIsaHRtbDonPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXBlbmNpbFwiPjwvc3Bhbj4nLGFjdGlvbjpcImVkaXRcIn0sXCJkZWxldGVcIjp7XCJjbGFzc1wiOlwiYnRuIGJ0bi1zbSBidG4tZGVmYXVsdFwiLGh0bWw6JzxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10cmFzaFwiPjwvc3Bhbj4nLGFjdGlvbjpcImRlbGV0ZVwifSxzYXZlOntcImNsYXNzXCI6XCJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzXCIsaHRtbDpcIlNhdmVcIn0scmVzdG9yZTp7XCJjbGFzc1wiOlwiYnRuIGJ0bi1zbSBidG4td2FybmluZ1wiLGh0bWw6XCJSZXN0b3JlXCIsYWN0aW9uOlwicmVzdG9yZVwifSxjb25maXJtOntcImNsYXNzXCI6XCJidG4gYnRuLXNtIGJ0bi1kYW5nZXJcIixodG1sOlwiQ29uZmlybVwifX0sb25EcmF3OmZ1bmN0aW9uKCl7fSxvblN1Y2Nlc3M6ZnVuY3Rpb24oKXt9LG9uRmFpbDpmdW5jdGlvbigpe30sb25BbHdheXM6ZnVuY3Rpb24oKXt9LG9uQWpheDpmdW5jdGlvbigpe319LGQ9dC5leHRlbmQoITAsYSxlKSxzPVwidW5kZWZpbmVkXCIsbz1cInVuZGVmaW5lZFwiLGw9XCJ1bmRlZmluZWRcIixyPXtjb2x1bW5zOntpZGVudGlmaWVyOmZ1bmN0aW9uKCl7ZC5oaWRlSWRlbnRpZmllciYmaS5maW5kKFwidGg6bnRoLWNoaWxkKFwiK3BhcnNlSW50KGQuY29sdW1ucy5pZGVudGlmaWVyWzBdKStcIjEpLCB0Ym9keSB0ZDpudGgtY2hpbGQoXCIrcGFyc2VJbnQoZC5jb2x1bW5zLmlkZW50aWZpZXJbMF0pK1wiMSlcIikuaGlkZSgpO3ZhciBlPWkuZmluZChcInRib2R5IHRkOm50aC1jaGlsZChcIisocGFyc2VJbnQoZC5jb2x1bW5zLmlkZW50aWZpZXJbMF0pKzEpK1wiKVwiKTtlLmVhY2goZnVuY3Rpb24oKXt2YXIgZT0nPHNwYW4gY2xhc3M9XCJ0YWJsZWRpdC1zcGFuIHRhYmxlZGl0LWlkZW50aWZpZXJcIj4nK3QodGhpcykudGV4dCgpK1wiPC9zcGFuPlwiLG49JzxpbnB1dCBjbGFzcz1cInRhYmxlZGl0LWlucHV0IHRhYmxlZGl0LWlkZW50aWZpZXJcIiB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIicrZC5jb2x1bW5zLmlkZW50aWZpZXJbMV0rJ1wiIHZhbHVlPVwiJyt0KHRoaXMpLnRleHQoKSsnXCIgZGlzYWJsZWQ+Jzt0KHRoaXMpLmh0bWwoZStuKSx0KHRoaXMpLnBhcmVudChcInRyXCIpLmF0dHIoZC5yb3dJZGVudGlmaWVyLHQodGhpcykudGV4dCgpKX0pfSxlZGl0YWJsZTpmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8ZC5jb2x1bW5zLmVkaXRhYmxlLmxlbmd0aDtlKyspe3ZhciBuPWkuZmluZChcInRib2R5IHRkOm50aC1jaGlsZChcIisocGFyc2VJbnQoZC5jb2x1bW5zLmVkaXRhYmxlW2VdWzBdKSsxKStcIilcIik7bi5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dCh0aGlzKS50ZXh0KCk7ZC5lZGl0QnV0dG9ufHx0KHRoaXMpLmNzcyhcImN1cnNvclwiLFwicG9pbnRlclwiKTt2YXIgaT0nPHNwYW4gY2xhc3M9XCJ0YWJsZWRpdC1zcGFuXCI+JytuK1wiPC9zcGFuPlwiO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBkLmNvbHVtbnMuZWRpdGFibGVbZV1bMl0pe3ZhciBhPSc8c2VsZWN0IGNsYXNzPVwidGFibGVkaXQtaW5wdXQgJytkLmlucHV0Q2xhc3MrJ1wiIG5hbWU9XCInK2QuY29sdW1ucy5lZGl0YWJsZVtlXVsxXSsnXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiIGRpc2FibGVkPic7dC5lYWNoKGpRdWVyeS5wYXJzZUpTT04oZC5jb2x1bW5zLmVkaXRhYmxlW2VdWzJdKSxmdW5jdGlvbih0LGUpe2ErPW49PT1lPyc8b3B0aW9uIHZhbHVlPVwiJyt0KydcIiBzZWxlY3RlZD4nK2UrXCI8L29wdGlvbj5cIjonPG9wdGlvbiB2YWx1ZT1cIicrdCsnXCI+JytlK1wiPC9vcHRpb24+XCJ9KSxhKz1cIjwvc2VsZWN0PlwifWVsc2UgdmFyIGE9JzxpbnB1dCBjbGFzcz1cInRhYmxlZGl0LWlucHV0ICcrZC5pbnB1dENsYXNzKydcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCInK2QuY29sdW1ucy5lZGl0YWJsZVtlXVsxXSsnXCIgdmFsdWU9XCInK3QodGhpcykudGV4dCgpKydcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCIgZGlzYWJsZWQ+Jzt0KHRoaXMpLmh0bWwoaSthKSx0KHRoaXMpLmFkZENsYXNzKFwidGFibGVkaXQtdmlldy1tb2RlXCIpfSl9fSx0b29sYmFyOmZ1bmN0aW9uKCl7aWYoZC5lZGl0QnV0dG9ufHxkLmRlbGV0ZUJ1dHRvbil7dmFyIHQ9XCJcIixlPVwiXCIsbj1cIlwiLGE9XCJcIixzPVwiXCI7MD09PWkuZmluZChcInRoLnRhYmxlZGl0LXRvb2xiYXItY29sdW1uXCIpLmxlbmd0aCYmaS5maW5kKFwidHI6Zmlyc3RcIikuYXBwZW5kKCc8dGggY2xhc3M9XCJ0YWJsZWRpdC10b29sYmFyLWNvbHVtblwiPjwvdGg+JyksZC5lZGl0QnV0dG9uJiYodD0nPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0YWJsZWRpdC1lZGl0LWJ1dHRvbiAnK2QuYnV0dG9ucy5lZGl0W1wiY2xhc3NcIl0rJ1wiIHN0eWxlPVwiZmxvYXQ6IG5vbmU7XCI+JytkLmJ1dHRvbnMuZWRpdC5odG1sK1wiPC9idXR0b24+XCIpLGQuZGVsZXRlQnV0dG9uJiYoZT0nPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0YWJsZWRpdC1kZWxldGUtYnV0dG9uICcrZC5idXR0b25zW1wiZGVsZXRlXCJdW1wiY2xhc3NcIl0rJ1wiIHN0eWxlPVwiZmxvYXQ6IG5vbmU7XCI+JytkLmJ1dHRvbnNbXCJkZWxldGVcIl0uaHRtbCtcIjwvYnV0dG9uPlwiLHM9JzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidGFibGVkaXQtY29uZmlybS1idXR0b24gJytkLmJ1dHRvbnMuY29uZmlybVtcImNsYXNzXCJdKydcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7IGZsb2F0OiBub25lO1wiPicrZC5idXR0b25zLmNvbmZpcm0uaHRtbCtcIjwvYnV0dG9uPlwiKSxkLmVkaXRCdXR0b24mJmQuc2F2ZUJ1dHRvbiYmKG49JzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwidGFibGVkaXQtc2F2ZS1idXR0b24gJytkLmJ1dHRvbnMuc2F2ZVtcImNsYXNzXCJdKydcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7IGZsb2F0OiBub25lO1wiPicrZC5idXR0b25zLnNhdmUuaHRtbCtcIjwvYnV0dG9uPlwiKSxkLmRlbGV0ZUJ1dHRvbiYmZC5yZXN0b3JlQnV0dG9uJiYoYT0nPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ0YWJsZWRpdC1yZXN0b3JlLWJ1dHRvbiAnK2QuYnV0dG9ucy5yZXN0b3JlW1wiY2xhc3NcIl0rJ1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTsgZmxvYXQ6IG5vbmU7XCI+JytkLmJ1dHRvbnMucmVzdG9yZS5odG1sK1wiPC9idXR0b24+XCIpO3ZhciBvPSc8ZGl2IGNsYXNzPVwidGFibGVkaXQtdG9vbGJhciAnK2QudG9vbGJhckNsYXNzKydcIiBzdHlsZT1cInRleHQtYWxpZ246IGxlZnQ7XCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCInK2QuZ3JvdXBDbGFzcysnXCIgc3R5bGU9XCJmbG9hdDogbm9uZTtcIj4nK3QrZStcIjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIituK1wiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiK3MrXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIrYStcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PjwvZGl2PlwiO2kuZmluZChcInRyOmd0KDApXCIpLmFwcGVuZCgnPHRkIHN0eWxlPVwid2hpdGUtc3BhY2U6IG5vd3JhcDsgd2lkdGg6IDElO1wiPicrbytcIjwvdGQ+XCIpfX19fSx1PXt2aWV3OmZ1bmN0aW9uKGUpe3ZhciBuPXQoZSkucGFyZW50KFwidHJcIik7dChlKS5wYXJlbnQoXCJ0clwiKS5maW5kKFwiLnRhYmxlZGl0LWlucHV0LnRhYmxlZGl0LWlkZW50aWZpZXJcIikucHJvcChcImRpc2FibGVkXCIsITApLHQoZSkuZmluZChcIi50YWJsZWRpdC1pbnB1dFwiKS5ibHVyKCkuaGlkZSgpLnByb3AoXCJkaXNhYmxlZFwiLCEwKSx0KGUpLmZpbmQoXCIudGFibGVkaXQtc3BhblwiKS5zaG93KCksdChlKS5hZGRDbGFzcyhcInRhYmxlZGl0LXZpZXctbW9kZVwiKS5yZW1vdmVDbGFzcyhcInRhYmxlZGl0LWVkaXQtbW9kZVwiKSxkLmVkaXRCdXR0b24mJihuLmZpbmQoXCJidXR0b24udGFibGVkaXQtc2F2ZS1idXR0b25cIikuaGlkZSgpLG4uZmluZChcImJ1dHRvbi50YWJsZWRpdC1lZGl0LWJ1dHRvblwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKS5ibHVyKCkpfSxlZGl0OmZ1bmN0aW9uKGUpe2MucmVzZXQoZSk7dmFyIG49dChlKS5wYXJlbnQoXCJ0clwiKTtuLmZpbmQoXCIudGFibGVkaXQtaW5wdXQudGFibGVkaXQtaWRlbnRpZmllclwiKS5wcm9wKFwiZGlzYWJsZWRcIiwhMSksdChlKS5maW5kKFwiLnRhYmxlZGl0LXNwYW5cIikuaGlkZSgpO3ZhciBpPXQoZSkuZmluZChcIi50YWJsZWRpdC1pbnB1dFwiKTtpLnByb3AoXCJkaXNhYmxlZFwiLCExKS5zaG93KCksZC5hdXRvRm9jdXMmJmkuZm9jdXMoKSx0KGUpLmFkZENsYXNzKFwidGFibGVkaXQtZWRpdC1tb2RlXCIpLnJlbW92ZUNsYXNzKFwidGFibGVkaXQtdmlldy1tb2RlXCIpLGQuZWRpdEJ1dHRvbiYmKG4uZmluZChcImJ1dHRvbi50YWJsZWRpdC1lZGl0LWJ1dHRvblwiKS5hZGRDbGFzcyhcImFjdGl2ZVwiKSxuLmZpbmQoXCJidXR0b24udGFibGVkaXQtc2F2ZS1idXR0b25cIikuc2hvdygpKX19LGI9e3Jlc2V0OmZ1bmN0aW9uKGUpe3QoZSkuZWFjaChmdW5jdGlvbigpe3ZhciBlPXQodGhpcykuZmluZChcIi50YWJsZWRpdC1pbnB1dFwiKSxuPXQodGhpcykuZmluZChcIi50YWJsZWRpdC1zcGFuXCIpLnRleHQoKTtlLmlzKFwic2VsZWN0XCIpP2UuZmluZChcIm9wdGlvblwiKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdC50cmltKHQodGhpcykudGV4dCgpKT09PW59KS5hdHRyKFwic2VsZWN0ZWRcIiwhMCk6ZS52YWwobiksdS52aWV3KHRoaXMpfSl9LHN1Ym1pdDpmdW5jdGlvbihlKXt2YXIgaT1uKGQuYnV0dG9ucy5lZGl0LmFjdGlvbik7aSE9PSExJiYodChlKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGU9dCh0aGlzKS5maW5kKFwiLnRhYmxlZGl0LWlucHV0XCIpO3QodGhpcykuZmluZChcIi50YWJsZWRpdC1zcGFuXCIpLnRleHQoZS5pcyhcInNlbGVjdFwiKT9lLmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpOmUudmFsKCkpLHUudmlldyh0aGlzKX0pLHM9dChlKS5wYXJlbnQoXCJ0clwiKSl9fSxjPXtyZXNldDpmdW5jdGlvbih0KXtpLmZpbmQoXCIudGFibGVkaXQtY29uZmlybS1idXR0b25cIikuaGlkZSgpLGkuZmluZChcIi50YWJsZWRpdC1kZWxldGUtYnV0dG9uXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpLmJsdXIoKX0sc3VibWl0OmZ1bmN0aW9uKGUpe2MucmVzZXQoZSksdChlKS5wYXJlbnQoXCJ0clwiKS5maW5kKFwiaW5wdXQudGFibGVkaXQtaWRlbnRpZmllclwiKS5hdHRyKFwiZGlzYWJsZWRcIiwhMSk7dmFyIGk9bihkLmJ1dHRvbnNbXCJkZWxldGVcIl0uYWN0aW9uKTt0KGUpLnBhcmVudHMoXCJ0clwiKS5maW5kKFwiaW5wdXQudGFibGVkaXQtaWRlbnRpZmllclwiKS5hdHRyKFwiZGlzYWJsZWRcIiwhMCksaSE9PSExJiYodChlKS5wYXJlbnQoXCJ0clwiKS5hZGRDbGFzcyhcInRhYmxlZGl0LWRlbGV0ZWQtcm93XCIpLHQoZSkucGFyZW50KFwidHJcIikuYWRkQ2xhc3MoZC5tdXRlZENsYXNzKS5maW5kKFwiLnRhYmxlZGl0LXRvb2xiYXIgYnV0dG9uOm5vdCgudGFibGVkaXQtcmVzdG9yZS1idXR0b24pXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCEwKSx0KGUpLmZpbmQoXCIudGFibGVkaXQtcmVzdG9yZS1idXR0b25cIikuc2hvdygpLG89dChlKS5wYXJlbnQoXCJ0clwiKSl9LGNvbmZpcm06ZnVuY3Rpb24oZSl7aS5maW5kKFwidGQudGFibGVkaXQtZWRpdC1tb2RlXCIpLmVhY2goZnVuY3Rpb24oKXtiLnJlc2V0KHRoaXMpfSksdChlKS5maW5kKFwiLnRhYmxlZGl0LWRlbGV0ZS1idXR0b25cIikuYWRkQ2xhc3MoXCJhY3RpdmVcIiksdChlKS5maW5kKFwiLnRhYmxlZGl0LWNvbmZpcm0tYnV0dG9uXCIpLnNob3coKX0scmVzdG9yZTpmdW5jdGlvbihlKXt0KGUpLnBhcmVudChcInRyXCIpLmZpbmQoXCJpbnB1dC50YWJsZWRpdC1pZGVudGlmaWVyXCIpLmF0dHIoXCJkaXNhYmxlZFwiLCExKTt2YXIgaT1uKGQuYnV0dG9ucy5yZXN0b3JlLmFjdGlvbik7dChlKS5wYXJlbnRzKFwidHJcIikuZmluZChcImlucHV0LnRhYmxlZGl0LWlkZW50aWZpZXJcIikuYXR0cihcImRpc2FibGVkXCIsITApLGkhPT0hMSYmKHQoZSkucGFyZW50KFwidHJcIikucmVtb3ZlQ2xhc3MoXCJ0YWJsZWRpdC1kZWxldGVkLXJvd1wiKSx0KGUpLnBhcmVudChcInRyXCIpLnJlbW92ZUNsYXNzKGQubXV0ZWRDbGFzcykuZmluZChcIi50YWJsZWRpdC10b29sYmFyIGJ1dHRvblwiKS5hdHRyKFwiZGlzYWJsZWRcIiwhMSksdChlKS5maW5kKFwiLnRhYmxlZGl0LXJlc3RvcmUtYnV0dG9uXCIpLmhpZGUoKSxsPXQoZSkucGFyZW50KFwidHJcIikpfX07cmV0dXJuIHIuY29sdW1ucy5pZGVudGlmaWVyKCksci5jb2x1bW5zLmVkaXRhYmxlKCksci5jb2x1bW5zLnRvb2xiYXIoKSxkLm9uRHJhdygpLGQuZGVsZXRlQnV0dG9uJiYoaS5vbihcImNsaWNrXCIsXCJidXR0b24udGFibGVkaXQtZGVsZXRlLWJ1dHRvblwiLGZ1bmN0aW9uKGUpe2lmKGUuaGFuZGxlZCE9PSEwKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIG49dCh0aGlzKS5oYXNDbGFzcyhcImFjdGl2ZVwiKSxpPXQodGhpcykucGFyZW50cyhcInRkXCIpO2MucmVzZXQoaSksbnx8Yy5jb25maXJtKGkpLGUuaGFuZGxlZD0hMH19KSxpLm9uKFwiY2xpY2tcIixcImJ1dHRvbi50YWJsZWRpdC1jb25maXJtLWJ1dHRvblwiLGZ1bmN0aW9uKGUpe2lmKGUuaGFuZGxlZCE9PSEwKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIG49dCh0aGlzKS5wYXJlbnRzKFwidGRcIik7Yy5zdWJtaXQobiksZS5oYW5kbGVkPSEwfX0pKSxkLnJlc3RvcmVCdXR0b24mJmkub24oXCJjbGlja1wiLFwiYnV0dG9uLnRhYmxlZGl0LXJlc3RvcmUtYnV0dG9uXCIsZnVuY3Rpb24oZSl7ZS5oYW5kbGVkIT09ITAmJihlLnByZXZlbnREZWZhdWx0KCksYy5yZXN0b3JlKHQodGhpcykucGFyZW50cyhcInRkXCIpKSxlLmhhbmRsZWQ9ITApfSksZC5lZGl0QnV0dG9uPyhpLm9uKFwiY2xpY2tcIixcImJ1dHRvbi50YWJsZWRpdC1lZGl0LWJ1dHRvblwiLGZ1bmN0aW9uKGUpe2lmKGUuaGFuZGxlZCE9PSEwKXtlLnByZXZlbnREZWZhdWx0KCk7dmFyIG49dCh0aGlzKSxhPW4uaGFzQ2xhc3MoXCJhY3RpdmVcIik7Yi5yZXNldChpLmZpbmQoXCJ0ZC50YWJsZWRpdC1lZGl0LW1vZGVcIikpLGF8fHQobi5wYXJlbnRzKFwidHJcIikuZmluZChcInRkLnRhYmxlZGl0LXZpZXctbW9kZVwiKS5nZXQoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oKXt1LmVkaXQodGhpcyl9KSxlLmhhbmRsZWQ9ITB9fSksaS5vbihcImNsaWNrXCIsXCJidXR0b24udGFibGVkaXQtc2F2ZS1idXR0b25cIixmdW5jdGlvbihlKXtlLmhhbmRsZWQhPT0hMCYmKGUucHJldmVudERlZmF1bHQoKSxiLnN1Ym1pdCh0KHRoaXMpLnBhcmVudHMoXCJ0clwiKS5maW5kKFwidGQudGFibGVkaXQtZWRpdC1tb2RlXCIpKSxlLmhhbmRsZWQ9ITApfSkpOihpLm9uKGQuZXZlbnRUeXBlLFwidHI6bm90KC50YWJsZWRpdC1kZWxldGVkLXJvdykgdGQudGFibGVkaXQtdmlldy1tb2RlXCIsZnVuY3Rpb24odCl7dC5oYW5kbGVkIT09ITAmJih0LnByZXZlbnREZWZhdWx0KCksYi5yZXNldChpLmZpbmQoXCJ0ZC50YWJsZWRpdC1lZGl0LW1vZGVcIikpLHUuZWRpdCh0aGlzKSx0LmhhbmRsZWQ9ITApfSksaS5vbihcImNoYW5nZVwiLFwic2VsZWN0LnRhYmxlZGl0LWlucHV0OnZpc2libGVcIixmdW5jdGlvbigpe2V2ZW50LmhhbmRsZWQhPT0hMCYmKGIuc3VibWl0KHQodGhpcykucGFyZW50KFwidGRcIikpLGV2ZW50LmhhbmRsZWQ9ITApfSksdChkb2N1bWVudCkub24oXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3ZhciBlPWkuZmluZChcIi50YWJsZWRpdC1lZGl0LW1vZGVcIik7ZS5pcyh0LnRhcmdldCl8fDAhPT1lLmhhcyh0LnRhcmdldCkubGVuZ3RofHxiLnJlc2V0KGkuZmluZChcIi50YWJsZWRpdC1pbnB1dDp2aXNpYmxlXCIpLnBhcmVudChcInRkXCIpKX0pKSx0KGRvY3VtZW50KS5vbihcImtleXVwXCIsZnVuY3Rpb24odCl7dmFyIGU9aS5maW5kKFwiLnRhYmxlZGl0LWlucHV0OnZpc2libGVcIiksbj1pLmZpbmQoXCIudGFibGVkaXQtY29uZmlybS1idXR0b25cIik7aWYoZS5sZW5ndGg+MCl2YXIgYT1lLnBhcmVudHMoXCJ0ZFwiKTtlbHNle2lmKCEobi5sZW5ndGg+MCkpcmV0dXJuO3ZhciBhPW4ucGFyZW50cyhcInRkXCIpfXN3aXRjaCh0LmtleUNvZGUpe2Nhc2UgOTpkLmVkaXRCdXR0b258fChiLnN1Ym1pdChhKSx1LmVkaXQoYS5jbG9zZXN0KFwidGRcIikubmV4dCgpKSk7YnJlYWs7Y2FzZSAxMzpiLnN1Ym1pdChhKTticmVhaztjYXNlIDI3OmIucmVzZXQoYSksYy5yZXNldChhKX19KSx0aGlzfX0oalF1ZXJ5KTsiXX0=
