function fillData(){var t=$("#startTime").attr("value"),e=$("#endTime").attr("value"),a=$(".search input").val(),l=$("th .ascending").parent().attr("value")||$("th .descending").parent().attr("value"),i=$(".ascending").attr("class")||$(".descending").attr("class");compareDate(t,e);""!==$.trim(a)&&(page=1),$.ajax({url:"/api/v1.0/dailystatement/commission",data:{start_time:t,end_time:e,arg:a,sort:l,order:i},type:"GET",success:function(t){if(1==t.success){var e="<tr><td></td><td></td><td></td><td></td><td></td></tr>";$("table tbody tr").remove();for(var a=0;a<t.data.data.length;a++){$("table tbody").append(e),ii=a+1;var l=t.data.data[a].number||"无",i=t.data.data[a].commission||0,d=t.data.data[a].guide||"无";$("table tr:eq("+ii+")").attr("value",t.data.data[a].id),$("table tr:eq("+ii+") td:eq(0)").text(ii),$("table tr:eq("+ii+") td:eq(1)").text(l),$("table tr:eq("+ii+") td:eq(2)").html("<a href='/dailystatement/store-detail/"+t.data.data[a].id+"'>"+t.data.data[a].store_name+"</a>"),$("table tr:eq("+ii+") td:eq(3)").text(i),$("table tr:eq("+ii+") td:eq(4)").text(d)}setTbaleWidth()}else location.href="/logout"}})}$(document).ready(function(){$(".sidebar li").eq(0).addClass("active").siblings().removeClass("active");var t=new Date,e=t.getFullYear(),a=t.getMonth()+1,l="#year-select option[value='"+e+"']",i="#month-select option[value='"+a+"']";$(l).attr("selected",!0),$(i).attr("selected",!0);var d=new Date,s=d.getFullYear()+"-"+(d.getMonth()+1)+"-1",n=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate();$("#startTime").attr("value",s),$("#endTime").attr("value",n),fillData(),$("a[value='storeanalysis']").addClass("sidebar-color"),$(".date li").click(function(){$(".date-choiced").removeClass(),$(this).addClass("date-choiced"),fillData();var t=$(this).scrollLeft();$("table th").eq(0).css("left",t),$("table th").eq(1).css("left",t),$("table th").eq(2).css("left",t),$("table th").eq(3).css("left",t).addClass("box-shadow"),$("table td:nth-child(1)").css("left",t),$("table td:nth-child(2)").css("left",t),$("table td:nth-child(3)").css("left",t),$("table td:nth-child(4)").css("left",t).addClass("box-shadow"),0===Number($(this).scrollLeft())&&($("table th").eq(3).removeClass("box-shadow"),$("table td:nth-child(4)").removeClass("box-shadow"))}),$(".select-page").change(function(){fillData()}),$(".page-turing.prev").click(function(){1!=$(".select-page").val()&&($(".select-page").val($(".select-page").val()-1),fillData())}),$(".page-turing.next").click(function(){$(".select-page").val()!=$(".select-page option").length&&($(".select-page").val(Number($(".select-page").val())+1),fillData())}),$(".add-image:eq(0)").click(function(){"hidden"==$(".explain-box").attr("hidden")?$(".explain-box").removeAttr("hidden"):$(".explain-box").attr("hidden","hidden")}),$(".add-image:eq(1)").click(function(){"hidden"==$(".add-items").attr("hidden")?$(".add-items").removeAttr("hidden"):$(".add-items").attr("hidden","hidden")}),$(".float-right input:eq(0), .float-right input:eq(1)").click(function(){$(".add-items").attr("hidden","hidden")}),$(".float-right input:eq(2)").click(function(){$(".add-items").attr("hidden","hidden"),$("input:checkbox:not(:checked)").each(function(){hideTableCol($("table"),$(this).attr("value"))}),$("input:checkbox:checked").each(function(){showTableCol($("table"),$(this).attr("value"))}),setTbaleWidth()}),$(".search img").click(function(){""!==$.trim($(".search input").val())&&fillData()}),$(".search input").keydown(function(t){13==t.which&&fillData()}),$("table").tableExport({headings:!0,fileName:"stores",formats:["csv","xls"],exportButtons:!0,position:"bottom",ignoreCSS:"[style*='display: none']"}),$("table").tablesort({func:function(){fillData()}}),$(".download").click(function(){$("table").tableExport({headings:!0,fileName:"stores",formats:["csv","xls"],exportButtons:!0,position:"bottom",ignoreCSS:"[style*='display: none']"})}),$(".table-border").scroll(function(){var t=$(this).scrollLeft();$("table th").eq(0).css("left",t),$("table th").eq(1).css("left",t),$("table th").eq(2).css("left",t),$("table th").eq(3).css("left",t).addClass("box-shadow"),$("table td:nth-child(1)").css("left",t),$("table td:nth-child(2)").css("left",t),$("table td:nth-child(3)").css("left",t),$("table td:nth-child(4)").css("left",t).addClass("box-shadow"),0===Number($(this).scrollLeft())&&($("table th").eq(3).removeClass("box-shadow"),$("table td:nth-child(4)").removeClass("box-shadow"))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhaWx5c3RhdGVtZW50L3N0b3JlLWNvbW1pc3Npb24uanMiXSwibmFtZXMiOlsiZmlsbERhdGEiLCJzdGFydFRpbWUiLCIkIiwiYXR0ciIsImVuZFRpbWUiLCJhcmciLCJ2YWwiLCJzb3J0IiwicGFyZW50Iiwib3JkZXIiLCJjb21wYXJlRGF0ZSIsInRyaW0iLCJwYWdlIiwiYWpheCIsInVybCIsImRhdGEiLCJzdGFydF90aW1lIiwiZW5kX3RpbWUiLCJ0eXBlIiwic3VjY2VzcyIsIm5ld1JvdyIsInJlbW92ZSIsImkiLCJsZW5ndGgiLCJhcHBlbmQiLCJpaSIsIm51bWJlciIsImNvbW1pc3Npb24iLCJndWlkZSIsImlkIiwidGV4dCIsImh0bWwiLCJzdG9yZV9uYW1lIiwic2V0VGJhbGVXaWR0aCIsImxvY2F0aW9uIiwiaHJlZiIsImRvY3VtZW50IiwicmVhZHkiLCJlcSIsImFkZENsYXNzIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsImRhdGUiLCJEYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsInllYXJfc2VsZWN0IiwibW9udGhfc2VsZWN0IiwiZCIsImdldERhdGUiLCJjbGljayIsInRoaXMiLCJfbGVmdCIsInNjcm9sbExlZnQiLCJjc3MiLCJOdW1iZXIiLCJjaGFuZ2UiLCJyZW1vdmVBdHRyIiwiZWFjaCIsImhpZGVUYWJsZUNvbCIsInNob3dUYWJsZUNvbCIsImtleWRvd24iLCJldmVudCIsIndoaWNoIiwidGFibGVFeHBvcnQiLCJoZWFkaW5ncyIsImZpbGVOYW1lIiwiZm9ybWF0cyIsImV4cG9ydEJ1dHRvbnMiLCJwb3NpdGlvbiIsImlnbm9yZUNTUyIsInRhYmxlc29ydCIsImZ1bmMiLCJzY3JvbGwiXSwibWFwcGluZ3MiOiJBQUFBLFFBQVNBLFlBQ0wsR0FBSUMsR0FBWUMsRUFBRSxjQUFjQyxLQUFLLFNBQ2pDQyxFQUFVRixFQUFFLFlBQVlDLEtBQUssU0FDN0JFLEVBQU1ILEVBQUUsaUJBQWlCSSxN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aXNzaW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZmlsbERhdGEoKXtcbiAgICB2YXIgc3RhcnRUaW1lID0gJChcIiNzdGFydFRpbWVcIikuYXR0cihcInZhbHVlXCIpO1xuICAgIHZhciBlbmRUaW1lID0gJChcIiNlbmRUaW1lXCIpLmF0dHIoXCJ2YWx1ZVwiKTtcbiAgICB2YXIgYXJnID0gJChcIi5zZWFyY2ggaW5wdXRcIikudmFsKCk7XG4gICAgdmFyIHNvcnQgPSAkKFwidGggLmFzY2VuZGluZ1wiKS5wYXJlbnQoKS5hdHRyKFwidmFsdWVcIikgfHwgJChcInRoIC5kZXNjZW5kaW5nXCIpLnBhcmVudCgpLmF0dHIoXCJ2YWx1ZVwiKTtcbiAgICB2YXIgb3JkZXIgPSAkKFwiLmFzY2VuZGluZ1wiKS5hdHRyKFwiY2xhc3NcIikgfHwgJChcIi5kZXNjZW5kaW5nXCIpLmF0dHIoXCJjbGFzc1wiKTtcbiAgICB2YXIgaW50ZXJ2YWxUaW1lID0gY29tcGFyZURhdGUoc3RhcnRUaW1lLGVuZFRpbWUpO1xuICAgIGlmICgkLnRyaW0oYXJnKSAhPT0gXCJcIil7XG4gICAgICAgIHBhZ2UgPSAxO1xuICAgIH1cbiAgICAkLmFqYXgoe1xuICAgICAgICB1cmw6IFwiL2FwaS92MS4wL2RhaWx5c3RhdGVtZW50L2NvbW1pc3Npb25cIixcbiAgICAgICAgZGF0YToge1wic3RhcnRfdGltZVwiOiBzdGFydFRpbWUsIFwiZW5kX3RpbWVcIjogZW5kVGltZSwgXCJhcmdcIjphcmcsIFwic29ydFwiOiBzb3J0LCBcIm9yZGVyXCI6IG9yZGVyfSxcbiAgICAgICAgdHlwZTogXCJHRVRcIixcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgPT0gMSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXdSb3cgPSBcIjx0cj48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48dGQ+PC90ZD48L3RyPlwiO1xuICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0Ym9keSB0clwiKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuZGF0YS5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0Ym9keVwiKS5hcHBlbmQobmV3Um93KTtcbiAgICAgICAgICAgICAgICAgICAgaWkgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG51bWJlciA9IGRhdGEuZGF0YS5kYXRhW2ldLm51bWJlciB8fCAn5pegJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1pc3Npb24gPSBkYXRhLmRhdGEuZGF0YVtpXS5jb21taXNzaW9uIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBndWlkZSA9IGRhdGEuZGF0YS5kYXRhW2ldLmd1aWRlIHx8ICfml6AnO1xuICAgICAgICAgICAgICAgICAgICAkKFwidGFibGUgdHI6ZXEoXCIgKyBpaSArIFwiKVwiKS5hdHRyKFwidmFsdWVcIiwgZGF0YS5kYXRhLmRhdGFbaV0uaWQpO1xuICAgICAgICAgICAgICAgICAgICAkKFwidGFibGUgdHI6ZXEoXCIgKyBpaSArIFwiKSB0ZDplcSgwKVwiKS50ZXh0KGlpKTtcbiAgICAgICAgICAgICAgICAgICAgJChcInRhYmxlIHRyOmVxKFwiICsgaWkgKyBcIikgdGQ6ZXEoMSlcIikudGV4dChudW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAkKFwidGFibGUgdHI6ZXEoXCIgKyBpaSArIFwiKSB0ZDplcSgyKVwiKS5odG1sKFwiPGEgaHJlZj0nL2RhaWx5c3RhdGVtZW50L3N0b3JlLWRldGFpbC9cIisgZGF0YS5kYXRhLmRhdGFbaV0uaWQgKyBcIic+XCIgKyBkYXRhLmRhdGEuZGF0YVtpXS5zdG9yZV9uYW1lKyBcIjwvYT5cIik7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0cjplcShcIiArIGlpICsgXCIpIHRkOmVxKDMpXCIpLnRleHQoY29tbWlzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICQoXCJ0YWJsZSB0cjplcShcIiArIGlpICsgXCIpIHRkOmVxKDQpXCIpLnRleHQoZ3VpZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2V0VGJhbGVXaWR0aCgpO1xuICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBcIi9sb2dvdXRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7JChcIi5zaWRlYmFyIGxpXCIpLmVxKDApLmFkZENsYXNzKFwiYWN0aXZlXCIpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG5cbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgdmFyIHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpKzE7XG4gICAgdmFyIHllYXJfc2VsZWN0ID0gXCIjeWVhci1zZWxlY3Qgb3B0aW9uW3ZhbHVlPSdcIisgeWVhciArIFwiJ11cIjtcbiAgICB2YXIgbW9udGhfc2VsZWN0ID0gXCIjbW9udGgtc2VsZWN0IG9wdGlvblt2YWx1ZT0nXCIgKyBtb250aCArIFwiJ11cIjtcbiAgICAkKHllYXJfc2VsZWN0KS5hdHRyKFwic2VsZWN0ZWRcIix0cnVlKTtcbiAgICAkKG1vbnRoX3NlbGVjdCkuYXR0cihcInNlbGVjdGVkXCIsdHJ1ZSk7XG4gICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICAgIHZhciBzdGFydF90aW1lID0gZC5nZXRGdWxsWWVhcigpK1wiLVwiKyhkLmdldE1vbnRoKCkrMSkrXCItMVwiO1xuICAgIHZhciBlbmRfdGltZSA9IGQuZ2V0RnVsbFllYXIoKStcIi1cIisoZC5nZXRNb250aCgpKzEpK1wiLVwiK2QuZ2V0RGF0ZSgpO1xuICAgICQoXCIjc3RhcnRUaW1lXCIpLmF0dHIoXCJ2YWx1ZVwiLHN0YXJ0X3RpbWUpO1xuICAgICQoXCIjZW5kVGltZVwiKS5hdHRyKFwidmFsdWVcIixlbmRfdGltZSk7XG4gICAgZmlsbERhdGEoKTtcbiAgICBcblxuICAgICQoXCJhW3ZhbHVlPSdzdG9yZWFuYWx5c2lzJ11cIikuYWRkQ2xhc3MoXCJzaWRlYmFyLWNvbG9yXCIpO1xuXG4gICAgJChcIi5kYXRlIGxpXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJChcIi5kYXRlLWNob2ljZWRcIikucmVtb3ZlQ2xhc3MoKTtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImRhdGUtY2hvaWNlZFwiKTtcbiAgICAgICAgZmlsbERhdGEoKTtcbiAgICAgICAgdmFyIF9sZWZ0ID0gJCh0aGlzKS5zY3JvbGxMZWZ0KCk7XG4gICAgICAgICQoJ3RhYmxlIHRoJykuZXEoMCkuY3NzKCdsZWZ0JywgX2xlZnQpO1xuICAgICAgICAkKCd0YWJsZSB0aCcpLmVxKDEpLmNzcygnbGVmdCcsIF9sZWZ0KTtcbiAgICAgICAgJCgndGFibGUgdGgnKS5lcSgyKS5jc3MoJ2xlZnQnLCBfbGVmdCk7XG4gICAgICAgICQoJ3RhYmxlIHRoJykuZXEoMykuY3NzKCdsZWZ0JywgX2xlZnQpLmFkZENsYXNzKCdib3gtc2hhZG93Jyk7XG4gICAgICAgICQoJ3RhYmxlIHRkOm50aC1jaGlsZCgxKScpLmNzcygnbGVmdCcsIF9sZWZ0KTtcbiAgICAgICAgJCgndGFibGUgdGQ6bnRoLWNoaWxkKDIpJykuY3NzKCdsZWZ0JywgX2xlZnQpO1xuICAgICAgICAkKCd0YWJsZSB0ZDpudGgtY2hpbGQoMyknKS5jc3MoJ2xlZnQnLCBfbGVmdCk7XG4gICAgICAgICQoJ3RhYmxlIHRkOm50aC1jaGlsZCg0KScpLmNzcygnbGVmdCcsIF9sZWZ0KS5hZGRDbGFzcygnYm94LXNoYWRvdycpO1xuICAgICAgICBpZiAoTnVtYmVyKCQodGhpcykuc2Nyb2xsTGVmdCgpKSA9PT0gMCkge1xuICAgICAgICAgICAgJCgndGFibGUgdGgnKS5lcSgzKS5yZW1vdmVDbGFzcygnYm94LXNoYWRvdycpO1xuICAgICAgICAgICAgJCgndGFibGUgdGQ6bnRoLWNoaWxkKDQpJykucmVtb3ZlQ2xhc3MoJ2JveC1zaGFkb3cnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICQoXCIuc2VsZWN0LXBhZ2VcIikuY2hhbmdlKGZ1bmN0aW9uKCl7XG4gICAgICAgIGZpbGxEYXRhKCk7XG4gICAgfSk7XG4gICAgJChcIi5wYWdlLXR1cmluZy5wcmV2XCIpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICgkKFwiLnNlbGVjdC1wYWdlXCIpLnZhbCgpID09IDEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICQoXCIuc2VsZWN0LXBhZ2VcIikudmFsKCQoXCIuc2VsZWN0LXBhZ2VcIikudmFsKCkgLSAxKTtcbiAgICAgICAgZmlsbERhdGEoKTtcbiAgICB9KTtcbiAgICAkKFwiLnBhZ2UtdHVyaW5nLm5leHRcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgaWYgKCQoXCIuc2VsZWN0LXBhZ2VcIikudmFsKCkgPT0gJChcIi5zZWxlY3QtcGFnZSBvcHRpb25cIikubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgJChcIi5zZWxlY3QtcGFnZVwiKS52YWwoTnVtYmVyKCQoXCIuc2VsZWN0LXBhZ2VcIikudmFsKCkpICsgMSk7XG4gICAgICAgIGZpbGxEYXRhKCk7XG4gICAgfSk7XG4gICAgJChcIi5hZGQtaW1hZ2U6ZXEoMClcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIG9wID0gJChcIi5leHBsYWluLWJveFwiKS5hdHRyKFwiaGlkZGVuXCIpID09IFwiaGlkZGVuXCIgPyAkKFwiLmV4cGxhaW4tYm94XCIpLnJlbW92ZUF0dHIoXCJoaWRkZW5cIikgOiAkKFwiLmV4cGxhaW4tYm94XCIpLmF0dHIoXCJoaWRkZW5cIiwgXCJoaWRkZW5cIik7XG4gICAgfSk7XG4gICAgJChcIi5hZGQtaW1hZ2U6ZXEoMSlcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIG9wID0gJChcIi5hZGQtaXRlbXNcIikuYXR0cihcImhpZGRlblwiKSA9PSBcImhpZGRlblwiID8gJChcIi5hZGQtaXRlbXNcIikucmVtb3ZlQXR0cihcImhpZGRlblwiKSA6ICQoXCIuYWRkLWl0ZW1zXCIpLmF0dHIoXCJoaWRkZW5cIiwgXCJoaWRkZW5cIik7XG4gICAgfSk7XG4gICAgJChcIi5mbG9hdC1yaWdodCBpbnB1dDplcSgwKSwgLmZsb2F0LXJpZ2h0IGlucHV0OmVxKDEpXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICQoXCIuYWRkLWl0ZW1zXCIpLmF0dHIoXCJoaWRkZW5cIiwgXCJoaWRkZW5cIik7XG4gICAgfSk7XG4gICAgJChcIi5mbG9hdC1yaWdodCBpbnB1dDplcSgyKVwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAkKFwiLmFkZC1pdGVtc1wiKS5hdHRyKFwiaGlkZGVuXCIsIFwiaGlkZGVuXCIpO1xuXG4gICAgICAgICQoJ2lucHV0OmNoZWNrYm94Om5vdCg6Y2hlY2tlZCknKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBoaWRlVGFibGVDb2woJChcInRhYmxlXCIpLCAkKHRoaXMpLmF0dHIoXCJ2YWx1ZVwiKSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKCdpbnB1dDpjaGVja2JveDpjaGVja2VkJykuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2hvd1RhYmxlQ29sKCQoXCJ0YWJsZVwiKSwgJCh0aGlzKS5hdHRyKFwidmFsdWVcIikpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0VGJhbGVXaWR0aCgpO1xuICAgIH0pO1xuXG4gICAgJChcIi5zZWFyY2ggaW1nXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmICgkLnRyaW0oJChcIi5zZWFyY2ggaW5wdXRcIikudmFsKCkpICE9PSBcIlwiKXtcbiAgICAgICAgICAgIGZpbGxEYXRhKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoXCIuc2VhcmNoIGlucHV0XCIpLmtleWRvd24oZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT0gMTMpe1xuICAgICAgICAgICAgZmlsbERhdGEoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChcInRhYmxlXCIpLnRhYmxlRXhwb3J0KHtcbiAgICAgICAgICAgIGhlYWRpbmdzOiB0cnVlLFxuICAgICAgICAgICAgZmlsZU5hbWU6IFwic3RvcmVzXCIsXG4gICAgICAgICAgICBmb3JtYXRzOiBbXCJjc3ZcIixcInhsc1wiXSxcbiAgICAgICAgICAgIGV4cG9ydEJ1dHRvbnM6IHRydWUsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJib3R0b21cIixcbiAgICAgICAgICAgIGlnbm9yZUNTUzogXCJbc3R5bGUqPSdkaXNwbGF5OiBub25lJ11cIlxuICAgICAgICB9KTtcblxuICAgICQoXCJ0YWJsZVwiKS50YWJsZXNvcnQoe2Z1bmM6IGZ1bmN0aW9uKCl7ZmlsbERhdGEoKTt9fSk7XG5cbiAgICAkKFwiLmRvd25sb2FkXCIpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgICAgICQoXCJ0YWJsZVwiKS50YWJsZUV4cG9ydCh7XG4gICAgICAgICAgICBoZWFkaW5nczogdHJ1ZSxcbiAgICAgICAgICAgIGZpbGVOYW1lOiBcInN0b3Jlc1wiLFxuICAgICAgICAgICAgZm9ybWF0czogW1wiY3N2XCIsXCJ4bHNcIl0sXG4gICAgICAgICAgICBleHBvcnRCdXR0b25zOiB0cnVlLFxuICAgICAgICAgICAgcG9zaXRpb246IFwiYm90dG9tXCIsXG4gICAgICAgICAgICBpZ25vcmVDU1M6IFwiW3N0eWxlKj0nZGlzcGxheTogbm9uZSddXCJcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKCcudGFibGUtYm9yZGVyJykuc2Nyb2xsKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgX2xlZnQgPSAkKHRoaXMpLnNjcm9sbExlZnQoKTtcbiAgICAgICAgJCgndGFibGUgdGgnKS5lcSgwKS5jc3MoJ2xlZnQnLCBfbGVmdCk7XG4gICAgICAgICQoJ3RhYmxlIHRoJykuZXEoMSkuY3NzKCdsZWZ0JywgX2xlZnQpO1xuICAgICAgICAkKCd0YWJsZSB0aCcpLmVxKDIpLmNzcygnbGVmdCcsIF9sZWZ0KTtcbiAgICAgICAgJCgndGFibGUgdGgnKS5lcSgzKS5jc3MoJ2xlZnQnLCBfbGVmdCkuYWRkQ2xhc3MoJ2JveC1zaGFkb3cnKTtcbiAgICAgICAgJCgndGFibGUgdGQ6bnRoLWNoaWxkKDEpJykuY3NzKCdsZWZ0JywgX2xlZnQpO1xuICAgICAgICAkKCd0YWJsZSB0ZDpudGgtY2hpbGQoMiknKS5jc3MoJ2xlZnQnLCBfbGVmdCk7XG4gICAgICAgICQoJ3RhYmxlIHRkOm50aC1jaGlsZCgzKScpLmNzcygnbGVmdCcsIF9sZWZ0KTtcbiAgICAgICAgJCgndGFibGUgdGQ6bnRoLWNoaWxkKDQpJykuY3NzKCdsZWZ0JywgX2xlZnQpLmFkZENsYXNzKCdib3gtc2hhZG93Jyk7XG4gICAgICAgIGlmIChOdW1iZXIoJCh0aGlzKS5zY3JvbGxMZWZ0KCkpID09PSAwKSB7XG4gICAgICAgICAgICAkKCd0YWJsZSB0aCcpLmVxKDMpLnJlbW92ZUNsYXNzKCdib3gtc2hhZG93Jyk7XG4gICAgICAgICAgICAkKCd0YWJsZSB0ZDpudGgtY2hpbGQoNCknKS5yZW1vdmVDbGFzcygnYm94LXNoYWRvdycpO1xuICAgICAgICB9XG4gICAgfSk7XG59KTsiXX0=
