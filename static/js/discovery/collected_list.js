$(document).ready(function(){function e(){$.ajax({url:"collected-product",type:"GET",data:{page:r},dataType:"json",success:function(e){if(""!==e.result){$(".ui.single.line.table").show();for(var t=0;t<e.result.length;t++){var a="product-info?area="+e.result[t].product_area+"&source="+e.result[t].product_source+"&skuid="+e.result[t].product_id,n=$('<td><input type="checkbox"></input></td>'),r=$("<a href="+a+"></a>"),c=$("<img src="+e.result[t].product_image+' class="ui mini rounded image">'),l=$("<a href="+a+' class="content">'+e.result[t].product_name+"</a>"),s=$('<td class="sec_td left aligned"></td>'),d=$("<td>"+e.result[t].collect_time+"</td>"),o=$('<td><a href="javascript:" class="delete" name='+e.result[t].product_id+">删除收藏</a></td>"),p=$('<tr class="center aligned"></tr>');r.append(c),s.append(r).append(l),p.append(n).append(s).append(d).append(o),$("#product_list").append(p)}}else $(".remind").show();i=e.total,$(".homepage:eq(1)>a").css("color","#ff5422"),$(".homepage:eq(1)>div").addClass("triangle")}})}function t(){$(".delete").click(function(){var e=$(this).attr("name");$.ajax({url:"product-collect",type:"GET",dataType:"json",data:{skuid:e},success:function(t){0===t.success&&confirm("您确定要删除该收藏吗?")&&($(".delete[name="+e+"]").parent().parent("tr").remove(),0===$(".delete").length&&($(".remind").show(),$(".ui.single.line.table").hide()))}})})}function a(){for(var e=1;e<=i;e++)if(e<=6){var t=$('<a href="javascript:" class="item page_item">'+e+"</a>");$("#pagi_next").before(t)}$(".page_item").each(function(){if($(this).html()==r&&$(this).addClass("active"),r>=4&&i>6)if(r>=i-2)for(var e=0;e<$(".pagi").length;e++){var t=i-5+e;$(".pagi")[e].innerHTML=t}else for(var a=0;a<$(".pagi").length;a++){var n=r-3+a;$(".pagi")[a].innerHTML=n}}),$(".page_item").click(function(){var e=$(this).html();n(e)}),$("#pagi_prev, #pagi_next").click(function(){"pagi_prev"==$(this).attr("id")?r--:r++,r<=0&&(r=1),r>=i&&(r=i),n(r)})}function n(e){window.location.href="collect?page="+e}var i=null,r=Number($("#pagination").attr("name"));e(),$(document).ajaxSuccess(function(e,n,i){i.url==="collected-product?page="+r&&(t(),a())})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpc2NvdmVyeS9jb2xsZWN0ZWRfbGlzdC5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsInJlcXVlc3RDb2xsZWN0ZWQiLCJhamF4IiwidXJsIiwidHlwZSIsImRhdGEiLCJwYWdlIiwiY3VycmVudFBhZ2UiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJjb2xsZWN0IiwicmVzdWx0Iiwic2hvdyIsImkiLCJsZW5ndGgiLCJoIiwicHJvZHVjdF9hcmVhIiwicHJvZHVjdF9zb3VyY2UiLCJwcm9kdWN0X2lkIiwiZmlyX3RkIiwic2VjX3RkX2EiLCJzZWNfdGRfaW1nIiwicHJvZHVjdF9pbWFnZSIsInNlY190ZF9uYW1lIiwicHJvZHVjdF9uYW1lIiwic2VjX3RkIiwidGhpX3RkIiwiY29sbGVjdF90aW1lIiwiZm9yX3RkIiwidHJfd3JhcHBlciIsImFwcGVuZCIsImNvbGxlY3RlZFRvdGFsIiwidG90YWwiLCJjc3MiLCJhZGRDbGFzcyIsImRlbGV0ZUNvbGxlY3RlZCIsImNsaWNrIiwidGhpcyIsImF0dHIiLCJza3VpZCIsImRlbCIsImNvbmZpcm0iLCJwYXJlbnQiLCJyZW1vdmUiLCJoaWRlIiwiY29sbGVjdGVkUGFnaW5hdGlvbiIsInNpbmdsZSIsImJlZm9yZSIsImVhY2giLCJodG1sIiwibm93UGFnZSIsImlubmVySFRNTCIsImoiLCJub3dQYWdlT3RoZXIiLCJwYWdlSXRlbSIsInJlbG9hZFBhZ2VGdW4iLCJwYXJhbSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsIk51bWJlciIsImFqYXhTdWNjZXNzIiwiZXZlbnQiLCJ4aHIiLCJzZXR0aW5ncyJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FJZCxRQUFTQyxLQUNMSCxFQUFFSSxNQUNFQyxJQUFLLG9CQUNMQyxLQUFNLE1BQ05DLE1BQU9DLEtBQVFDLEdBQ2ZDLFNBQVUsT0FDVkMsUUFBUyxTQUFTQyxHQUNkLEdBQXVCLEtBQW5CQSxFQUFRQyxPQUFlLENB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LEdBQUl6QixHQUFpQixLQUNqQnhCLEVBQWNxRCxPQUFPOUQsRUFBRSxlQUFld0MsS0FBSyxRQTBDL0NyQyxLQUVBSCxFQUFFQyxVQUFVOEQsWUFBWSxTQUFVQyxFQUFPQyxFQUFLQyxHQUN0Q0EsRUFBUzdELE1BQVMsMEJBQTBCSSxJQUM1QzRCLElBQ0FVIiwiZmlsZSI6ImRpc2NvdmVyeS9jb2xsZWN0ZWRfbGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gICAgdmFyIGNvbGxlY3RlZFRvdGFsID0gbnVsbDtcbiAgICB2YXIgY3VycmVudFBhZ2UgPSBOdW1iZXIoJCgnI3BhZ2luYXRpb24nKS5hdHRyKCduYW1lJykpO1xuXG4gICAgZnVuY3Rpb24gcmVxdWVzdENvbGxlY3RlZCgpe1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiAnY29sbGVjdGVkLXByb2R1Y3QnLFxuICAgICAgICAgICAgdHlwZTogJ0dFVCcsXG4gICAgICAgICAgICBkYXRhOiB7J3BhZ2UnOiBjdXJyZW50UGFnZX0sXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oY29sbGVjdCl7XG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3QucmVzdWx0ICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAkKCcudWkuc2luZ2xlLmxpbmUudGFibGUnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sbGVjdC5yZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoID0gJ3Byb2R1Y3QtaW5mbz9hcmVhPScrIGNvbGxlY3QucmVzdWx0W2ldLnByb2R1Y3RfYXJlYSArJyZzb3VyY2U9JysgY29sbGVjdC5yZXN1bHRbaV0ucHJvZHVjdF9zb3VyY2UgK1wiJnNrdWlkPVwiK2NvbGxlY3QucmVzdWx0W2ldLnByb2R1Y3RfaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlyX3RkID0gJCgnPHRkPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIj48L2lucHV0PjwvdGQ+Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWNfdGRfYSA9ICQoJzxhIGhyZWY9JysgaCArJz48L2E+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VjX3RkX2ltZyA9ICQoJzxpbWcgc3JjPScrIGNvbGxlY3QucmVzdWx0W2ldLnByb2R1Y3RfaW1hZ2UgKycgY2xhc3M9XCJ1aSBtaW5pIHJvdW5kZWQgaW1hZ2VcIj4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlY190ZF9uYW1lID0gJCgnPGEgaHJlZj0nKyBoICsnIGNsYXNzPVwiY29udGVudFwiPicrIGNvbGxlY3QucmVzdWx0W2ldLnByb2R1Y3RfbmFtZSArJzwvYT4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWNfdGQgPSAkKCc8dGQgY2xhc3M9XCJzZWNfdGQgbGVmdCBhbGlnbmVkXCI+PC90ZD4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaV90ZCA9ICQoJzx0ZD4nKyBjb2xsZWN0LnJlc3VsdFtpXS5jb2xsZWN0X3RpbWUgKyc8L3RkPicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9yX3RkID0gJCgnPHRkPjxhIGhyZWY9XCJqYXZhc2NyaXB0OlwiIGNsYXNzPVwiZGVsZXRlXCIgbmFtZT0nKyBjb2xsZWN0LnJlc3VsdFtpXS5wcm9kdWN0X2lkICsnPuWIoOmZpOaUtuiXjzwvYT48L3RkPicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJfd3JhcHBlciA9ICQoJzx0ciBjbGFzcz1cImNlbnRlciBhbGlnbmVkXCI+PC90cj4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjX3RkX2EuYXBwZW5kKHNlY190ZF9pbWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VjX3RkLmFwcGVuZChzZWNfdGRfYSkuYXBwZW5kKHNlY190ZF9uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyX3dyYXBwZXIuYXBwZW5kKGZpcl90ZCkuYXBwZW5kKHNlY190ZCkuYXBwZW5kKHRoaV90ZCkuYXBwZW5kKGZvcl90ZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjcHJvZHVjdF9saXN0JykuYXBwZW5kKHRyX3dyYXBwZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICQoJy5yZW1pbmQnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbGxlY3RlZFRvdGFsID0gY29sbGVjdC50b3RhbDtcblxuICAgICAgICAgICAgICAgICQoJy5ob21lcGFnZTplcSgxKT5hJykuY3NzKCdjb2xvcicsICcjZmY1NDIyJyk7XG4gICAgICAgICAgICAgICAgJCgnLmhvbWVwYWdlOmVxKDEpPmRpdicpLmFkZENsYXNzKCd0cmlhbmdsZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVxdWVzdENvbGxlY3RlZCgpO1xuXG4gICAgJChkb2N1bWVudCkuYWpheFN1Y2Nlc3MoZnVuY3Rpb24gKGV2ZW50LCB4aHIsIHNldHRpbmdzKSB7XG4gICAgICAgIGlmIChzZXR0aW5ncy51cmwgPT09IChcImNvbGxlY3RlZC1wcm9kdWN0P3BhZ2U9XCIrY3VycmVudFBhZ2UpKSB7XG4gICAgICAgICAgICBkZWxldGVDb2xsZWN0ZWQoKTtcbiAgICAgICAgICAgIGNvbGxlY3RlZFBhZ2luYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8g5Yig6Zmk5pS26JeP55qE5ZWG5ZOBXG4gICAgZnVuY3Rpb24gZGVsZXRlQ29sbGVjdGVkKCl7XG4gICAgICAgICQoJy5kZWxldGUnKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmFyIHByb2R1Y3RfaWQgPSAkKHRoaXMpLmF0dHIoJ25hbWUnKTtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiAncHJvZHVjdC1jb2xsZWN0JyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIGRhdGE6IHsnc2t1aWQnOiBwcm9kdWN0X2lkfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkZWwpe1xuICAgICAgICAgICAgICAgICAgICAvLyBkZWw9MCDliKDpmaRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbC5zdWNjZXNzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjb25maXJtKFwi5oKo56Gu5a6a6KaB5Yig6Zmk6K+l5pS26JeP5ZCXP1wiKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmRlbGV0ZVtuYW1lPScrIHByb2R1Y3RfaWQgKyddJykucGFyZW50KCkucGFyZW50KCd0cicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKCcuZGVsZXRlJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5yZW1pbmQnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy51aS5zaW5nbGUubGluZS50YWJsZScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8g5YiG6aG1XG4gICAgZnVuY3Rpb24gY29sbGVjdGVkUGFnaW5hdGlvbigpe1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBjb2xsZWN0ZWRUb3RhbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA8PSA2KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNpbmdsZSA9ICQoJzxhIGhyZWY9XCJqYXZhc2NyaXB0OlwiIGNsYXNzPVwiaXRlbSBwYWdlX2l0ZW1cIj4nKyBpICsnPC9hPicpO1xuICAgICAgICAgICAgICAgICQoXCIjcGFnaV9uZXh0XCIpLmJlZm9yZShzaW5nbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJCgnLnBhZ2VfaXRlbScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmh0bWwoKSA9PSBjdXJyZW50UGFnZSkge1xuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPj0gNCAmJiBjb2xsZWN0ZWRUb3RhbCA+IDYpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPj0gY29sbGVjdGVkVG90YWwgLSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJCgnLnBhZ2knKS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vd1BhZ2UgPSBjb2xsZWN0ZWRUb3RhbCAtIDUgKyBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnBhZ2knKVtpXS5pbm5lckhUTUwgPSBub3dQYWdlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgJCgnLnBhZ2knKS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vd1BhZ2VPdGhlciA9IGN1cnJlbnRQYWdlIC0gMyArIGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcucGFnaScpW2pdLmlubmVySFRNTCA9IG5vd1BhZ2VPdGhlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyDmr4/kuIDpobVcbiAgICAgICAgJCgnLnBhZ2VfaXRlbScpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHBhZ2VJdGVtID0gJCh0aGlzKS5odG1sKCk7XG4gICAgICAgICAgICByZWxvYWRQYWdlRnVuKHBhZ2VJdGVtKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8g5bem5Y+z57+76aG1XG4gICAgICAgICQoJyNwYWdpX3ByZXYsICNwYWdpX25leHQnKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignaWQnKSA9PSAncGFnaV9wcmV2Jykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlIC0tO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgKys7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlIDw9IDApIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA+PSBjb2xsZWN0ZWRUb3RhbCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gY29sbGVjdGVkVG90YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWxvYWRQYWdlRnVuKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVsb2FkUGFnZUZ1bihwYXJhbSl7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2NvbGxlY3Q/cGFnZT0nKyBwYXJhbTtcbiAgICB9XG59KTsiXX0=
