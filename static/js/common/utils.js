function num2Chinese(t){t=String(t);var e="千百十亿千百十万千百十 ",n="";e=e.substr(e.length-t.length);for(var r=0;r<t.length;r++)n+=" 一二三四五六七八九".charAt(t.charAt(r))+e.charAt(r);return 2==t.length&&"1"==t.charAt(0)&&(n=n.substr(1,n.length)),$.trim(n)}function hideTableCol(t,e){th=t.find("thead th[value='"+e+"']"),th.hide(),t.find("tbody tr").each(function(){$(this).find("td:eq("+th.index()+")").hide()})}function showTableCol(t,e){th=t.find("thead th[value='"+e+"']"),th.show(),t.find("tbody tr").each(function(){$(this).find("td:eq("+th.index()+")").show()})}function fillChart(t,e){var n=echarts.init(document.getElementById(t));e&&"object"==typeof e&&n.setOption(e,!0),window.addEventListener("resize",function(){n.resize()})}function tableScrollFun(){$(".table-border").scroll(function(t){var e=t||window.event;e.preventDefault();var n=$(this).scrollLeft();$("table th").eq(0).css("left",n),$("table th").eq(1).css("left",n).addClass("box-shadow"),$("table td:nth-child(1)").css("left",n),$("table td:nth-child(2)").css("left",n).addClass("box-shadow"),0===Number($(this).scrollLeft())&&($("table th").eq(1).removeClass("box-shadow"),$("table td:nth-child(2)").removeClass("box-shadow"))})}function setTbaleWidth(){$("tr").each(function(){if($(this).width()<$(".table-border").width()){var t=$(".checkbox-list input:checked").length;t<=0&&(t=$("th:visible").length),$("tr td, tr th").width($(".table-border").width()/t)}})}function getCookie(t){var e=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var i=jQuery.trim(n[r]);if(i.substring(0,t.length+1)===t+"="){e=decodeURIComponent(i.substring(t.length+1));break}}return e}function csrfSafeMethod(t){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(t)}function setupCSRF(){var t=getCookie("csrftoken");$.ajaxSetup({beforeSend:function(e,n){csrfSafeMethod(n.type)||this.crossDomain||e.setRequestHeader("X-CSRFToken",t)}})}function nodoubletapzoom(){var t=/iphone|ipad/i.test(navigator.userAgent);t&&$(this).bind("touchstart",function(t){var e=t.timeStamp,n=$(this).data("lastTouch")||e,r=e-n,i=t.originalEvent.touches.length;$(this).data("lastTouch",e),!r||r>500||i>1||(t.preventDefault(),$(this).trigger("click").trigger("click"))})}function utf8CodeToChineseChar(t){var e,n,r;return e=parseInt("0x"+t.substr(1,2)),n=parseInt("0x"+t.substr(4,2)),r=parseInt("0x"+t.substr(7,2)),String.fromCharCode((15&e)<<12|(63&n)<<6|63&r)}function chineseFromUtf8Url(t){var e="",n=0;if(""===t)return"";if(t=t.toLowerCase(),n=t.indexOf("%e"),n===-1)return t;for(;n!=-1;){if(e+=t.substr(0,n),t=t.substr(n,t.length-n),""===t||t.length<9)return e;e+=utf8CodeToChineseChar(t.substr(0,9)),t=t.substr(9,t.length-9),n=t.indexOf("%e")}return e+t}function intPad(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi91dGlscy5qcyJdLCJuYW1lcyI6WyJudW0yQ2hpbmVzZSIsIm4iLCJTdHJpbmciLCJ1bml0Iiwic3RyIiwic3Vic3RyIiwibGVuZ3RoIiwiaSIsImNoYXJBdCIsIiQiLCJ0cmltIiwiaGlkZVRhYmxlQ29sIiwidGFibGUiLCJjb2xOYW1lIiwidGgiLCJmaW5kIiwiaGlkZSIsImVhY2giLCJ0aGlzIiwiaW5kZXgiLCJzaG93VGFibGVDb2wiLCJzaG93IiwiZmlsbENoYXJ0IiwiZWxlbWVudE5hbWUiLCJvcHRpb24iLCJkYXRhQ2hhcnQiLCJlY2hhcnRzIiwiaW5pdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzZXRPcHRpb24iLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVzaXplIiwidGFibGVTY3JvbGxGdW4iLCJzY3JvbGwiLCJldmVudCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl9sZWZ0Iiwic2Nyb2xsTGVmdCIsImVxIiwiY3NzIiwiYWRkQ2xhc3MiLCJOdW1iZXIiLCJyZW1vdmVDbGFzcyIsInNldFRiYWxlV2lkdGgiLCJ3aWR0aCIsImxlbiIsImdldENvb2tpZSIsIm5hbWUiLCJjb29raWVWYWx1ZSIsImNvb2tpZSIsImNvb2tpZXMiLCJzcGxpdCIsImpRdWVyeSIsInN1YnN0cmluZyIsImRlY29kZVVSSUNvbXBvbmVudCIsImNzcmZTYWZlTWV0aG9kIiwibWV0aG9kIiwidGVzdCIsInNldHVwQ1NSRiIsImNzcmZ0b2tlbiIsImFqYXhTZXR1cCIsImJlZm9yZVNlbmQiLCJ4aHIiLCJzZXR0aW5ncyIsInR5cGUiLCJjcm9zc0RvbWFpbiIsInNldFJlcXVlc3RIZWFkZXIiLCJub2RvdWJsZXRhcHpvb20iLCJJU19JT1MiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJiaW5kIiwidDIiLCJ0aW1lU3RhbXAiLCJ0MSIsImRhdGEiLCJkdCIsImZpbmdlcnMiLCJvcmlnaW5hbEV2ZW50IiwidG91Y2hlcyIsInRyaWdnZXIiLCJ1dGY4Q29kZVRvQ2hpbmVzZUNoYXIiLCJzdHJVdGY4IiwiaUNvZGUiLCJpQ29kZTEiLCJpQ29kZTIiLCJwYXJzZUludCIsImZyb21DaGFyQ29kZSIsImNoaW5lc2VGcm9tVXRmOFVybCIsImJzdHIiLCJuT2Zmc2V0IiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwiaW50UGFkIiwibnVtIiwic2l6ZSIsInMiXSwibWFwcGluZ3MiOiJBQUFBLFFBQVNBLGFBQVlDLEdBQ2pCQSxFQUFJQyxPQUFPRCxFQUNYLElBQUlFLEdBQU8sZUFBZ0JDLEVBQU0sRUFDakNELEdBQU9BLEVBQUtFLE9BQU9GLEVBQUtHLE9BQVNMLEVBQUVLLE9BQ25DLEtBQUssR0FBSUMsR0FBRSxFQUFHQSxFQUFJTixFQUFFSyxPQUFRQyxJQUN4QkgsR0FBTyxhQUFhSSxPQUFPUCxFQUFFTyxPQUFPRCxJQUFNSixFQUFLSyxPQUFPRCxFQUsxRCxPQUhnQixJQUFaTixFQUFFSyxRQUE4QixLQUFmTCxFQUFFTyxPQUFPLEtBQzFCSixFQUFNQSxFQUFJQyxPQUFPLEVBQUdELEVBQUlFLFNBRXJCRyxFQUFFQyxLQUFLTixHQUdsQixRQUFTTyxjQUFhQyxFQUFPQyxHQUN6QkMsR0FBS0YsRUFBTUcsS0FBSyxtQkFBb0JGLEVBQVMsTUFDN0NDLEdBQUdFLE9BQ0hKLEVBQU1HLEtBQUssWUFBWUUsS0FBSyxXQUN4QlIsRUFBRVMsTUFBTUgsS0FBSyxTQUFVRCxHQUFHSyxRQUFTLEtBQUtILFNBSWhELFFBQVNJLGNBQWFSLEVBQU9DLEdBQ3pCQyxHQUFLRixFQUFNRyxLQUFLLG1CQUFvQkYsRUFBUyxNQUM3Q0MsR0FBR08sT0FDSFQsRUFBTUcsS0FBSyxZQUFZRSxLQUFLLFdBQ3hCUixFQUFFUyxNQUFNSCxLQUFLLFNBQVVELEdBQUdLLFFBQVMsS0FBS0UsU0FJaEQsUUFBU0MsV0FBVUMsRUFBYUMsR0FDNUIsR0FBSUMsR0FBWUMsUUFBUUMsS0FBS0MsU0FBU0MsZUFBZU4sR0FDakRDLElBQTRCLGdCQUFYQSxJQUNqQkMsRUFBVUssVUFBVU4s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UVUsUUFBUSxNQUN2QkYsT0FDRCxNQUFPUixFQUNULE1BQU1RLE9BQWUsQ0FHbkIsR0FGQUQsR0FBUVAsRUFBUWhGLE9BQU8sRUFBR3dGLEdBQzFCUixFQUFVQSxFQUFRaEYsT0FBT3dGLEVBQVNSLEVBQVEvRSxPQUFTdUYsR0FDcEMsS0FBWlIsR0FBa0JBLEVBQVEvRSxPQUFTLEVBQ2xDLE1BQU9zRixFQUNYQSxJQUFRUixzQkFBc0JDLEVBQVFoRixPQUFPLEVBQUcsSUFDaERnRixFQUFVQSxFQUFRaEYsT0FBTyxFQUFHZ0YsRUFBUS9FLE9BQVMsR0FDN0N1RixFQUFVUixFQUFRVSxRQUFRLE1BRTVCLE1BQU9ILEdBQU9QLEVBR2xCLFFBQVNXLFFBQU9DLEVBQUtDLEdBRWpCLElBREEsR0FBSUMsR0FBSUYsRUFBSSxHQUNMRSxFQUFFN0YsT0FBUzRGLEdBQU1DLEVBQUksSUFBTUEsQ0FDbEMsT0FBT0EiLCJmaWxlIjoiY29tbW9uL3V0aWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbnVtMkNoaW5lc2Uobil7XG4gICAgbiA9IFN0cmluZyhuKTtcbiAgICB2YXIgdW5pdCA9IFwi5Y2D55m+5Y2B5Lq/5Y2D55m+5Y2B5LiH5Y2D55m+5Y2BIFwiLCBzdHIgPSBcIlwiO1xuICAgIHVuaXQgPSB1bml0LnN1YnN0cih1bml0Lmxlbmd0aCAtIG4ubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpPTA7IGkgPCBuLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgc3RyICs9ICcg5LiA5LqM5LiJ5Zub5LqU5YWt5LiD5YWr5LmdJy5jaGFyQXQobi5jaGFyQXQoaSkpICsgdW5pdC5jaGFyQXQoaSk7XG4gICAgfVxuICAgIGlmIChuLmxlbmd0aCA9PSAyICYmIG4uY2hhckF0KDApID09IFwiMVwiKXtcbiAgICAgICAgc3RyID0gc3RyLnN1YnN0cigxLCBzdHIubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuICQudHJpbShzdHIpO1xufVxuXG5mdW5jdGlvbiBoaWRlVGFibGVDb2wodGFibGUsIGNvbE5hbWUpe1xuICAgIHRoID0gdGFibGUuZmluZChcInRoZWFkIHRoW3ZhbHVlPSdcIisgY29sTmFtZSArXCInXVwiKTtcbiAgICB0aC5oaWRlKCk7XG4gICAgdGFibGUuZmluZChcInRib2R5IHRyXCIpLmVhY2goZnVuY3Rpb24oKXtcbiAgICAgICAgJCh0aGlzKS5maW5kKFwidGQ6ZXEoXCIrIHRoLmluZGV4KCkgK1wiKVwiKS5oaWRlKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHNob3dUYWJsZUNvbCh0YWJsZSwgY29sTmFtZSl7XG4gICAgdGggPSB0YWJsZS5maW5kKFwidGhlYWQgdGhbdmFsdWU9J1wiKyBjb2xOYW1lICtcIiddXCIpO1xuICAgIHRoLnNob3coKTtcbiAgICB0YWJsZS5maW5kKFwidGJvZHkgdHJcIikuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAkKHRoaXMpLmZpbmQoXCJ0ZDplcShcIisgdGguaW5kZXgoKSArXCIpXCIpLnNob3coKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZmlsbENoYXJ0KGVsZW1lbnROYW1lLCBvcHRpb24pIHtcbiAgICB2YXIgZGF0YUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnROYW1lKSk7XG4gICAgaWYgKG9wdGlvbiAmJiB0eXBlb2Ygb3B0aW9uID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGRhdGFDaGFydC5zZXRPcHRpb24ob3B0aW9uLCB0cnVlKTtcbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixmdW5jdGlvbigpe1xuICAgICAgICBkYXRhQ2hhcnQucmVzaXplKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHRhYmxlU2Nyb2xsRnVuKCkge1xuICAgICQoJy50YWJsZS1ib3JkZXInKS5zY3JvbGwoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGUgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIF9sZWZ0ID0gJCh0aGlzKS5zY3JvbGxMZWZ0KCk7XG4gICAgICAgICQoJ3RhYmxlIHRoJykuZXEoMCkuY3NzKCdsZWZ0JywgX2xlZnQpO1xuICAgICAgICAkKCd0YWJsZSB0aCcpLmVxKDEpLmNzcygnbGVmdCcsIF9sZWZ0KS5hZGRDbGFzcygnYm94LXNoYWRvdycpO1xuICAgICAgICAkKCd0YWJsZSB0ZDpudGgtY2hpbGQoMSknKS5jc3MoJ2xlZnQnLCBfbGVmdCk7XG4gICAgICAgICQoJ3RhYmxlIHRkOm50aC1jaGlsZCgyKScpLmNzcygnbGVmdCcsIF9sZWZ0KS5hZGRDbGFzcygnYm94LXNoYWRvdycpO1xuICAgICAgICBpZiAoTnVtYmVyKCQodGhpcykuc2Nyb2xsTGVmdCgpKSA9PT0gMCkge1xuICAgICAgICAgICAgJCgndGFibGUgdGgnKS5lcSgxKS5yZW1vdmVDbGFzcygnYm94LXNoYWRvdycpO1xuICAgICAgICAgICAgJCgndGFibGUgdGQ6bnRoLWNoaWxkKDIpJykucmVtb3ZlQ2xhc3MoJ2JveC1zaGFkb3cnKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRUYmFsZVdpZHRoKCl7XG4gICAgJCgndHInKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS53aWR0aCgpIDwgJCgnLnRhYmxlLWJvcmRlcicpLndpZHRoKCkpIHtcbiAgICAgICAgICAgIHZhciBsZW4gPSAkKCcuY2hlY2tib3gtbGlzdCBpbnB1dDpjaGVja2VkJykubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlbiA8PSAwKSB7XG4gICAgICAgICAgICAgICAgbGVuID0gJCgndGg6dmlzaWJsZScpLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoJ3RyIHRkLCB0ciB0aCcpLndpZHRoKCQoJy50YWJsZS1ib3JkZXInKS53aWR0aCgpL2xlbik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpIHtcbiAgICB2YXIgY29va2llVmFsdWUgPSBudWxsO1xuICAgIGlmIChkb2N1bWVudC5jb29raWUgJiYgZG9jdW1lbnQuY29va2llICE9PSAnJykge1xuICAgICAgICB2YXIgY29va2llcyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOycpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvb2tpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb29raWUgPSBqUXVlcnkudHJpbShjb29raWVzW2ldKTtcbiAgICAgICAgICAgIC8vIERvZXMgdGhpcyBjb29raWUgc3RyaW5nIGJlZ2luIHdpdGggdGhlIG5hbWUgd2Ugd2FudD9cbiAgICAgICAgICAgIGlmIChjb29raWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoICsgMSkgPT09IChuYW1lICsgJz0nKSkge1xuICAgICAgICAgICAgICAgIGNvb2tpZVZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcobmFtZS5sZW5ndGggKyAxKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvb2tpZVZhbHVlO1xufVxuXG5mdW5jdGlvbiBjc3JmU2FmZU1ldGhvZChtZXRob2QpIHtcbiAgICAvLyB0aGVzZSBIVFRQIG1ldGhvZHMgZG8gbm90IHJlcXVpcmUgQ1NSRiBwcm90ZWN0aW9uXG4gICAgcmV0dXJuICgvXihHRVR8SEVBRHxPUFRJT05TfFRSQUNFKSQvLnRlc3QobWV0aG9kKSk7XG59XG5cblxuZnVuY3Rpb24gc2V0dXBDU1JGKCkge1xuICAgIHZhciBjc3JmdG9rZW4gPSBnZXRDb29raWUoJ2NzcmZ0b2tlbicpO1xuICAgICQuYWpheFNldHVwKHtcbiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyLCBzZXR0aW5ncykge1xuICAgICAgICAgICAgaWYgKCFjc3JmU2FmZU1ldGhvZChzZXR0aW5ncy50eXBlKSAmJiAhdGhpcy5jcm9zc0RvbWFpbikge1xuICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiWC1DU1JGVG9rZW5cIiwgY3NyZnRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBub2RvdWJsZXRhcHpvb20oKSB7XG4gICAgdmFyIElTX0lPUyA9IC9pcGhvbmV8aXBhZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgaWYgKElTX0lPUylcbiAgICAgICQodGhpcykuYmluZCgndG91Y2hzdGFydCcsIGZ1bmN0aW9uIHByZXZlbnRab29tKGUpIHtcbiAgICAgICAgdmFyIHQyID0gZS50aW1lU3RhbXA7XG4gICAgICAgIHZhciB0MSA9ICQodGhpcykuZGF0YSgnbGFzdFRvdWNoJykgfHwgdDI7XG4gICAgICAgIHZhciBkdCA9IHQyIC0gdDE7XG4gICAgICAgIHZhciBmaW5nZXJzID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoO1xuICAgICAgICAkKHRoaXMpLmRhdGEoJ2xhc3RUb3VjaCcsIHQyKTtcbiAgICAgICAgaWYgKCFkdCB8fCBkdCA+IDUwMCB8fCBmaW5nZXJzID4gMSkgcmV0dXJuO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICQodGhpcykudHJpZ2dlcignY2xpY2snKS50cmlnZ2VyKCdjbGljaycpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB1dGY4Q29kZVRvQ2hpbmVzZUNoYXIoc3RyVXRmOCkgeyBcbiAgICB2YXIgaUNvZGUsaUNvZGUxLGlDb2RlMjsgXG4gICAgaUNvZGUgPSBwYXJzZUludChcIjB4XCIgKyBzdHJVdGY4LnN1YnN0cigxLDIpKTsgXG4gICAgaUNvZGUxID0gcGFyc2VJbnQoXCIweFwiICsgc3RyVXRmOC5zdWJzdHIoNCwyKSk7IFxuICAgIGlDb2RlMiA9IHBhcnNlSW50KFwiMHhcIiArIHN0clV0Zjguc3Vic3RyKDcsMikpOyBcbiAgICBcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGlDb2RlICYgMHgwRikgPDwgMTIpIHwgKChpQ29kZTEgJiAweDNGKSA8PCA2KSB8IChpQ29kZTIgJiAweDNGKSk7IFxufSBcbmZ1bmN0aW9uIGNoaW5lc2VGcm9tVXRmOFVybChzdHJVdGY4KSB7IFxuICAgIHZhciBic3RyID0gXCJcIjsgXG4gICAgdmFyIG5PZmZzZXQgPSAwOyAvLyAgIHByb2Nlc3NpbmcgICBwb2ludCAgIG9uICAgc3RyVXRmOCBcbiAgICBpZihzdHJVdGY4ID09PSBcIlwiKSBcbiAgICAgIHJldHVybiBcIlwiOyBcbiAgICBzdHJVdGY4ID0gc3RyVXRmOC50b0xvd2VyQ2FzZSgpOyBcbiAgICBuT2Zmc2V0ID0gc3RyVXRmOC5pbmRleE9mKFwiJWVcIik7IFxuICAgIGlmKG5PZmZzZXQgPT09ICAtMSkgXG4gICAgICByZXR1cm4gc3RyVXRmODsgXG4gICAgd2hpbGUobk9mZnNldCAhPSAtMSkgeyBcbiAgICAgIGJzdHIgKz0gc3RyVXRmOC5zdWJzdHIoMCwgbk9mZnNldCk7IFxuICAgICAgc3RyVXRmOCA9IHN0clV0Zjguc3Vic3RyKG5PZmZzZXQsIHN0clV0ZjgubGVuZ3RoIC0gbk9mZnNldCk7IFxuICAgICAgaWYoc3RyVXRmOCA9PT0gXCJcIiB8fCBzdHJVdGY4Lmxlbmd0aCA8IDkpICAgICAgIC8vICAgYmFkICAgc3RyaW5nIFxuICAgICAgICAgIHJldHVybiBic3RyOyBcbiAgICAgIGJzdHIgKz0gdXRmOENvZGVUb0NoaW5lc2VDaGFyKHN0clV0Zjguc3Vic3RyKDAsIDkpKTsgXG4gICAgICBzdHJVdGY4ID0gc3RyVXRmOC5zdWJzdHIoOSwgc3RyVXRmOC5sZW5ndGggLSA5KTsgXG4gICAgICBuT2Zmc2V0ID0gc3RyVXRmOC5pbmRleE9mKFwiJWVcIik7IFxuICAgIH0gXG4gICAgcmV0dXJuIGJzdHIgKyBzdHJVdGY4OyBcbn0gXG5cbmZ1bmN0aW9uIGludFBhZChudW0sIHNpemUpIHtcbiAgICB2YXIgcyA9IG51bStcIlwiO1xuICAgIHdoaWxlIChzLmxlbmd0aCA8IHNpemUpIHMgPSBcIjBcIiArIHM7XG4gICAgcmV0dXJuIHM7XG59XG5cbiJdfQ==
